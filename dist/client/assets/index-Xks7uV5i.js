const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-C0TzPtb9.js","assets/vendor-DNILJbIb.js"])))=>i.map(i=>d[i]);
var GA=Object.defineProperty;var VA=(e,t,r)=>t in e?GA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var du=(e,t,r)=>VA(e,typeof t!="symbol"?t+"":t,r);import{r as U,a as Np,g as Jw,c as Ar,u as Co,L as Hr,b as At,R as k,d as KA,e as YA,N as Bu,f as jv,h as Nn,B as XA}from"./vendor-DNILJbIb.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Zw={exports:{}},ud={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA=U,ZA=Symbol.for("react.element"),QA=Symbol.for("react.fragment"),ej=Object.prototype.hasOwnProperty,tj=JA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rj={key:!0,ref:!0,__self:!0,__source:!0};function Qw(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)ej.call(t,n)&&!rj.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:ZA,type:e,key:i,ref:s,props:a,_owner:tj.current}}ud.Fragment=QA;ud.jsx=Qw;ud.jsxs=Qw;Zw.exports=ud;var u=Zw.exports,e_,Nv=Np;e_=Nv.createRoot,Nv.hydrateRoot;const nj="modulepreload",aj=function(e){return"/"+e},Pv={},to=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=aj(l),l in Pv)return;Pv[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":nj,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},ij=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>to(async()=>{const{default:n}=await Promise.resolve().then(()=>Do);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Pp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class sj extends Pp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class oj extends Pp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class lj extends Pp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var M0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(M0||(M0={}));var cj=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{c(n.next(f))}catch(d){s(d)}}function l(f){try{c(n.throw(f))}catch(d){s(d)}}function c(f){f.done?i(f.value):a(f.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class uj{constructor(t,{headers:r={},customFetch:n,region:a=M0.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=ij(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return cj(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(o["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(o["Content-Type"]="application/json",c=JSON.stringify(s)));const f=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:c}).catch(g=>{throw new sj(g)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new oj(f);if(!f.ok)throw new lj(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield f.json():h==="application/octet-stream"?m=yield f.blob():h==="text/event-stream"?m=f:h==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null}}catch(a){return{data:null,error:a}}})}}var zr={},kp={},fd={},Lc={},dd={},hd={},fj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ro=fj();const dj=ro.fetch,t_=ro.fetch.bind(ro),r_=ro.Headers,hj=ro.Request,mj=ro.Response,Do=Object.freeze(Object.defineProperty({__proto__:null,Headers:r_,Request:hj,Response:mj,default:t_,fetch:dj},Symbol.toStringTag,{value:"Module"})),pj=Jw(Do);var md={};Object.defineProperty(md,"__esModule",{value:!0});let gj=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};md.default=gj;var n_=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hd,"__esModule",{value:!0});const vj=n_(pj),xj=n_(md);let yj=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=vj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,o,l;let c=null,f=null,d=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=b:f=JSON.parse(b))}const p=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");p&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,m="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const p=await i.text();try{c=JSON.parse(p),Array.isArray(c)&&i.status===404&&(f=[],c=null,h=200,m="OK")}catch{i.status===404&&p===""?(h=204,m="No Content"):c={message:p}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,m="OK"),c&&this.shouldThrowOnError)throw new xj.default(c)}return{error:c,data:f,count:d,status:h,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var s,o,l;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};hd.default=yj;var bj=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dd,"__esModule",{value:!0});const wj=bj(hd);let _j=class extends wj.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:s="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};dd.default=_j;var Sj=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lc,"__esModule",{value:!0});const Ej=Sj(dd);let Tj=class extends Ej.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Lc.default=Tj;var Oj=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fd,"__esModule",{value:!0});const ol=Oj(Lc);let Aj=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new ol.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const s=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new ol.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(l.length>0){const c=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new ol.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new ol.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ol.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};fd.default=Aj;var pd={},gd={};Object.defineProperty(gd,"__esModule",{value:!0});gd.version=void 0;gd.version="0.0.0-automated";Object.defineProperty(pd,"__esModule",{value:!0});pd.DEFAULT_HEADERS=void 0;const jj=gd;pd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${jj.version}`};var a_=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kp,"__esModule",{value:!0});const Nj=a_(fd),Pj=a_(Lc),kj=pd;let Cj=class i_{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},kj.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new Nj.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new i_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${t}`);let l;n||a?(s=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{o.searchParams.append(f,d)})):(s="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Pj.default({method:s,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};kp.default=Cj;var Mo=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zr,"__esModule",{value:!0});zr.PostgrestError=zr.PostgrestBuilder=zr.PostgrestTransformBuilder=zr.PostgrestFilterBuilder=zr.PostgrestQueryBuilder=zr.PostgrestClient=void 0;const s_=Mo(kp);zr.PostgrestClient=s_.default;const o_=Mo(fd);zr.PostgrestQueryBuilder=o_.default;const l_=Mo(Lc);zr.PostgrestFilterBuilder=l_.default;const c_=Mo(dd);zr.PostgrestTransformBuilder=c_.default;const u_=Mo(hd);zr.PostgrestBuilder=u_.default;const f_=Mo(md);zr.PostgrestError=f_.default;var Dj=zr.default={PostgrestClient:s_.default,PostgrestQueryBuilder:o_.default,PostgrestFilterBuilder:l_.default,PostgrestTransformBuilder:c_.default,PostgrestBuilder:u_.default,PostgrestError:f_.default};const{PostgrestClient:Mj,PostgrestQueryBuilder:Kue,PostgrestFilterBuilder:Yue,PostgrestTransformBuilder:Xue,PostgrestBuilder:Jue,PostgrestError:Zue}=Dj,Ij="2.11.2",$j={"X-Client-Info":`realtime-js/${Ij}`},Fj="1.0.0",d_=1e4,Rj=1e3;var Gs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gs||(Gs={}));var tn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(tn||(tn={}));var Mn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Mn||(Mn={}));var I0;(function(e){e.websocket="websocket"})(I0||(I0={}));var $i;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})($i||($i={}));class Lj{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+a));s=s+a;const l=n.decode(t.slice(s,s+i));s=s+i;const c=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class h_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tt||(Tt={}));const kv=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,s)=>(i[s]=Bj(s,e,t,a),i),{})},Bj=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?m_(i,s):$0(s)},m_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Hj(t,r)}switch(e){case Tt.bool:return Uj(t);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return Wj(t);case Tt.json:case Tt.jsonb:return zj(t);case Tt.timestamp:return qj(t);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return $0(t);default:return $0(t)}},$0=e=>e,Uj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Wj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Hj=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>m_(t,o))}return e},qj=e=>typeof e=="string"?e.replace(" ","T"):e,p_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Nh{constructor(t,r,n={},a=d_){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Cv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Cv||(Cv={}));class Nl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nl.syncState(this.state,a,i,s),this.pendingDiffs.forEach(l=>{this.state=Nl.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Nl.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(i,(c,f)=>{s[c]||(l[c]=f)}),this.map(s,(c,f)=>{const d=i[c];if(d){const h=f.map(v=>v.presence_ref),m=d.map(v=>v.presence_ref),g=f.filter(v=>m.indexOf(v.presence_ref)<0),p=d.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(o[c]=g),p.length>0&&(l[c]=p)}else o[c]=f}),this.syncDiff(i,{joins:o,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,l)=>{var c;const f=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),f.length>0){const d=t[o].map(m=>m.presence_ref),h=f.filter(m=>d.indexOf(m.presence_ref)<0);t[o].unshift(...h)}n(o,f,l)}),this.map(s,(o,l)=>{let c=t[o];if(!c)return;const f=l.map(d=>d.presence_ref);c=c.filter(d=>f.indexOf(d.presence_ref)<0),t[o]=c,a(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Dv||(Dv={}));var Mv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Mv||(Mv={}));var xa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xa||(xa={}));class Cp{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=tn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Nh(this,Mn.join,this.params,this.timeout),this.rejoinTimer=new h_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mn.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Nl(this),this.broadcastEndpointURL=p_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(f=>t==null?void 0:t(xa.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(xa.CLOSED));const l={},c={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(xa.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,g=[];for(let p=0;p<m;p++){const v=h[p],{filter:{event:b,schema:w,table:x,filter:_}}=v,y=f&&f[p];if(y&&y.event===b&&y.schema===w&&y.table===x&&y.filter===_)g.push(Object.assign(Object.assign({},v),{id:y.id}));else{this.unsubscribe(),t==null||t(xa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(xa.SUBSCRIBED);return}}).receive("error",f=>{t==null||t(xa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=tn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new Nh(this,Mn.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Nh(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:f}=Mn;if(n&&[o,l,c,f].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(m=>m.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(m=>{var g,p,v,b,w,x;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const _=m.id,y=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(y==="*"||(y==null?void 0:y.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(w=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:v,commit_timestamp:b,type:w,errors:x}=g;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:b,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===tn.closed}_isJoined(){return this.state===tn.joined}_isJoining(){return this.state===tn.joining}_isLeaving(){return this.state===tn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Cp.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mn.close,{},t)}_onError(t){this._on(Mn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=kv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=kv(t.columns,t.old_record)),r}}const Gj=()=>{},Vj=typeof WebSocket<"u",Kj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yj{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=$j,this.params={},this.timeout=d_,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Gj,this.conn=null,this.sendBuffer=[],this.serializer=new Lj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>to(async()=>{const{default:l}=await Promise.resolve().then(()=>Do);return{default:l}},void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${t}/${I0.websocket}`,this.httpEndpoint=p_(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,s)=>s(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new h_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Vj){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Xj(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),to(async()=>{const{default:t}=await import("./browser-C0TzPtb9.js").then(r=>r.b);return{default:t}},__vite__mapDeps([0,1])).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fj}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Gs.connecting:return $i.Connecting;case Gs.open:return $i.Open;case Gs.closing:return $i.Closing;default:return $i.Closed}}isConnected(){return this.connectionState()===$i.Open}channel(t,r={config:{}}){const n=new Cp(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Mn.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Rj,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:s}=r;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Kj],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Xj{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Gs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Dp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function rr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Jj extends Dp{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class F0 extends Dp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Zj=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{c(n.next(f))}catch(d){s(d)}}function l(f){try{c(n.throw(f))}catch(d){s(d)}}function c(f){f.done?i(f.value):a(f.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const g_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>to(async()=>{const{default:n}=await Promise.resolve().then(()=>Do);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Qj=()=>Zj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield to(()=>Promise.resolve().then(()=>Do),void 0)).Response:Response}),R0=e=>{if(Array.isArray(e))return e.map(r=>R0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=R0(n)}),t};var os=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{c(n.next(f))}catch(d){s(d)}}function l(f){try{c(n.throw(f))}catch(d){s(d)}}function c(f){f.done?i(f.value):a(f.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const Ph=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eN=(e,t,r)=>os(void 0,void 0,void 0,function*(){const n=yield Qj();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new Jj(Ph(a),e.status||500))}).catch(a=>{t(new F0(Ph(a),a))}):t(new F0(Ph(e),e))}),tN=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Bc(e,t,r,n,a,i){return os(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,tN(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>eN(l,o,n))})})}function Wu(e,t,r,n){return os(this,void 0,void 0,function*(){return Bc(e,"GET",t,r,n)})}function Qa(e,t,r,n,a){return os(this,void 0,void 0,function*(){return Bc(e,"POST",t,n,a,r)})}function rN(e,t,r,n,a){return os(this,void 0,void 0,function*(){return Bc(e,"PUT",t,n,a,r)})}function nN(e,t,r,n){return os(this,void 0,void 0,function*(){return Bc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function v_(e,t,r,n,a){return os(this,void 0,void 0,function*(){return Bc(e,"DELETE",t,n,a,r)})}var Ur=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{c(n.next(f))}catch(d){s(d)}}function l(f){try{c(n.throw(f))}catch(d){s(d)}}function c(f){f.done?i(f.value):a(f.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const aN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Iv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iN{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=g_(a)}uploadOrUpdate(t,r,n,a){return Ur(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},Iv),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const c=this._removeEmptyFolders(r),f=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:i,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(rr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ur(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Iv.upsert},a),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:f}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(rr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Ur(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Qa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new Dp("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(rr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ur(this,void 0,void 0,function*(){try{return{data:yield Qa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(rr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ur(this,void 0,void 0,function*(){try{return{data:{path:(yield Qa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(rr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ur(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Qa(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(rr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ur(this,void 0,void 0,function*(){try{const a=yield Qa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(rr(a))return{data:null,error:a};throw a}})}download(t,r){return Ur(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Wu(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(rr(o))return{data:null,error:o};throw o}})}info(t){return Ur(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Wu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:R0(n),error:null}}catch(n){if(rr(n))return{data:null,error:n};throw n}})}exists(t){return Ur(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield nN(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(rr(n)&&n instanceof F0){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return Ur(this,void 0,void 0,function*(){try{return{data:yield v_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(rr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ur(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},aN),r),{prefix:t||""});return{data:yield Qa(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(rr(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const sN="2.7.1",oN={"X-Client-Info":`storage-js/${sN}`};var As=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{c(n.next(f))}catch(d){s(d)}}function l(f){try{c(n.throw(f))}catch(d){s(d)}}function c(f){f.done?i(f.value):a(f.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class lN{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},oN),r),this.fetch=g_(n)}listBuckets(){return As(this,void 0,void 0,function*(){try{return{data:yield Wu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(rr(t))return{data:null,error:t};throw t}})}getBucket(t){return As(this,void 0,void 0,function*(){try{return{data:yield Wu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(rr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return As(this,void 0,void 0,function*(){try{return{data:yield Qa(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(rr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return As(this,void 0,void 0,function*(){try{return{data:yield rN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(rr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return As(this,void 0,void 0,function*(){try{return{data:yield Qa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(rr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return As(this,void 0,void 0,function*(){try{return{data:yield v_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(rr(r))return{data:null,error:r};throw r}})}}class cN extends lN{constructor(t,r={},n){super(t,r,n)}from(t){return new iN(this.url,this.headers,t,this.fetch)}}const uN="2.49.1";let Tl="";typeof Deno<"u"?Tl="deno":typeof document<"u"?Tl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tl="react-native":Tl="node";const fN={"X-Client-Info":`supabase-js-${Tl}/${uN}`},dN={headers:fN},hN={schema:"public"},mN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pN={};var gN=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{c(n.next(f))}catch(d){s(d)}}function l(f){try{c(n.throw(f))}catch(d){s(d)}}function c(f){f.done?i(f.value):a(f.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const vN=e=>{let t;return e?t=e:typeof fetch>"u"?t=t_:t=fetch,(...r)=>t(...r)},xN=()=>typeof Headers>"u"?r_:Headers,yN=(e,t,r)=>{const n=vN(r),a=xN();return(i,s)=>gN(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let c=new a(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},s),{headers:c}))})};var bN=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{c(n.next(f))}catch(d){s(d)}}function l(f){try{c(n.throw(f))}catch(d){s(d)}}function c(f){f.done?i(f.value):a(f.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};function wN(e){return e.replace(/\/$/,"")}function _N(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:s,auth:o,realtime:l,global:c}=t,f={db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},c),i),accessToken:()=>bN(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const x_="2.68.0",Ls=30*1e3,L0=3,kh=L0*Ls,SN="http://localhost:9999",EN="supabase.auth.token",TN={"X-Client-Info":`gotrue-js/${x_}`},B0="X-Supabase-Api-Version",y_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function ON(e){return Math.round(Date.now()/1e3)+e}function AN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Kn=()=>typeof window<"u"&&typeof document<"u",Ai={tested:!1,writable:!1},Pl=()=>{if(!Kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ai.tested)return Ai.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ai.tested=!0,Ai.writable=!0}catch{Ai.tested=!0,Ai.writable=!1}return Ai.writable};function jN(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const b_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>to(async()=>{const{default:n}=await Promise.resolve().then(()=>Do);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},NN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",w_=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},hu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},mu=async(e,t)=>{await e.removeItem(t)};function PN(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,a,i,s,o,l,c,f=0;for(e=e.replace("-","+").replace("_","/");f<e.length;)s=t.indexOf(e.charAt(f++)),o=t.indexOf(e.charAt(f++)),l=t.indexOf(e.charAt(f++)),c=t.indexOf(e.charAt(f++)),n=s<<2|o>>4,a=(o&15)<<4|l>>2,i=(l&3)<<6|c,r=r+String.fromCharCode(n),l!=64&&a!=0&&(r=r+String.fromCharCode(a)),c!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class vd{constructor(){this.promise=new vd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}vd.promiseConstructor=Promise;function $v(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(PN(n))}async function kN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function CN(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function DN(e){return("0"+e.toString(16)).substr(-2)}function MN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,DN).join("")}async function IN(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}function $N(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function FN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await IN(e);return $N(r)}async function js(e,t,r=!1){const n=MN();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await w_(e,`${t}-code-verifier`,a);const i=await FN(n);return[i,n===i?"plain":"s256"]}const RN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LN(e){const t=e.headers.get(B0);if(!t||!t.match(RN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Mp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class BN extends Mp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function UN(e){return Ze(e)&&e.name==="AuthApiError"}class __ extends Mp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ls extends Mp{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Xa extends ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function WN(e){return Ze(e)&&e.name==="AuthSessionMissingError"}class Ch extends ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pu extends ls{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gu extends ls{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zN(e){return Ze(e)&&e.name==="AuthImplicitGrantRedirectError"}class Fv extends ls{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class U0 extends ls{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Dh(e){return Ze(e)&&e.name==="AuthRetryableFetchError"}class Rv extends ls{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var HN=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const ki=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qN=[502,503,504];async function Lv(e){var t;if(!NN(e))throw new U0(ki(e),0);if(qN.includes(e.status))throw new U0(ki(e),e.status);let r;try{r=await e.json()}catch(i){throw new __(ki(i),i)}let n;const a=LN(e);if(a&&a.getTime()>=y_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Rv(ki(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Xa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Rv(ki(r),e.status,r.weak_password.reasons);throw new BN(ki(r),e.status||500,n)}const GN=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function nt(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[B0]||(i[B0]=y_["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await VN(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function VN(e,t,r,n,a,i){const s=GN(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new U0(ki(l),0)}if(o.ok||await Lv(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Lv(l)}}function Ja(e){var t;let r=null;JN(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=ON(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Bv(e){const t=Ja(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ti(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function KN(e){return{data:e,error:null}}function YN(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=HN(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function XN(e){return e}function JN(e){return e.access_token&&e.refresh_token&&e.expires_in}var ZN=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class QN{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=b_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await nt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ti})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ZN(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:YN,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ze(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await nt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ti})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},f=await nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:XN});if(f.error)throw f.error;const d=await f.json(),h=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(l=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=p}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Ze(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await nt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ti})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await nt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ti})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ti})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await nt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}}const eP={getItem:e=>Pl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Pl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Pl()&&globalThis.localStorage.removeItem(e)}};function Uv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function tP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ns={debug:!!(globalThis&&Pl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class S_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class rP extends S_{}async function nP(e,t,r){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new rP(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ns.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}tP();const aP={url:SN,storageKey:EN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:TN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wv(e,t,r){return await r()}class Gl{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gl.nextInstanceID,Gl.nextInstanceID+=1,this.instanceID>0&&Kn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},aP),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new QN({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=b_(a.fetch),this.lock=a.lock||Wv,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Kn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=nP:this.lock=Wv,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Pl()?this.storage=eP:(this.memoryStorage={},this.storage=Uv(this.memoryStorage)):(this.memoryStorage={},this.storage=Uv(this.memoryStorage)),Kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${x_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=jN(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Kn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),zN(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ze(r)?{error:r}:{error:new __("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ja}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Ze(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:f,password:d,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await js(this.storage,this.storageKey)),i=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Ja})}else if("phone"in t){const{phone:f,password:d,options:h}=t;i=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ja})}else throw new pu("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Bv})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Bv})}else throw new pu("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ch}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await hu(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ja});if(await mu(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ch}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(Ze(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ja}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ch}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(Ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:l}=t;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await js(this.storage,this.storageKey));const{error:d}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:f}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f}}throw new pu("You must provide either an email or phone number.")}catch(o){if(Ze(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ja});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(Ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await js(this.storage,this.storageKey)),await nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:KN})}catch(i){if(Ze(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Xa;const{error:a}=await nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Ze(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await nt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await nt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new pu("You must provide either an email or phone number and a type")}catch(r){if(Ze(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await hu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<kh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,f)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,f))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ti}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xa}:await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ti})})}catch(r){if(Ze(r))return WN(r)&&(await this._removeSession(),await mu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Xa;const s=a.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await js(this.storage,this.storageKey));const{data:c,error:f}=await nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:ti});if(f)throw f;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return $v(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xa;const r=Date.now()/1e3;let n=r,a=!0,i=null;const s=$v(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Ze(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Xa;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ze(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Kn())throw new gu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Fv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Fv("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=t;if(!i||!o||!s||!c)throw new gu("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(o);let h=f+d;l&&(h=parseInt(l));const m=h-f;m*1e3<=Ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const g=h-d;f-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,f):f-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,f);const{data:p,error:v}=await this._getUser(i);if(v)throw v;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:d,expires_at:h,refresh_token:s,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(Ze(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await hu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(UN(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await mu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=AN(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await js(this.storage,this.storageKey,!0));try{return await nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Ze(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,l,c,f;const{data:d,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await nt(this.fetch,"GET",m,{headers:this.headers,jwt:(f=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(a)throw a;return Kn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ze(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await nt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await CN(async a=>(a>0&&await kN(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ja})),(a,i)=>{const s=200*Math.pow(2,a);return i&&Dh(i)&&Date.now()+s-n<Ls})}catch(n){if(this._debug(r,"error",n),Ze(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await hu(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<kh;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${kh}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Dh(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Xa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new vd;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new Xa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),Ze(i)){const s={session:null,error:i};return Dh(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await w_(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await mu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ls);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ls}ms, refresh threshold is ${L0} ticks`),a<=L0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof S_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await js(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await nt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await nt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:o}=await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(a.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const f=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:f},error:null}}))}}Gl.nextInstanceID=0;const iP=Gl;class sP extends iP{constructor(t){super(t)}}var oP=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{c(n.next(f))}catch(d){s(d)}}function l(f){try{c(n.throw(f))}catch(d){s(d)}}function c(f){f.done?i(f.value):a(f.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class lP{constructor(t,r,n){var a,i,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=wN(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:hN,realtime:pN,auth:Object.assign(Object.assign({},mN),{storageKey:l}),global:dN},f=_N(n??{},c);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=yN(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Mj(`${o}/rest/v1`,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new uj(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cN(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return oP(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:o,debug:l},c,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sP({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,lock:o,debug:l,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Yj(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cP=(e,t,r)=>new lP(e,t,r),Li=class Li{constructor(){du(this,"logs",[]);du(this,"MAX_LOGS",100)}static getInstance(){return Li.instance||(Li.instance=new Li),Li.instance}addLog(t,r,n,a){const i={timestamp:new Date().toISOString(),level:t,context:r,message:n,data:a};this.logs.unshift(i),this.logs.length>this.MAX_LOGS&&this.logs.pop();try{localStorage.setItem("app_diagnostics",JSON.stringify(this.logs))}catch(s){console.error("Error storing diagnostics:",s)}}info(t,r,n){this.addLog("info",t,r,n)}warn(t,r,n){this.addLog("warn",t,r,n)}error(t,r,n){this.addLog("error",t,r,n)}getLogs(){return this.logs}clearLogs(){this.logs=[],localStorage.removeItem("app_diagnostics")}getDiagnosticReport(){const t={userAgent:navigator.userAgent,language:navigator.language,viewport:`${window.innerWidth}x${window.innerHeight}`,timestamp:new Date().toISOString(),url:window.location.href,env:"production"};return JSON.stringify({environment:t,logs:this.logs},null,2)}};du(Li,"instance");let W0=Li;const tt=W0.getInstance(),E_="https://hdkcvkzchfjlqxbfemsc.supabase.co",uP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhka2N2a3pjaGZqbHF4YmZlbXNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDExMzMzMjEsImV4cCI6MjA1NjcwOTMyMX0.bkyaJNpfO_pD74vnfszkfR2W-SrhA9E3guMkrFS3LQM";tt.info("Supabase","Initializing Supabase client",{url:E_});const ze=cP(E_,uP,{auth:{persistSession:!1}});ze.handleError=e=>(tt.error("Supabase","Request error",e),e);const T_=U.createContext(void 0);function fP({children:e}){const[t,r]=U.useState(null),[n,a]=U.useState(!0),[i,s]=U.useState(!1);U.useEffect(()=>{tt.info("Auth","Initializing AuthProvider");try{const d=localStorage.getItem("user");if(d){const h=JSON.parse(d);h&&h.id&&h.email?(tt.info("Auth","Restored user from localStorage",{userId:h.id}),r(h),s(h.active)):(tt.warn("Auth","Invalid stored user data, clearing"),localStorage.removeItem("user"))}else tt.info("Auth","No stored user found")}catch(d){tt.error("Auth","Error loading stored user",d),localStorage.removeItem("user")}finally{a(!1)}},[]);const f={user:t,loading:n,signIn:async(d,h)=>{tt.info("Auth","Attempting sign in",{email:d});try{const m=d.toLowerCase(),{data:g,error:p}=await ze.from("users").select("*").ilike("email",m).eq("password",h).single();if(p)throw tt.error("Auth","Sign in error",p),new Error("Credenciales inválidas");if(!g)throw tt.warn("Auth","No user found with credentials"),new Error("Credenciales inválidas");if(!g.active)throw tt.warn("Auth","Inactive user attempted login",{userId:g.id}),new Error("Usuario inactivo");const v={id:g.id,email:g.email,role:g.role,active:g.active};tt.info("Auth","Sign in successful",{userId:v.id,role:v.role}),r(v),s(g.active),localStorage.setItem("user",JSON.stringify(v))}catch(m){throw tt.error("Auth","Sign in process failed",m),m}},signUp:async(d,h)=>{tt.info("Auth","Attempting sign up",{email:d});try{const m=d.toLowerCase(),g=crypto.randomUUID(),{error:p}=await ze.from("users").insert([{id:g,email:m,password:h,active:!0,role:"user",max_monthly_events:1e3,max_products:2,events_count:0}]);if(p)throw tt.error("Auth","Error creating user",p),p.code==="23505"?new Error("El email ya está registrado"):p;const{data:v,error:b}=await ze.from("users").select("*").eq("id",g).single();if(b||!v)throw tt.error("Auth","Error fetching new user",b),new Error("Error al crear el usuario");const w={id:v.id,email:v.email,role:v.role,active:v.active};tt.info("Auth","Sign up successful",{userId:w.id}),r(w),s(!0),localStorage.setItem("user",JSON.stringify(w)),await ze.from("user_settings").insert([{user_id:g,timezone:"UTC",notification_preferences:{email:!0,in_app:!0}}])}catch(m){throw tt.error("Auth","Sign up process failed",m),m}},signOut:()=>{tt.info("Auth","Signing out",{userId:t==null?void 0:t.id}),r(null),s(!1),localStorage.removeItem("user")},isActive:i};return u.jsx(T_.Provider,{value:f,children:e})}function Ia(){const e=U.useContext(T_);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ue=(e,t)=>{const r=U.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},f)=>U.createElement("svg",{ref:f,...dP,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${hP(e)}`,o].join(" "),...c},[...t.map(([d,h])=>U.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=Ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=Ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=Ue("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=Ue("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=Ue("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=Ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=Ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=Ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=Ue("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=Ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Ue("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=Ue("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=Ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=Ue("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=Ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=Ue("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=Ue("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=Ue("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Ue("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=Ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=Ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=Ue("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=Ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=Ue("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=Ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=Ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=Ue("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=Ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=Ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=Ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=Ue("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=Ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=Ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=Ue("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Ue("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function AP(){const{signIn:e,signUp:t}=Ia(),r=Co(),[n,a]=U.useState(""),[i,s]=U.useState(""),[o,l]=U.useState(""),[c,f]=U.useState(!1),[d,h]=U.useState(!1),m=async g=>{g.preventDefault(),f(!0),l("");try{d?await t(n,i):await e(n,i),r("/")}catch(p){console.error("Auth error:",p),l(p instanceof Error?p.message:"Error en la autenticación")}finally{f(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-r from-indigo-600 to-purple-600 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-xl",children:[u.jsxs("div",{children:[u.jsx("div",{className:"flex justify-center",children:u.jsx(xd,{className:"h-12 w-12 text-indigo-600"})}),u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"HotAPI"}),u.jsx("p",{className:"text-center text-sm text-gray-600",children:"by Automscc"}),u.jsx("h3",{className:"mt-4 text-center text-xl font-bold text-gray-900",children:d?"Crear una cuenta":"Iniciar sesión"})]}),o&&u.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-red-700",children:o})})]})}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[u.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Correo electrónico"}),u.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:g=>a(g.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Correo electrónico"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"sr-only",children:"Contraseña"}),u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:d?"new-password":"current-password",required:!0,value:i,onChange:g=>s(g.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Contraseña"})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:c?"Procesando...":d?"Crear cuenta":"Iniciar sesión"})})]})]})})}function jP(){const{user:e,signOut:t}=Ia(),[r,n]=U.useState([]),[a,i]=U.useState(null),[s,o]=U.useState(!0),[l,c]=U.useState(null),[f,d]=U.useState(null),[h,m]=U.useState(!1),[g,p]=U.useState("today"),[v,b]=U.useState(!1);U.useEffect(()=>{e!=null&&e.id&&(x(),w())},[e==null?void 0:e.id,g]);async function w(){try{if(m(!0),!(e!=null&&e.id))return;const N=new Date;let j;switch(g){case"today":j=new Date(N.getFullYear(),N.getMonth(),N.getDate(),0,0,0);break;case"3days":j=new Date(N),j.setDate(N.getDate()-3),j.setHours(0,0,0,0);break;case"7days":j=new Date(N),j.setDate(N.getDate()-7),j.setHours(0,0,0,0);break}const D=new Date(N.getFullYear(),N.getMonth(),N.getDate(),23,59,59,999),{data:L}=await ze.from("users").select("role").eq("id",e.id).single();let q=[];if((L==null?void 0:L.role)==="admin"){const{data:ee}=await ze.from("products").select("id");q=(ee==null?void 0:ee.map(_e=>_e.id))||[]}else{const{data:ee}=await ze.from("products").select("id").eq("user_id",e.id);q=(ee==null?void 0:ee.map(_e=>_e.id))||[]}if(q.length===0){d({totalVisits:0,uniqueVisits:0,totalClicks:0,uniqueClicks:0,totalPurchases:0,conversionRate:0,uniqueConversionRate:0,persuasionRate:0,uniquePersuasionRate:0});return}const{data:H,error:K}=await ze.from("tracking_events").select("id, event_type, visitor_id, session_id, created_at, product_id").in("product_id",q).gte("created_at",j.toISOString()).lte("created_at",D.toISOString()).order("created_at",{ascending:!0});if(K){console.error("Error fetching tracking events:",K);return}if(!H||H.length===0){d({totalVisits:0,uniqueVisits:0,totalClicks:0,uniqueClicks:0,totalPurchases:0,conversionRate:0,uniqueConversionRate:0,persuasionRate:0,uniquePersuasionRate:0});return}const Q=new Set,fe=new Set;let se=0,ve=0,Oe=0;H.forEach(ee=>{switch(ee.event_type){case"pageview":se++,Q.add(ee.visitor_id);break;case"hotmart_click":ve++,fe.add(ee.visitor_id);break;case"compra_hotmart":Oe++;break;case"compra_hotmart_orderbump":Oe++;break}});const M=se>0?Oe/se*100:0,z=Q.size>0?Oe/Q.size*100:0,W=se>0?ve/se*100:0,I=Q.size>0?fe.size/Q.size*100:0;d({totalVisits:se,uniqueVisits:Q.size,totalClicks:ve,uniqueClicks:fe.size,totalPurchases:Oe,conversionRate:M,uniqueConversionRate:z,persuasionRate:W,uniquePersuasionRate:I})}catch(N){console.error("Error loading tracking metrics:",N)}finally{m(!1)}}async function x(){try{if(tt.info("Dashboard","Loading dashboard data",{userId:e==null?void 0:e.id}),o(!0),c(null),!(e!=null&&e.id))throw new Error("Usuario no autenticado");const{data:N,error:j}=await ze.from("users").select(`
          events_count,
          max_monthly_events,
          max_products,
          role,
          products:products(count)
        `).eq("id",e.id).single();if(j)throw tt.error("Dashboard","Error loading usage stats",j),new Error("Error cargando estadísticas de uso");tt.info("Dashboard","Usage stats loaded",N),i({eventsCount:N.events_count,maxMonthlyEvents:N.max_monthly_events,productsCount:N.products[0].count,maxProducts:N.max_products});const D=ze.from("products").select("*").order("created_at",{ascending:!1});N.role!=="admin"&&D.eq("user_id",e.id);const{data:L,error:q}=await D;if(q)throw tt.error("Dashboard","Error loading products",q),new Error("Error cargando productos");tt.info("Dashboard","Products loaded",{count:L==null?void 0:L.length}),n(L||[])}catch(N){tt.error("Dashboard","Error in loadData",N),c(N instanceof Error?N.message:"Error cargando el dashboard")}finally{o(!1)}}const _=N=>{switch(N){case"today":return"Hoy";case"3days":return"Últimos 3 días";case"7days":return"Últimos 7 días";default:return"Hoy"}};if(s)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})});if(l)return u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx(Er,{className:"h-5 w-5 text-red-400"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm text-red-700",children:l}),u.jsx("button",{onClick:x,className:"mt-2 text-sm text-red-700 underline hover:text-red-800",children:"Intentar nuevamente"})]})]})}),u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:()=>{tt.info("Dashboard","Downloading diagnostic report");const N=tt.getDiagnosticReport(),j=new Blob([N],{type:"application/json"}),D=URL.createObjectURL(j),L=document.createElement("a");L.href=D,L.download="diagnostic-report.json",document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(D)},className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Descargar Reporte de Diagnóstico"})})]});const y=a?a.eventsCount/a.maxMonthlyEvents*100:0,E=a?a.productsCount/a.maxProducts*100:0,S=y>=80,A=y>=100,T=a?a.productsCount>=a.maxProducts:!1;return u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Métricas de Tracking"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex space-x-2",children:["today","3days","7days"].map(N=>u.jsx("button",{onClick:()=>p(N),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g===N?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:_(N)},N))}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:v,onChange:()=>b(!v),className:"sr-only peer"}),u.jsx("div",{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 
                peer-checked:after:translate-x-5 peer-checked:after:border-white after:content-[''] 
                after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 
                after:border after:rounded-full after:h-5 after:w-5 after:transition-all 
                peer-checked:bg-indigo-600`}),u.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:v?"Únicos":"Totales"})]})]})]}),h?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((N,j)=>u.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),u.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})},j))}):f?u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-2 bg-blue-100 rounded",children:u.jsx(j_,{className:"h-6 w-6 text-blue-600"})}),u.jsxs("div",{className:"ml-4 flex-1",children:[u.jsxs("p",{className:"text-sm font-medium text-gray-500",children:["Visitas ",v?"Únicas":"Totales"]}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:v?f.uniqueVisits.toLocaleString():f.totalVisits.toLocaleString()}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tasa base de tráfico"})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-2 bg-green-100 rounded",children:u.jsx(Hu,{className:"h-6 w-6 text-green-600"})}),u.jsxs("div",{className:"ml-4 flex-1",children:[u.jsxs("p",{className:"text-sm font-medium text-gray-500",children:["Pagos Iniciados ",v?"Únicos":"Totales"]}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:v?f.uniqueClicks.toLocaleString():f.totalClicks.toLocaleString()}),u.jsxs("p",{className:"text-xs text-green-600 mt-1 font-medium",children:[(v?f.uniquePersuasionRate:f.persuasionRate).toFixed(2),"% tasa de persuasión"]})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-2 bg-purple-100 rounded",children:u.jsx(zu,{className:"h-6 w-6 text-purple-600"})}),u.jsxs("div",{className:"ml-4 flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Compras Completadas"}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:f.totalPurchases.toLocaleString()}),u.jsxs("p",{className:"text-xs text-purple-600 mt-1 font-medium",children:[(v?f.uniqueConversionRate:f.conversionRate).toFixed(2),"% tasa de conversión"]})]})]})})]}):u.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:u.jsx("p",{className:"text-gray-500",children:"No hay datos de tracking disponibles para el período seleccionado"})})]}),a&&u.jsxs("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Uso de Eventos"}),u.jsx(xd,{className:"h-5 w-5 text-gray-400"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-900 mb-1",children:[u.jsxs("span",{children:[a.eventsCount.toLocaleString()," de ",a.maxMonthlyEvents.toLocaleString()," eventos"]}),u.jsxs("span",{children:[Math.round(y),"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:u.jsx("div",{className:`h-2.5 rounded-full ${A?"bg-red-600":S?"bg-yellow-400":"bg-green-600"}`,style:{width:`${Math.min(y,100)}%`}})})]}),(S||A)&&u.jsx("div",{className:`p-4 rounded-md ${A?"bg-red-50":"bg-yellow-50"}`,children:u.jsxs("div",{className:"flex",children:[u.jsx(Er,{className:`h-5 w-5 ${A?"text-red-400":"text-yellow-400"}`}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:`text-sm font-medium ${A?"text-red-800":"text-yellow-800"}`,children:A?"Has alcanzado el límite de eventos mensuales":"Estás cerca de alcanzar el límite de eventos mensuales"}),u.jsx("div",{className:`mt-2 text-sm ${A?"text-red-700":"text-yellow-700"}`,children:u.jsx("p",{children:A?"Contacta con soporte para aumentar tu límite de eventos.":"Considera contactar con soporte para aumentar tu límite antes de alcanzarlo."})})]})]})})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Uso de Productos"}),u.jsx(k_,{className:"h-5 w-5 text-gray-400"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-900 mb-1",children:[u.jsxs("span",{children:[a.productsCount," de ",a.maxProducts," productos"]}),u.jsxs("span",{children:[Math.round(E),"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:u.jsx("div",{className:`h-2.5 rounded-full ${T?"bg-red-600":E>=80?"bg-yellow-400":"bg-green-600"}`,style:{width:`${Math.min(E,100)}%`}})})]}),T&&u.jsx("div",{className:"p-4 rounded-md bg-red-50",children:u.jsxs("div",{className:"flex",children:[u.jsx(Er,{className:"h-5 w-5 text-red-400"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Has alcanzado el límite de productos"}),u.jsx("div",{className:"mt-2 text-sm text-red-700",children:u.jsx("p",{children:"Contacta con soporte para aumentar tu límite de productos."})})]})]})})]})]})]}),u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Productos"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs(Hr,{to:"/products/new",className:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${T?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,onClick:N=>{T&&N.preventDefault()},children:[u.jsx(_P,{className:"h-5 w-5 mr-2"}),"Nuevo Producto"]}),u.jsxs("button",{onClick:()=>t(),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[u.jsx(P_,{className:"h-5 w-5 mr-2"}),"Cerrar Sesión"]})]})]}),u.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:u.jsxs("ul",{className:"divide-y divide-gray-200",children:[r.map(N=>u.jsx("li",{children:u.jsxs("div",{className:"px-4 py-4 sm:px-6 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("p",{className:"text-sm font-medium text-indigo-600 truncate",children:N.name}),u.jsx("span",{className:`ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N.active?"Activo":"Inactivo"}),u.jsxs("p",{className:"ml-4 text-sm text-gray-500",children:["Creado el ",new Date(N.created_at).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsxs(Hr,{to:`/products/${N.id}`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[u.jsx(Ip,{className:"h-4 w-4 mr-2"}),"Configurar"]}),u.jsxs(Hr,{to:`/products/${N.id}?tab=analytics`,className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:[u.jsx(z0,{className:"h-4 w-4 mr-2"}),"Analytics"]})]})]})},N.id)),r.length===0&&u.jsx("li",{className:"px-4 py-8 text-center text-gray-500",children:"No hay productos aún. ¡Crea tu primer producto para comenzar el seguimiento!"})]})})]})}function NP(){const e=Co(),[t,r]=U.useState(""),[n,a]=U.useState(!0),[i,s]=U.useState(""),[o,l]=U.useState(0),[c,f]=U.useState(1),[d,h]=U.useState(null);U.useEffect(()=>{m()},[]);async function m(){try{tt.info("CreateProduct","Loading user and limits");const b=localStorage.getItem("user");if(!b)throw new Error("No se encontró información del usuario");const w=JSON.parse(b);if(!w.id)throw new Error("Información de usuario inválida");const{data:x,error:_}=await ze.from("users").select("id, max_products, active").eq("id",w.id).single();if(_||!x)throw new Error("Usuario no encontrado");if(!x.active)throw new Error("Usuario inactivo");h(x.id),f(x.max_products),tt.info("CreateProduct","User data loaded",{userId:x.id,maxProducts:x.max_products});const{count:y,error:E}=await ze.from("products").select("*",{count:"exact",head:!0}).eq("user_id",x.id);if(E)throw tt.error("CreateProduct","Error fetching product count",E),E;const S=y||0;l(S),tt.info("CreateProduct","Product count loaded",{count:S,maxAllowed:x.max_products})}catch(b){const w=b instanceof Error?b.message:"Error cargando datos del usuario";tt.error("CreateProduct","Error in loadUserAndLimits",b),s(w)}finally{a(!1)}}async function g(b){if(b.preventDefault(),!d){tt.error("CreateProduct","No user ID available for product creation"),s("Error: Usuario no disponible");return}tt.info("CreateProduct","Starting product creation",{productName:t,userId:d}),a(!0),s("");try{const{count:w,error:x}=await ze.from("products").select("*",{count:"exact",head:!0}).eq("user_id",d);if(x)throw x;if((w||0)>=c)throw tt.warn("CreateProduct","Product limit reached",{current:w,max:c}),new Error("Has alcanzado el límite de productos permitidos");const _=crypto.randomUUID(),{data:y,error:E}=await ze.from("products").insert([{name:t,tracking_id:_,user_id:d,active:!0}]).select().single();if(E||!y)throw tt.error("CreateProduct","Error creating product",E),new Error("Error al crear el producto");tt.info("CreateProduct","Product created successfully",{productId:y.id,name:y.name}),e(`/products/${y.id}`)}catch(w){const x=w instanceof Error?w.message:"Error al crear el producto";tt.error("CreateProduct","Product creation failed",{error:w,message:x}),s(x)}finally{a(!1)}}const p=c-o,v=o/c*100;return n?u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"max-w-md mx-auto",children:u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx(Er,{className:"h-5 w-5 text-yellow-400"}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-yellow-700",children:"Cargando datos del usuario..."})})]})})})}):i?u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"max-w-md mx-auto",children:u.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx(Er,{className:"h-5 w-5 text-red-400"}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-red-700",children:i})})]})})})}):u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsxs("div",{className:"max-w-md mx-auto",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Crear Nuevo Producto"}),u.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow-sm p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Límite de Productos"}),u.jsx(k_,{className:"h-5 w-5 text-gray-400"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-900 mb-1",children:[u.jsxs("span",{children:["Productos Creados: ",o," de ",c]}),u.jsxs("span",{children:[Math.round(v),"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:u.jsx("div",{className:`h-2.5 rounded-full transition-all duration-300 ${p<=0?"bg-red-600":p===1?"bg-yellow-400":"bg-green-600"}`,style:{width:`${Math.min(v,100)}%`}})})]}),p<=1&&p>0&&u.jsx("div",{className:"p-4 rounded-md bg-yellow-50",children:u.jsxs("div",{className:"flex",children:[u.jsx(Er,{className:"h-5 w-5 text-yellow-400"}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-yellow-700",children:"Solo te queda 1 producto disponible. Considera contactar con soporte para aumentar tu límite."})})]})}),p<=0&&u.jsx("div",{className:"p-4 rounded-md bg-red-50",children:u.jsxs("div",{className:"flex",children:[u.jsx(Er,{className:"h-5 w-5 text-red-400"}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-red-700",children:"Has alcanzado el límite de productos permitidos. Contacta con soporte para aumentar tu límite."})})]})})]})]}),u.jsxs("form",{onSubmit:g,className:"bg-white shadow-sm rounded-lg p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre del Producto"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{type:"text",id:"name",required:!0,value:t,onChange:b=>r(b.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Ej: Curso de Marketing Digital"})})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:n||p<=0,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${p<=0?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:n?"Creando...":"Crear Producto"})})]})]})})}function M_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=M_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function at(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=M_(e))&&(n&&(n+=" "),n+=t);return n}var PP=Array.isArray,Xr=PP,kP=typeof Ar=="object"&&Ar&&Ar.Object===Object&&Ar,I_=kP,CP=I_,DP=typeof self=="object"&&self&&self.Object===Object&&self,MP=CP||DP||Function("return this")(),la=MP,IP=la,$P=IP.Symbol,Uc=$P,Kv=Uc,$_=Object.prototype,FP=$_.hasOwnProperty,RP=$_.toString,ll=Kv?Kv.toStringTag:void 0;function LP(e){var t=FP.call(e,ll),r=e[ll];try{e[ll]=void 0;var n=!0}catch{}var a=RP.call(e);return n&&(t?e[ll]=r:delete e[ll]),a}var BP=LP,UP=Object.prototype,WP=UP.toString;function zP(e){return WP.call(e)}var HP=zP,Yv=Uc,qP=BP,GP=HP,VP="[object Null]",KP="[object Undefined]",Xv=Yv?Yv.toStringTag:void 0;function YP(e){return e==null?e===void 0?KP:VP:Xv&&Xv in Object(e)?qP(e):GP(e)}var $a=YP;function XP(e){return e!=null&&typeof e=="object"}var Fa=XP,JP=$a,ZP=Fa,QP="[object Symbol]";function ek(e){return typeof e=="symbol"||ZP(e)&&JP(e)==QP}var Io=ek,tk=Xr,rk=Io,nk=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ak=/^\w*$/;function ik(e,t){if(tk(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||rk(e)?!0:ak.test(e)||!nk.test(e)||t!=null&&e in Object(t)}var $p=ik;function sk(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var hi=sk;const $o=At(hi);var ok=$a,lk=hi,ck="[object AsyncFunction]",uk="[object Function]",fk="[object GeneratorFunction]",dk="[object Proxy]";function hk(e){if(!lk(e))return!1;var t=ok(e);return t==uk||t==fk||t==ck||t==dk}var Fp=hk;const Ke=At(Fp);var mk=la,pk=mk["__core-js_shared__"],gk=pk,Uh=gk,Jv=function(){var e=/[^.]+$/.exec(Uh&&Uh.keys&&Uh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function vk(e){return!!Jv&&Jv in e}var xk=vk,yk=Function.prototype,bk=yk.toString;function wk(e){if(e!=null){try{return bk.call(e)}catch{}try{return e+""}catch{}}return""}var F_=wk,_k=Fp,Sk=xk,Ek=hi,Tk=F_,Ok=/[\\^$.*+?()[\]{}|]/g,Ak=/^\[object .+?Constructor\]$/,jk=Function.prototype,Nk=Object.prototype,Pk=jk.toString,kk=Nk.hasOwnProperty,Ck=RegExp("^"+Pk.call(kk).replace(Ok,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Dk(e){if(!Ek(e)||Sk(e))return!1;var t=_k(e)?Ck:Ak;return t.test(Tk(e))}var Mk=Dk;function Ik(e,t){return e==null?void 0:e[t]}var $k=Ik,Fk=Mk,Rk=$k;function Lk(e,t){var r=Rk(e,t);return Fk(r)?r:void 0}var cs=Lk,Bk=cs,Uk=Bk(Object,"create"),yd=Uk,Zv=yd;function Wk(){this.__data__=Zv?Zv(null):{},this.size=0}var zk=Wk;function Hk(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qk=Hk,Gk=yd,Vk="__lodash_hash_undefined__",Kk=Object.prototype,Yk=Kk.hasOwnProperty;function Xk(e){var t=this.__data__;if(Gk){var r=t[e];return r===Vk?void 0:r}return Yk.call(t,e)?t[e]:void 0}var Jk=Xk,Zk=yd,Qk=Object.prototype,eC=Qk.hasOwnProperty;function tC(e){var t=this.__data__;return Zk?t[e]!==void 0:eC.call(t,e)}var rC=tC,nC=yd,aC="__lodash_hash_undefined__";function iC(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nC&&t===void 0?aC:t,this}var sC=iC,oC=zk,lC=qk,cC=Jk,uC=rC,fC=sC;function Fo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fo.prototype.clear=oC;Fo.prototype.delete=lC;Fo.prototype.get=cC;Fo.prototype.has=uC;Fo.prototype.set=fC;var dC=Fo;function hC(){this.__data__=[],this.size=0}var mC=hC;function pC(e,t){return e===t||e!==e&&t!==t}var Rp=pC,gC=Rp;function vC(e,t){for(var r=e.length;r--;)if(gC(e[r][0],t))return r;return-1}var bd=vC,xC=bd,yC=Array.prototype,bC=yC.splice;function wC(e){var t=this.__data__,r=xC(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():bC.call(t,r,1),--this.size,!0}var _C=wC,SC=bd;function EC(e){var t=this.__data__,r=SC(t,e);return r<0?void 0:t[r][1]}var TC=EC,OC=bd;function AC(e){return OC(this.__data__,e)>-1}var jC=AC,NC=bd;function PC(e,t){var r=this.__data__,n=NC(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var kC=PC,CC=mC,DC=_C,MC=TC,IC=jC,$C=kC;function Ro(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ro.prototype.clear=CC;Ro.prototype.delete=DC;Ro.prototype.get=MC;Ro.prototype.has=IC;Ro.prototype.set=$C;var wd=Ro,FC=cs,RC=la,LC=FC(RC,"Map"),Lp=LC,Qv=dC,BC=wd,UC=Lp;function WC(){this.size=0,this.__data__={hash:new Qv,map:new(UC||BC),string:new Qv}}var zC=WC;function HC(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var qC=HC,GC=qC;function VC(e,t){var r=e.__data__;return GC(t)?r[typeof t=="string"?"string":"hash"]:r.map}var _d=VC,KC=_d;function YC(e){var t=KC(this,e).delete(e);return this.size-=t?1:0,t}var XC=YC,JC=_d;function ZC(e){return JC(this,e).get(e)}var QC=ZC,e4=_d;function t4(e){return e4(this,e).has(e)}var r4=t4,n4=_d;function a4(e,t){var r=n4(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var i4=a4,s4=zC,o4=XC,l4=QC,c4=r4,u4=i4;function Lo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Lo.prototype.clear=s4;Lo.prototype.delete=o4;Lo.prototype.get=l4;Lo.prototype.has=c4;Lo.prototype.set=u4;var Bp=Lo,R_=Bp,f4="Expected a function";function Up(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(f4);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(Up.Cache||R_),r}Up.Cache=R_;var L_=Up;const d4=At(L_);var h4=L_,m4=500;function p4(e){var t=h4(e,function(n){return r.size===m4&&r.clear(),n}),r=t.cache;return t}var g4=p4,v4=g4,x4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y4=/\\(\\)?/g,b4=v4(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(x4,function(r,n,a,i){t.push(a?i.replace(y4,"$1"):n||r)}),t}),w4=b4;function _4(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Wp=_4,ex=Uc,S4=Wp,E4=Xr,T4=Io,O4=1/0,tx=ex?ex.prototype:void 0,rx=tx?tx.toString:void 0;function B_(e){if(typeof e=="string")return e;if(E4(e))return S4(e,B_)+"";if(T4(e))return rx?rx.call(e):"";var t=e+"";return t=="0"&&1/e==-O4?"-0":t}var A4=B_,j4=A4;function N4(e){return e==null?"":j4(e)}var U_=N4,P4=Xr,k4=$p,C4=w4,D4=U_;function M4(e,t){return P4(e)?e:k4(e,t)?[e]:C4(D4(e))}var W_=M4,I4=Io,$4=1/0;function F4(e){if(typeof e=="string"||I4(e))return e;var t=e+"";return t=="0"&&1/e==-$4?"-0":t}var Sd=F4,R4=W_,L4=Sd;function B4(e,t){t=R4(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[L4(t[r++])];return r&&r==n?e:void 0}var zp=B4,U4=zp;function W4(e,t,r){var n=e==null?void 0:U4(e,t);return n===void 0?r:n}var z_=W4;const _n=At(z_);function z4(e){return e==null}var H4=z4;const Ge=At(H4);var q4=$a,G4=Xr,V4=Fa,K4="[object String]";function Y4(e){return typeof e=="string"||!G4(e)&&V4(e)&&q4(e)==K4}var X4=Y4;const Wc=At(X4);var H_={exports:{}},yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp=Symbol.for("react.element"),qp=Symbol.for("react.portal"),Ed=Symbol.for("react.fragment"),Td=Symbol.for("react.strict_mode"),Od=Symbol.for("react.profiler"),Ad=Symbol.for("react.provider"),jd=Symbol.for("react.context"),J4=Symbol.for("react.server_context"),Nd=Symbol.for("react.forward_ref"),Pd=Symbol.for("react.suspense"),kd=Symbol.for("react.suspense_list"),Cd=Symbol.for("react.memo"),Dd=Symbol.for("react.lazy"),Z4=Symbol.for("react.offscreen"),q_;q_=Symbol.for("react.module.reference");function En(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Hp:switch(e=e.type,e){case Ed:case Od:case Td:case Pd:case kd:return e;default:switch(e=e&&e.$$typeof,e){case J4:case jd:case Nd:case Dd:case Cd:case Ad:return e;default:return t}}case qp:return t}}}yt.ContextConsumer=jd;yt.ContextProvider=Ad;yt.Element=Hp;yt.ForwardRef=Nd;yt.Fragment=Ed;yt.Lazy=Dd;yt.Memo=Cd;yt.Portal=qp;yt.Profiler=Od;yt.StrictMode=Td;yt.Suspense=Pd;yt.SuspenseList=kd;yt.isAsyncMode=function(){return!1};yt.isConcurrentMode=function(){return!1};yt.isContextConsumer=function(e){return En(e)===jd};yt.isContextProvider=function(e){return En(e)===Ad};yt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hp};yt.isForwardRef=function(e){return En(e)===Nd};yt.isFragment=function(e){return En(e)===Ed};yt.isLazy=function(e){return En(e)===Dd};yt.isMemo=function(e){return En(e)===Cd};yt.isPortal=function(e){return En(e)===qp};yt.isProfiler=function(e){return En(e)===Od};yt.isStrictMode=function(e){return En(e)===Td};yt.isSuspense=function(e){return En(e)===Pd};yt.isSuspenseList=function(e){return En(e)===kd};yt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ed||e===Od||e===Td||e===Pd||e===kd||e===Z4||typeof e=="object"&&e!==null&&(e.$$typeof===Dd||e.$$typeof===Cd||e.$$typeof===Ad||e.$$typeof===jd||e.$$typeof===Nd||e.$$typeof===q_||e.getModuleId!==void 0)};yt.typeOf=En;H_.exports=yt;var Q4=H_.exports,eD=$a,tD=Fa,rD="[object Number]";function nD(e){return typeof e=="number"||tD(e)&&eD(e)==rD}var G_=nD;const aD=At(G_);var iD=G_;function sD(e){return iD(e)&&e!=+e}var oD=sD;const Bo=At(oD);var Ln=function(t){return t===0?0:t>0?1:-1},Wi=function(t){return Wc(t)&&t.indexOf("%")===t.length-1},we=function(t){return aD(t)&&!Bo(t)},Xt=function(t){return we(t)||Wc(t)},lD=0,us=function(t){var r=++lD;return"".concat(t||"").concat(r)},Ji=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(t)&&!Wc(t))return n;var i;if(Wi(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Bo(i)&&(i=n),a&&i>r&&(i=r),i},ri=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},cD=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Bt=function(t,r){return we(t)&&we(r)?function(n){return t+n*(r-t)}:function(){return r}};function qu(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):_n(n,t))===r})}var uD=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,i=0,s=0,o=1/0,l=-1/0,c=0,f=0,d=0;d<r;d++)c=t[d].cx||0,f=t[d].cy||0,n+=c,a+=f,i+=c*f,s+=c*c,o=Math.min(o,c),l=Math.max(l,c);var h=r*s!==n*n?(r*i-n*a)/(r*s-n*n):0;return{xmin:o,xmax:l,a:h,b:(a-h*n)/r}};function Vs(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}var fD=["viewBox","children"],dD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nx=["points","pathLength"],Wh={svg:fD,polygon:nx,polyline:nx},Gp=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gu=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(U.isValidElement(t)&&(n=t.props),!$o(n))return null;var a={};return Object.keys(n).forEach(function(i){Gp.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},hD=function(t,r,n){return function(a){return t(r,n,a),null}},Vl=function(t,r,n){if(!$o(t)||G0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];Gp.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=hD(s,r,n))}),a},mD=["children"],pD=["children"];function ax(e,t){if(e==null)return{};var r=gD(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}var ix={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ea=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},sx=null,zh=null,Vp=function e(t){if(t===sx&&Array.isArray(zh))return zh;var r=[];return U.Children.forEach(t,function(n){Ge(n)||(Q4.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),zh=r,sx=t,r};function Gr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ea(a)}):n=[Ea(t)],Vp(e).forEach(function(a){var i=_n(a,"type.displayName")||_n(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function an(e,t){var r=Gr(e,t);return r&&r[0]}var ox=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!we(n)||n<=0||!we(a)||a<=0)},vD=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],xD=function(t){return t&&t.type&&Wc(t.type)&&vD.indexOf(t.type)>=0},V_=function(t){return t&&V0(t)==="object"&&"clipDot"in t},yD=function(t,r,n,a){var i,s=(i=Wh==null?void 0:Wh[a])!==null&&i!==void 0?i:[];return!Ke(t)&&(a&&s.includes(r)||dD.includes(r))||n&&Gp.includes(r)},qe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(U.isValidElement(t)&&(a=t.props),!$o(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;yD((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},K0=function e(t,r){if(t===r)return!0;var n=U.Children.count(t);if(n!==U.Children.count(r))return!1;if(n===0)return!0;if(n===1)return lx(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!lx(i,s))return!1}return!0},lx=function(t,r){if(Ge(t)&&Ge(r))return!0;if(!Ge(t)&&!Ge(r)){var n=t.props||{},a=n.children,i=ax(n,mD),s=r.props||{},o=s.children,l=ax(s,pD);return a&&o?Vs(i,l)&&K0(a,o):!a&&!o?Vs(i,l):!1}return!1},cx=function(t,r){var n=[],a={};return Vp(t).forEach(function(i,s){if(xD(i))n.push(i);else if(i){var o=Ea(i.type),l=r[o]||{},c=l.handler,f=l.once;if(c&&(!f||!a[o])){var d=c(i,o,s);n.push(d),a[o]=!0}}}),n},bD=function(t){var r=t&&t.type;return r&&ix[r]?ix[r]:null},wD=function(t,r){return Vp(r).indexOf(t)},_D=["children","width","height","viewBox","className","style","title","desc"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(this,arguments)}function SD(e,t){if(e==null)return{};var r=ED(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ED(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function X0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=SD(e,_D),f=a||{width:r,height:n,x:0,y:0},d=at("recharts-surface",i);return k.createElement("svg",Y0({},qe(c,!0,"svg"),{className:d,width:r,height:n,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),k.createElement("title",null,o),k.createElement("desc",null,l),t)}var TD=["children","className"];function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(this,arguments)}function OD(e,t){if(e==null)return{};var r=AD(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ct=k.forwardRef(function(e,t){var r=e.children,n=e.className,a=OD(e,TD),i=at("recharts-layer",n);return k.createElement("g",J0({className:i},qe(a,!0),{ref:t}),r)}),Ta=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function jD(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var ND=jD,PD=ND;function kD(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:PD(e,t,r)}var CD=kD,DD="\\ud800-\\udfff",MD="\\u0300-\\u036f",ID="\\ufe20-\\ufe2f",$D="\\u20d0-\\u20ff",FD=MD+ID+$D,RD="\\ufe0e\\ufe0f",LD="\\u200d",BD=RegExp("["+LD+DD+FD+RD+"]");function UD(e){return BD.test(e)}var K_=UD;function WD(e){return e.split("")}var zD=WD,Y_="\\ud800-\\udfff",HD="\\u0300-\\u036f",qD="\\ufe20-\\ufe2f",GD="\\u20d0-\\u20ff",VD=HD+qD+GD,KD="\\ufe0e\\ufe0f",YD="["+Y_+"]",Z0="["+VD+"]",Q0="\\ud83c[\\udffb-\\udfff]",XD="(?:"+Z0+"|"+Q0+")",X_="[^"+Y_+"]",J_="(?:\\ud83c[\\udde6-\\uddff]){2}",Z_="[\\ud800-\\udbff][\\udc00-\\udfff]",JD="\\u200d",Q_=XD+"?",e2="["+KD+"]?",ZD="(?:"+JD+"(?:"+[X_,J_,Z_].join("|")+")"+e2+Q_+")*",QD=e2+Q_+ZD,eM="(?:"+[X_+Z0+"?",Z0,J_,Z_,YD].join("|")+")",tM=RegExp(Q0+"(?="+Q0+")|"+eM+QD,"g");function rM(e){return e.match(tM)||[]}var nM=rM,aM=zD,iM=K_,sM=nM;function oM(e){return iM(e)?sM(e):aM(e)}var lM=oM,cM=CD,uM=K_,fM=lM,dM=U_;function hM(e){return function(t){t=dM(t);var r=uM(t)?fM(t):void 0,n=r?r[0]:t.charAt(0),a=r?cM(r,1).join(""):t.slice(1);return n[e]()+a}}var mM=hM,pM=mM,gM=pM("toUpperCase"),vM=gM;const Md=At(vM);function Ot(e){return function(){return e}}const t2=Math.cos,Vu=Math.sin,qn=Math.sqrt,Ku=Math.PI,Id=2*Ku,em=Math.PI,tm=2*em,Ci=1e-6,xM=tm-Ci;function r2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function yM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return r2;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class bM{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?r2:yM(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,f=s-t,d=o-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ci)if(!(Math.abs(d*l-c*f)>Ci)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,g=a-o,p=l*l+c*c,v=m*m+g*g,b=Math.sqrt(p),w=Math.sqrt(h),x=i*Math.tan((em-Math.acos((p+h-v)/(2*b*w)))/2),_=x/w,y=x/b;Math.abs(_-1)>Ci&&this._append`L${t+_*f},${r+_*d}`,this._append`A${i},${i},0,0,${+(d*m>f*g)},${this._x1=t+y*l},${this._y1=r+y*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,f=r+l,d=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Ci||Math.abs(this._y1-f)>Ci)&&this._append`L${c},${f}`,n&&(h<0&&(h=h%tm+tm),h>xM?this._append`A${n},${n},0,1,${d},${t-o},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=f}`:h>Ci&&this._append`A${n},${n},0,${+(h>=em)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Kp(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new bM(t)}function Yp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function n2(e){this._context=e}n2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function $d(e){return new n2(e)}function a2(e){return e[0]}function i2(e){return e[1]}function s2(e,t){var r=Ot(!0),n=null,a=$d,i=null,s=Kp(o);e=typeof e=="function"?e:e===void 0?a2:Ot(e),t=typeof t=="function"?t:t===void 0?i2:Ot(t);function o(l){var c,f=(l=Yp(l)).length,d,h=!1,m;for(n==null&&(i=a(m=s())),c=0;c<=f;++c)!(c<f&&r(d=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,c,l),+t(d,c,l));if(m)return i=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ot(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ot(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ot(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function vu(e,t,r){var n=null,a=Ot(!0),i=null,s=$d,o=null,l=Kp(c);e=typeof e=="function"?e:e===void 0?a2:Ot(+e),t=typeof t=="function"?t:Ot(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?i2:Ot(+r);function c(d){var h,m,g,p=(d=Yp(d)).length,v,b=!1,w,x=new Array(p),_=new Array(p);for(i==null&&(o=s(w=l())),h=0;h<=p;++h){if(!(h<p&&a(v=d[h],h,d))===b)if(b=!b)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=m;--g)o.point(x[g],_[g]);o.lineEnd(),o.areaEnd()}b&&(x[h]=+e(v,h,d),_[h]=+t(v,h,d),o.point(n?+n(v,h,d):x[h],r?+r(v,h,d):_[h]))}if(w)return o=null,w+""||null}function f(){return s2().defined(a).curve(s).context(i)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ot(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ot(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ot(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ot(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ot(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ot(+d),c):r},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(r)},c.lineX1=function(){return f().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Ot(!!d),c):a},c.curve=function(d){return arguments.length?(s=d,i!=null&&(o=s(i)),c):s},c.context=function(d){return arguments.length?(d==null?i=o=null:o=s(i=d),c):i},c}class o2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function wM(e){return new o2(e,!0)}function _M(e){return new o2(e,!1)}const Xp={draw(e,t){const r=qn(t/Ku);e.moveTo(r,0),e.arc(0,0,r,0,Id)}},SM={draw(e,t){const r=qn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},l2=qn(1/3),EM=l2*2,TM={draw(e,t){const r=qn(t/EM),n=r*l2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},OM={draw(e,t){const r=qn(t),n=-r/2;e.rect(n,n,r,r)}},AM=.8908130915292852,c2=Vu(Ku/10)/Vu(7*Ku/10),jM=Vu(Id/10)*c2,NM=-t2(Id/10)*c2,PM={draw(e,t){const r=qn(t*AM),n=jM*r,a=NM*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=Id*i/5,o=t2(s),l=Vu(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},Hh=qn(3),kM={draw(e,t){const r=-qn(t/(Hh*3));e.moveTo(0,r*2),e.lineTo(-Hh*r,-r),e.lineTo(Hh*r,-r),e.closePath()}},pn=-.5,gn=qn(3)/2,rm=1/qn(12),CM=(rm/2+1)*3,DM={draw(e,t){const r=qn(t/CM),n=r/2,a=r*rm,i=n,s=r*rm+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(pn*n-gn*a,gn*n+pn*a),e.lineTo(pn*i-gn*s,gn*i+pn*s),e.lineTo(pn*o-gn*l,gn*o+pn*l),e.lineTo(pn*n+gn*a,pn*a-gn*n),e.lineTo(pn*i+gn*s,pn*s-gn*i),e.lineTo(pn*o+gn*l,pn*l-gn*o),e.closePath()}};function MM(e,t){let r=null,n=Kp(a);e=typeof e=="function"?e:Ot(e||Xp),t=typeof t=="function"?t:Ot(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ot(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ot(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Yu(){}function Xu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function u2(e){this._context=e}u2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function IM(e){return new u2(e)}function f2(e){this._context=e}f2.prototype={areaStart:Yu,areaEnd:Yu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $M(e){return new f2(e)}function d2(e){this._context=e}d2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FM(e){return new d2(e)}function h2(e){this._context=e}h2.prototype={areaStart:Yu,areaEnd:Yu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function RM(e){return new h2(e)}function ux(e){return e<0?-1:1}function fx(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(ux(i)+ux(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function dx(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qh(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Ju(e){this._context=e}Ju.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qh(this,this._t0,dx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qh(this,dx(this,r=fx(this,e,t)),r);break;default:qh(this,this._t0,r=fx(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function m2(e){this._context=new p2(e)}(m2.prototype=Object.create(Ju.prototype)).point=function(e,t){Ju.prototype.point.call(this,t,e)};function p2(e){this._context=e}p2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function LM(e){return new Ju(e)}function BM(e){return new m2(e)}function g2(e){this._context=e}g2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=hx(e),a=hx(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hx(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function UM(e){return new g2(e)}function Fd(e,t){this._context=e,this._t=t}Fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function WM(e){return new Fd(e,.5)}function zM(e){return new Fd(e,0)}function HM(e){return new Fd(e,1)}function no(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function nm(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function qM(e,t){return e[t]}function GM(e){const t=[];return t.key=e,t}function VM(){var e=Ot([]),t=nm,r=no,n=qM;function a(i){var s=Array.from(e.apply(this,arguments),GM),o,l=s.length,c=-1,f;for(const d of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(d,s[o].key,c,i)]).data=d;for(o=0,f=Yp(t(s));o<l;++o)s[f[o]].index=o;return r(s,f),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ot(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ot(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?nm:typeof i=="function"?i:Ot(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??no,a):r},a}function KM(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}no(e,t)}}function YM(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}no(e,t)}}function XM(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var f=e[t[o]],d=f[n][1]||0,h=f[n-1][1]||0,m=(d-h)/2,g=0;g<o;++g){var p=e[t[g]],v=p[n][1]||0,b=p[n-1][1]||0;m+=v-b}l+=d,c+=m*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,no(e,t)}}function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}var JM=["type","size","sizeType"];function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},am.apply(this,arguments)}function mx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function px(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mx(Object(r),!0).forEach(function(n){ZM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZM(e,t,r){return t=QM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QM(e){var t=e3(e,"string");return Kl(t)=="symbol"?t:t+""}function e3(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t3(e,t){if(e==null)return{};var r=r3(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var v2={symbolCircle:Xp,symbolCross:SM,symbolDiamond:TM,symbolSquare:OM,symbolStar:PM,symbolTriangle:kM,symbolWye:DM},n3=Math.PI/180,a3=function(t){var r="symbol".concat(Md(t));return v2[r]||Xp},i3=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*n3;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},s3=function(t,r){v2["symbol".concat(Md(t))]=r},Rd=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=t3(t,JM),c=px(px({},l),{},{type:n,size:i,sizeType:o}),f=function(){var v=a3(n),b=MM().type(v).size(i3(i,o,n));return b()},d=c.className,h=c.cx,m=c.cy,g=qe(c,!0);return h===+h&&m===+m&&i===+i?k.createElement("path",am({},g,{className:at("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:f()})):null};Rd.registerSymbol=s3;function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(this,arguments)}function gx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gx(Object(r),!0).forEach(function(n){Yl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y2(n.key),n)}}function u3(e,t,r){return t&&c3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f3(e,t,r){return t=Zu(t),d3(e,x2()?Reflect.construct(t,r||[],Zu(e).constructor):t.apply(e,r))}function d3(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h3(e)}function h3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x2=function(){return!!e})()}function Zu(e){return Zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zu(e)}function m3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sm(e,t)}function sm(e,t){return sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sm(e,t)}function Yl(e,t,r){return t=y2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y2(e){var t=p3(e,"string");return ao(t)=="symbol"?t:t+""}function p3(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vn=32,Jp=function(e){function t(){return l3(this,t),f3(this,t,arguments)}return m3(t,e),u3(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=vn/2,s=vn/6,o=vn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:vn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(vn,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return k.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(vn/8,"h").concat(vn,"v").concat(vn*3/4,"h").concat(-vn,"z"),className:"recharts-legend-icon"});if(k.isValidElement(n.legendIcon)){var c=o3({},n);return delete c.legendIcon,k.cloneElement(n.legendIcon,c)}return k.createElement(Rd,{fill:l,cx:i,cy:i,size:vn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,f={x:0,y:0,width:vn,height:vn},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||l,v=at(Yl(Yl({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Ke(m.value)?null:m.value;Ta(!Ke(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?c:m.color;return k.createElement("li",im({className:v,style:d,key:"legend-item-".concat(g)},Vl(n.props,m,g)),k.createElement(X0,{width:s,height:s,viewBox:f,style:h},n.renderIcon(m)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(U.PureComponent);Yl(Jp,"displayName","Legend");Yl(Jp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var g3=wd;function v3(){this.__data__=new g3,this.size=0}var x3=v3;function y3(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var b3=y3;function w3(e){return this.__data__.get(e)}var _3=w3;function S3(e){return this.__data__.has(e)}var E3=S3,T3=wd,O3=Lp,A3=Bp,j3=200;function N3(e,t){var r=this.__data__;if(r instanceof T3){var n=r.__data__;if(!O3||n.length<j3-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new A3(n)}return r.set(e,t),this.size=r.size,this}var P3=N3,k3=wd,C3=x3,D3=b3,M3=_3,I3=E3,$3=P3;function Uo(e){var t=this.__data__=new k3(e);this.size=t.size}Uo.prototype.clear=C3;Uo.prototype.delete=D3;Uo.prototype.get=M3;Uo.prototype.has=I3;Uo.prototype.set=$3;var b2=Uo,F3="__lodash_hash_undefined__";function R3(e){return this.__data__.set(e,F3),this}var L3=R3;function B3(e){return this.__data__.has(e)}var U3=B3,W3=Bp,z3=L3,H3=U3;function Qu(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new W3;++t<r;)this.add(e[t])}Qu.prototype.add=Qu.prototype.push=z3;Qu.prototype.has=H3;var w2=Qu;function q3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var _2=q3;function G3(e,t){return e.has(t)}var S2=G3,V3=w2,K3=_2,Y3=S2,X3=1,J3=2;function Z3(e,t,r,n,a,i){var s=r&X3,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),f=i.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,m=r&J3?new V3:void 0;for(i.set(e,t),i.set(t,e);++d<o;){var g=e[d],p=t[d];if(n)var v=s?n(p,g,d,t,e,i):n(g,p,d,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!K3(t,function(b,w){if(!Y3(m,w)&&(g===b||a(g,b,r,n,i)))return m.push(w)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var E2=Z3,Q3=la,eI=Q3.Uint8Array,tI=eI;function rI(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var nI=rI;function aI(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Zp=aI,vx=Uc,xx=tI,iI=Rp,sI=E2,oI=nI,lI=Zp,cI=1,uI=2,fI="[object Boolean]",dI="[object Date]",hI="[object Error]",mI="[object Map]",pI="[object Number]",gI="[object RegExp]",vI="[object Set]",xI="[object String]",yI="[object Symbol]",bI="[object ArrayBuffer]",wI="[object DataView]",yx=vx?vx.prototype:void 0,Gh=yx?yx.valueOf:void 0;function _I(e,t,r,n,a,i,s){switch(r){case wI:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case bI:return!(e.byteLength!=t.byteLength||!i(new xx(e),new xx(t)));case fI:case dI:case pI:return iI(+e,+t);case hI:return e.name==t.name&&e.message==t.message;case gI:case xI:return e==t+"";case mI:var o=oI;case vI:var l=n&cI;if(o||(o=lI),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=uI,s.set(e,t);var f=sI(o(e),o(t),n,a,i,s);return s.delete(e),f;case yI:if(Gh)return Gh.call(e)==Gh.call(t)}return!1}var SI=_I;function EI(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var T2=EI,TI=T2,OI=Xr;function AI(e,t,r){var n=t(e);return OI(e)?n:TI(n,r(e))}var jI=AI;function NI(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var PI=NI;function kI(){return[]}var CI=kI,DI=PI,MI=CI,II=Object.prototype,$I=II.propertyIsEnumerable,bx=Object.getOwnPropertySymbols,FI=bx?function(e){return e==null?[]:(e=Object(e),DI(bx(e),function(t){return $I.call(e,t)}))}:MI,RI=FI;function LI(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var BI=LI,UI=$a,WI=Fa,zI="[object Arguments]";function HI(e){return WI(e)&&UI(e)==zI}var qI=HI,wx=qI,GI=Fa,O2=Object.prototype,VI=O2.hasOwnProperty,KI=O2.propertyIsEnumerable,YI=wx(function(){return arguments}())?wx:function(e){return GI(e)&&VI.call(e,"callee")&&!KI.call(e,"callee")},Qp=YI,ef={exports:{}};function XI(){return!1}var JI=XI;ef.exports;(function(e,t){var r=la,n=JI,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(ef,ef.exports);var A2=ef.exports,ZI=9007199254740991,QI=/^(?:0|[1-9]\d*)$/;function e$(e,t){var r=typeof e;return t=t??ZI,!!t&&(r=="number"||r!="symbol"&&QI.test(e))&&e>-1&&e%1==0&&e<t}var eg=e$,t$=9007199254740991;function r$(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=t$}var tg=r$,n$=$a,a$=tg,i$=Fa,s$="[object Arguments]",o$="[object Array]",l$="[object Boolean]",c$="[object Date]",u$="[object Error]",f$="[object Function]",d$="[object Map]",h$="[object Number]",m$="[object Object]",p$="[object RegExp]",g$="[object Set]",v$="[object String]",x$="[object WeakMap]",y$="[object ArrayBuffer]",b$="[object DataView]",w$="[object Float32Array]",_$="[object Float64Array]",S$="[object Int8Array]",E$="[object Int16Array]",T$="[object Int32Array]",O$="[object Uint8Array]",A$="[object Uint8ClampedArray]",j$="[object Uint16Array]",N$="[object Uint32Array]",jt={};jt[w$]=jt[_$]=jt[S$]=jt[E$]=jt[T$]=jt[O$]=jt[A$]=jt[j$]=jt[N$]=!0;jt[s$]=jt[o$]=jt[y$]=jt[l$]=jt[b$]=jt[c$]=jt[u$]=jt[f$]=jt[d$]=jt[h$]=jt[m$]=jt[p$]=jt[g$]=jt[v$]=jt[x$]=!1;function P$(e){return i$(e)&&a$(e.length)&&!!jt[n$(e)]}var k$=P$;function C$(e){return function(t){return e(t)}}var j2=C$,tf={exports:{}};tf.exports;(function(e,t){var r=I_,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(tf,tf.exports);var D$=tf.exports,M$=k$,I$=j2,_x=D$,Sx=_x&&_x.isTypedArray,$$=Sx?I$(Sx):M$,N2=$$,F$=BI,R$=Qp,L$=Xr,B$=A2,U$=eg,W$=N2,z$=Object.prototype,H$=z$.hasOwnProperty;function q$(e,t){var r=L$(e),n=!r&&R$(e),a=!r&&!n&&B$(e),i=!r&&!n&&!a&&W$(e),s=r||n||a||i,o=s?F$(e.length,String):[],l=o.length;for(var c in e)(t||H$.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||U$(c,l)))&&o.push(c);return o}var G$=q$,V$=Object.prototype;function K$(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||V$;return e===r}var Y$=K$;function X$(e,t){return function(r){return e(t(r))}}var P2=X$,J$=P2,Z$=J$(Object.keys,Object),Q$=Z$,eF=Y$,tF=Q$,rF=Object.prototype,nF=rF.hasOwnProperty;function aF(e){if(!eF(e))return tF(e);var t=[];for(var r in Object(e))nF.call(e,r)&&r!="constructor"&&t.push(r);return t}var iF=aF,sF=Fp,oF=tg;function lF(e){return e!=null&&oF(e.length)&&!sF(e)}var zc=lF,cF=G$,uF=iF,fF=zc;function dF(e){return fF(e)?cF(e):uF(e)}var Ld=dF,hF=jI,mF=RI,pF=Ld;function gF(e){return hF(e,pF,mF)}var vF=gF,Ex=vF,xF=1,yF=Object.prototype,bF=yF.hasOwnProperty;function wF(e,t,r,n,a,i){var s=r&xF,o=Ex(e),l=o.length,c=Ex(t),f=c.length;if(l!=f&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in t:bF.call(t,h)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=s;++d<l;){h=o[d];var b=e[h],w=t[h];if(n)var x=s?n(w,b,h,t,e,i):n(b,w,h,e,t,i);if(!(x===void 0?b===w||a(b,w,r,n,i):x)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var _=e.constructor,y=t.constructor;_!=y&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof y=="function"&&y instanceof y)&&(p=!1)}return i.delete(e),i.delete(t),p}var _F=wF,SF=cs,EF=la,TF=SF(EF,"DataView"),OF=TF,AF=cs,jF=la,NF=AF(jF,"Promise"),PF=NF,kF=cs,CF=la,DF=kF(CF,"Set"),k2=DF,MF=cs,IF=la,$F=MF(IF,"WeakMap"),FF=$F,om=OF,lm=Lp,cm=PF,um=k2,fm=FF,C2=$a,Wo=F_,Tx="[object Map]",RF="[object Object]",Ox="[object Promise]",Ax="[object Set]",jx="[object WeakMap]",Nx="[object DataView]",LF=Wo(om),BF=Wo(lm),UF=Wo(cm),WF=Wo(um),zF=Wo(fm),Di=C2;(om&&Di(new om(new ArrayBuffer(1)))!=Nx||lm&&Di(new lm)!=Tx||cm&&Di(cm.resolve())!=Ox||um&&Di(new um)!=Ax||fm&&Di(new fm)!=jx)&&(Di=function(e){var t=C2(e),r=t==RF?e.constructor:void 0,n=r?Wo(r):"";if(n)switch(n){case LF:return Nx;case BF:return Tx;case UF:return Ox;case WF:return Ax;case zF:return jx}return t});var HF=Di,Vh=b2,qF=E2,GF=SI,VF=_F,Px=HF,kx=Xr,Cx=A2,KF=N2,YF=1,Dx="[object Arguments]",Mx="[object Array]",xu="[object Object]",XF=Object.prototype,Ix=XF.hasOwnProperty;function JF(e,t,r,n,a,i){var s=kx(e),o=kx(t),l=s?Mx:Px(e),c=o?Mx:Px(t);l=l==Dx?xu:l,c=c==Dx?xu:c;var f=l==xu,d=c==xu,h=l==c;if(h&&Cx(e)){if(!Cx(t))return!1;s=!0,f=!1}if(h&&!f)return i||(i=new Vh),s||KF(e)?qF(e,t,r,n,a,i):GF(e,t,l,r,n,a,i);if(!(r&YF)){var m=f&&Ix.call(e,"__wrapped__"),g=d&&Ix.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return i||(i=new Vh),a(p,v,r,n,i)}}return h?(i||(i=new Vh),VF(e,t,r,n,a,i)):!1}var ZF=JF,QF=ZF,$x=Fa;function D2(e,t,r,n,a){return e===t?!0:e==null||t==null||!$x(e)&&!$x(t)?e!==e&&t!==t:QF(e,t,r,n,D2,a)}var rg=D2,e5=b2,t5=rg,r5=1,n5=2;function a5(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],f=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var d=new e5;if(n)var h=n(c,f,l,e,t,d);if(!(h===void 0?t5(f,c,r5|n5,n,d):h))return!1}}return!0}var i5=a5,s5=hi;function o5(e){return e===e&&!s5(e)}var M2=o5,l5=M2,c5=Ld;function u5(e){for(var t=c5(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,l5(a)]}return t}var f5=u5;function d5(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var I2=d5,h5=i5,m5=f5,p5=I2;function g5(e){var t=m5(e);return t.length==1&&t[0][2]?p5(t[0][0],t[0][1]):function(r){return r===e||h5(r,e,t)}}var v5=g5;function x5(e,t){return e!=null&&t in Object(e)}var y5=x5,b5=W_,w5=Qp,_5=Xr,S5=eg,E5=tg,T5=Sd;function O5(e,t,r){t=b5(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=T5(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&E5(a)&&S5(s,a)&&(_5(e)||w5(e)))}var A5=O5,j5=y5,N5=A5;function P5(e,t){return e!=null&&N5(e,t,j5)}var k5=P5,C5=rg,D5=z_,M5=k5,I5=$p,$5=M2,F5=I2,R5=Sd,L5=1,B5=2;function U5(e,t){return I5(e)&&$5(t)?F5(R5(e),t):function(r){var n=D5(r,e);return n===void 0&&n===t?M5(r,e):C5(t,n,L5|B5)}}var W5=U5;function z5(e){return e}var zo=z5;function H5(e){return function(t){return t==null?void 0:t[e]}}var q5=H5,G5=zp;function V5(e){return function(t){return G5(t,e)}}var K5=V5,Y5=q5,X5=K5,J5=$p,Z5=Sd;function Q5(e){return J5(e)?Y5(Z5(e)):X5(e)}var eR=Q5,tR=v5,rR=W5,nR=zo,aR=Xr,iR=eR;function sR(e){return typeof e=="function"?e:e==null?nR:typeof e=="object"?aR(e)?rR(e[0],e[1]):tR(e):iR(e)}var mi=sR;function oR(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var $2=oR;function lR(e){return e!==e}var cR=lR;function uR(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var fR=uR,dR=$2,hR=cR,mR=fR;function pR(e,t,r){return t===t?mR(e,t,r):dR(e,hR,r)}var gR=pR,vR=gR;function xR(e,t){var r=e==null?0:e.length;return!!r&&vR(e,t,0)>-1}var yR=xR;function bR(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var wR=bR;function _R(){}var SR=_R,Kh=k2,ER=SR,TR=Zp,OR=1/0,AR=Kh&&1/TR(new Kh([,-0]))[1]==OR?function(e){return new Kh(e)}:ER,jR=AR,NR=w2,PR=yR,kR=wR,CR=S2,DR=jR,MR=Zp,IR=200;function $R(e,t,r){var n=-1,a=PR,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=kR;else if(i>=IR){var c=t?null:DR(e);if(c)return MR(c);s=!1,a=CR,l=new NR}else l=t?[]:o;e:for(;++n<i;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),o.push(f)}else a(l,d,r)||(l!==o&&l.push(d),o.push(f))}return o}var FR=$R,RR=mi,LR=FR;function BR(e,t){return e&&e.length?LR(e,RR(t)):[]}var UR=BR;const Fx=At(UR);function F2(e,t,r){return t===!0?Fx(e,r):Ke(t)?Fx(e,t):e}function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}var WR=["ref"];function Rx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rx(Object(r),!0).forEach(function(n){Bd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L2(n.key),n)}}function HR(e,t,r){return t&&Lx(e.prototype,t),r&&Lx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qR(e,t,r){return t=rf(t),GR(e,R2()?Reflect.construct(t,r||[],rf(e).constructor):t.apply(e,r))}function GR(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VR(e)}function VR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R2=function(){return!!e})()}function rf(e){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rf(e)}function KR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dm(e,t)}function dm(e,t){return dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dm(e,t)}function Bd(e,t,r){return t=L2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L2(e){var t=YR(e,"string");return io(t)=="symbol"?t:t+""}function YR(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XR(e,t){if(e==null)return{};var r=JR(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZR(e){return e.value}function QR(e,t){if(k.isValidElement(e))return k.cloneElement(e,t);if(typeof e=="function")return k.createElement(e,t);t.ref;var r=XR(t,WR);return k.createElement(Jp,r)}var Bx=1,li=function(e){function t(){var r;zR(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=qR(this,t,[].concat(a)),Bd(r,"lastBoundingBox",{width:-1,height:-1}),r}return KR(t,e),HR(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Bx||Math.abs(a.height-this.lastBoundingBox.height)>Bx)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ga({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();d={left:((c||0)-m.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((f||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ga(ga({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,f=a.payload,d=ga(ga({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return k.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){n.wrapperNode=m}},QR(i,ga(ga({},this.props),{},{payload:F2(f,c,ZR)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ga(ga({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&we(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(U.PureComponent);Bd(li,"displayName","Legend");Bd(li,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ux=Uc,e6=Qp,t6=Xr,Wx=Ux?Ux.isConcatSpreadable:void 0;function r6(e){return t6(e)||e6(e)||!!(Wx&&e&&e[Wx])}var n6=r6,a6=T2,i6=n6;function B2(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=i6),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?B2(o,t-1,r,n,a):a6(a,o):n||(a[a.length]=o)}return a}var U2=B2;function s6(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var o6=s6,l6=o6,c6=l6(),u6=c6,f6=u6,d6=Ld;function h6(e,t){return e&&f6(e,t,d6)}var W2=h6,m6=zc;function p6(e,t){return function(r,n){if(r==null)return r;if(!m6(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var g6=p6,v6=W2,x6=g6,y6=x6(v6),ng=y6,b6=ng,w6=zc;function _6(e,t){var r=-1,n=w6(e)?Array(e.length):[];return b6(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var z2=_6;function S6(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var E6=S6,zx=Io;function T6(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=zx(e),s=t!==void 0,o=t===null,l=t===t,c=zx(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var O6=T6,A6=O6;function j6(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=A6(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var N6=j6,Yh=Wp,P6=zp,k6=mi,C6=z2,D6=E6,M6=j2,I6=N6,$6=zo,F6=Xr;function R6(e,t,r){t.length?t=Yh(t,function(i){return F6(i)?function(s){return P6(s,i.length===1?i[0]:i)}:i}):t=[$6];var n=-1;t=Yh(t,M6(k6));var a=C6(e,function(i,s,o){var l=Yh(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return D6(a,function(i,s){return I6(i,s,r)})}var L6=R6;function B6(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var U6=B6,W6=U6,Hx=Math.max;function z6(e,t,r){return t=Hx(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=Hx(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),W6(e,this,o)}}var H6=z6;function q6(e){return function(){return e}}var G6=q6,V6=cs,K6=function(){try{var e=V6(Object,"defineProperty");return e({},"",{}),e}catch{}}(),H2=K6,Y6=G6,qx=H2,X6=zo,J6=qx?function(e,t){return qx(e,"toString",{configurable:!0,enumerable:!1,value:Y6(t),writable:!0})}:X6,Z6=J6,Q6=800,e8=16,t8=Date.now;function r8(e){var t=0,r=0;return function(){var n=t8(),a=e8-(n-r);if(r=n,a>0){if(++t>=Q6)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var n8=r8,a8=Z6,i8=n8,s8=i8(a8),o8=s8,l8=zo,c8=H6,u8=o8;function f8(e,t){return u8(c8(e,t,l8),e+"")}var d8=f8,h8=Rp,m8=zc,p8=eg,g8=hi;function v8(e,t,r){if(!g8(r))return!1;var n=typeof t;return(n=="number"?m8(r)&&p8(t,r.length):n=="string"&&t in r)?h8(r[t],e):!1}var Ud=v8,x8=U2,y8=L6,b8=d8,Gx=Ud,w8=b8(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Gx(e,t[0],t[1])?t=[]:r>2&&Gx(t[0],t[1],t[2])&&(t=[t[0]]),y8(e,x8(t,1),[])}),_8=w8;const ag=At(_8);function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hm.apply(this,arguments)}function S8(e,t){return A8(e)||O8(e,t)||T8(e,t)||E8()}function E8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T8(e,t){if(e){if(typeof e=="string")return Vx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vx(e,t)}}function Vx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function A8(e){if(Array.isArray(e))return e}function Kx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kx(Object(r),!0).forEach(function(n){j8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j8(e,t,r){return t=N8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N8(e){var t=P8(e,"string");return Xl(t)=="symbol"?t:t+""}function P8(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k8(e){return Array.isArray(e)&&Xt(e[0])&&Xt(e[1])?e.join(" ~ "):e}var C8=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,f=t.payload,d=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,b=t.accessibilityLayer,w=b===void 0?!1:b,x=function(){if(f&&f.length){var D={padding:0,margin:0},L=(h?ag(f,h):f).map(function(q,H){if(q.type==="none")return null;var K=Xh({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},o),Q=q.formatter||d||k8,fe=q.value,se=q.name,ve=fe,Oe=se;if(Q&&ve!=null&&Oe!=null){var M=Q(fe,se,q,H,f);if(Array.isArray(M)){var z=S8(M,2);ve=z[0],Oe=z[1]}else ve=M}return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:K},Xt(Oe)?k.createElement("span",{className:"recharts-tooltip-item-name"},Oe):null,Xt(Oe)?k.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,k.createElement("span",{className:"recharts-tooltip-item-value"},ve),k.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:D},L)}return null},_=Xh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),y=Xh({margin:0},c),E=!Ge(p),S=E?p:"",A=at("recharts-default-tooltip",m),T=at("recharts-tooltip-label",g);E&&v&&f!==void 0&&f!==null&&(S=v(p,f));var N=w?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",hm({className:A,style:_},N),k.createElement("p",{className:T,style:y},k.isValidElement(S)?S:"".concat(S)),x())};function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function yu(e,t,r){return t=D8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D8(e){var t=M8(e,"string");return Jl(t)=="symbol"?t:t+""}function M8(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cl="recharts-tooltip-wrapper",I8={visibility:"hidden"};function $8(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return at(cl,yu(yu(yu(yu({},"".concat(cl,"-right"),we(r)&&t&&we(t.x)&&r>=t.x),"".concat(cl,"-left"),we(r)&&t&&we(t.x)&&r<t.x),"".concat(cl,"-bottom"),we(n)&&t&&we(t.y)&&n>=t.y),"".concat(cl,"-top"),we(n)&&t&&we(t.y)&&n<t.y))}function Yx(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&we(i[n]))return i[n];var f=r[n]-o-a,d=r[n]+a;if(t[n])return s[n]?f:d;if(s[n]){var h=f,m=l[n];return h<m?Math.max(d,l[n]):Math.max(f,l[n])}var g=d+o,p=l[n]+c;return g>p?Math.max(f,l[n]):Math.max(d,l[n])}function F8(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function R8(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,f,d;return s.height>0&&s.width>0&&r?(f=Yx({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=Yx({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=F8({translateX:f,translateY:d,useTranslate3d:o})):c=I8,{cssProperties:c,cssClasses:$8({translateX:f,translateY:d,coordinate:r})}}function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function Xx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xx(Object(r),!0).forEach(function(n){pm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G2(n.key),n)}}function U8(e,t,r){return t&&B8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W8(e,t,r){return t=nf(t),z8(e,q2()?Reflect.construct(t,r||[],nf(e).constructor):t.apply(e,r))}function z8(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H8(e)}function H8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q2=function(){return!!e})()}function nf(e){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nf(e)}function q8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mm(e,t)}function mm(e,t){return mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mm(e,t)}function pm(e,t,r){return t=G2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G2(e){var t=G8(e,"string");return so(t)=="symbol"?t:t+""}function G8(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(so(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zx=1,V8=function(e){function t(){var r;L8(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=W8(this,t,[].concat(a)),pm(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pm(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),r}return q8(t,e),U8(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Zx||Math.abs(n.height-this.state.lastBoundingBox.height)>Zx)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,w=a.wrapperStyle,x=R8({allowEscapeViewBox:s,coordinate:f,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),_=x.cssClasses,y=x.cssProperties,E=Jx(Jx({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return k.createElement("div",{tabIndex:-1,className:_,style:E,ref:function(A){n.wrapperNode=A}},c)}}])}(U.PureComponent),K8=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wn={isSsr:K8(),get:function(t){return Wn[t]},set:function(t,r){if(typeof t=="string")Wn[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Wn[a]=t[a]})}}};function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function Qx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qx(Object(r),!0).forEach(function(n){ig(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K2(n.key),n)}}function J8(e,t,r){return t&&X8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z8(e,t,r){return t=af(t),Q8(e,V2()?Reflect.construct(t,r||[],af(e).constructor):t.apply(e,r))}function Q8(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eL(e)}function eL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V2=function(){return!!e})()}function af(e){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},af(e)}function tL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gm(e,t)}function gm(e,t){return gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gm(e,t)}function ig(e,t,r){return t=K2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K2(e){var t=rL(e,"string");return oo(t)=="symbol"?t:t+""}function rL(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nL(e){return e.dataKey}function aL(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(C8,t)}var on=function(e){function t(){return Y8(this,t),Z8(this,t,arguments)}return tL(t,e),J8(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,b=a.reverseDirection,w=a.useTranslate3d,x=a.viewBox,_=a.wrapperStyle,y=g??[];d&&y.length&&(y=F2(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),p,nL));var E=y.length>0;return k.createElement(V8,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:f,hasPayload:E,offset:m,position:v,reverseDirection:b,useTranslate3d:w,viewBox:x,wrapperStyle:_},aL(c,ey(ey({},this.props),{},{payload:y})))}}])}(U.PureComponent);ig(on,"displayName","Tooltip");ig(on,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var iL=la,sL=function(){return iL.Date.now()},oL=sL,lL=/\s/;function cL(e){for(var t=e.length;t--&&lL.test(e.charAt(t)););return t}var uL=cL,fL=uL,dL=/^\s+/;function hL(e){return e&&e.slice(0,fL(e)+1).replace(dL,"")}var mL=hL,pL=mL,ty=hi,gL=Io,ry=NaN,vL=/^[-+]0x[0-9a-f]+$/i,xL=/^0b[01]+$/i,yL=/^0o[0-7]+$/i,bL=parseInt;function wL(e){if(typeof e=="number")return e;if(gL(e))return ry;if(ty(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ty(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=pL(e);var r=xL.test(e);return r||yL.test(e)?bL(e.slice(2),r?2:8):vL.test(e)?ry:+e}var Y2=wL,_L=hi,Jh=oL,ny=Y2,SL="Expected a function",EL=Math.max,TL=Math.min;function OL(e,t,r){var n,a,i,s,o,l,c=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(SL);t=ny(t)||0,_L(r)&&(f=!!r.leading,d="maxWait"in r,i=d?EL(ny(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(E){var S=n,A=a;return n=a=void 0,c=E,s=e.apply(A,S),s}function g(E){return c=E,o=setTimeout(b,t),f?m(E):s}function p(E){var S=E-l,A=E-c,T=t-S;return d?TL(T,i-A):T}function v(E){var S=E-l,A=E-c;return l===void 0||S>=t||S<0||d&&A>=i}function b(){var E=Jh();if(v(E))return w(E);o=setTimeout(b,p(E))}function w(E){return o=void 0,h&&n?m(E):(n=a=void 0,s)}function x(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function _(){return o===void 0?s:w(Jh())}function y(){var E=Jh(),S=v(E);if(n=arguments,a=this,l=E,S){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(b,t),m(l)}return o===void 0&&(o=setTimeout(b,t)),s}return y.cancel=x,y.flush=_,y}var AL=OL,jL=AL,NL=hi,PL="Expected a function";function kL(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(PL);return NL(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),jL(e,t,{leading:n,maxWait:t,trailing:a})}var CL=kL;const X2=At(CL);function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function ay(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ay(Object(r),!0).forEach(function(n){DL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ay(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DL(e,t,r){return t=ML(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ML(e){var t=IL(e,"string");return Zl(t)=="symbol"?t:t+""}function IL(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $L(e,t){return BL(e)||LL(e,t)||RL(e,t)||FL()}function FL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RL(e,t){if(e){if(typeof e=="string")return iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iy(e,t)}}function iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function BL(e){if(Array.isArray(e))return e}var sf=U.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,f=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,b=e.className,w=e.onResize,x=e.style,_=x===void 0?{}:x,y=U.useRef(null),E=U.useRef();E.current=w,U.useImperativeHandle(t,function(){return Object.defineProperty(y.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),y.current},configurable:!0})});var S=U.useState({containerWidth:a.width,containerHeight:a.height}),A=$L(S,2),T=A[0],N=A[1],j=U.useCallback(function(L,q){N(function(H){var K=Math.round(L),Q=Math.round(q);return H.containerWidth===K&&H.containerHeight===Q?H:{containerWidth:K,containerHeight:Q}})},[]);U.useEffect(function(){var L=function(se){var ve,Oe=se[0].contentRect,M=Oe.width,z=Oe.height;j(M,z),(ve=E.current)===null||ve===void 0||ve.call(E,M,z)};p>0&&(L=X2(L,p,{trailing:!0,leading:!1}));var q=new ResizeObserver(L),H=y.current.getBoundingClientRect(),K=H.width,Q=H.height;return j(K,Q),q.observe(y.current),function(){q.disconnect()}},[j,p]);var D=U.useMemo(function(){var L=T.containerWidth,q=T.containerHeight;if(L<0||q<0)return null;Ta(Wi(s)||Wi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ta(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=Wi(s)?L:s,K=Wi(l)?q:l;r&&r>0&&(H?K=H/r:K&&(H=K*r),h&&K>h&&(K=h)),Ta(H>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,K,s,l,f,d,r);var Q=!Array.isArray(m)&&Ea(m.type).endsWith("Chart");return k.Children.map(m,function(fe){return k.isValidElement(fe)?U.cloneElement(fe,bu({width:H,height:K},Q?{style:bu({height:"100%",width:"100%",maxHeight:K,maxWidth:H},fe.props.style)}:{})):fe})},[r,m,l,h,d,f,T,s]);return k.createElement("div",{id:v?"".concat(v):void 0,className:at("recharts-responsive-container",b),style:bu(bu({},_),{},{width:s,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:y},D)}),sg=function(t){return null};sg.displayName="Cell";function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function sy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sy(Object(r),!0).forEach(function(n){UL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UL(e,t,r){return t=WL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WL(e){var t=zL(e,"string");return Ql(t)=="symbol"?t:t+""}function zL(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ps={widthCache:{},cacheCount:0},HL=2e3,qL={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oy="recharts_measurement_span";function GL(e){var t=vm({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Cl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Wn.isSsr)return{width:0,height:0};var n=GL(r),a=JSON.stringify({text:t,copyStyle:n});if(Ps.widthCache[a])return Ps.widthCache[a];try{var i=document.getElementById(oy);i||(i=document.createElement("span"),i.setAttribute("id",oy),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=vm(vm({},qL),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Ps.widthCache[a]=l,++Ps.cacheCount>HL&&(Ps.cacheCount=0,Ps.widthCache={}),l}catch{return{width:0,height:0}}},VL=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function of(e,t){return JL(e)||XL(e,t)||YL(e,t)||KL()}function KL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YL(e,t){if(e){if(typeof e=="string")return ly(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ly(e,t)}}function ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function JL(e){if(Array.isArray(e))return e}function ZL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eB(n.key),n)}}function QL(e,t,r){return t&&cy(e.prototype,t),r&&cy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eB(e){var t=tB(e,"string");return ec(t)=="symbol"?t:t+""}function tB(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uy=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fy=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,J2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aB=Object.keys(J2),Us="NaN";function iB(e,t){return e*J2[t]}var wu=function(){function e(t,r){ZL(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!rB.test(r)&&(this.num=NaN,this.unit=""),aB.includes(r)&&(this.num=iB(t,r),this.unit="px")}return QL(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=nB.exec(r))!==null&&n!==void 0?n:[],i=of(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function Z2(e){if(e.includes(Us))return Us;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=uy.exec(t))!==null&&r!==void 0?r:[],a=of(n,4),i=a[1],s=a[2],o=a[3],l=wu.parse(i??""),c=wu.parse(o??""),f=s==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return Us;t=t.replace(uy,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=fy.exec(t))!==null&&d!==void 0?d:[],m=of(h,4),g=m[1],p=m[2],v=m[3],b=wu.parse(g??""),w=wu.parse(v??""),x=p==="+"?b.add(w):b.subtract(w);if(x.isNaN())return Us;t=t.replace(fy,x.toString())}return t}var dy=/\(([^()]*)\)/;function sB(e){for(var t=e;t.includes("(");){var r=dy.exec(t),n=of(r,2),a=n[1];t=t.replace(dy,Z2(a))}return t}function oB(e){var t=e.replace(/\s+/g,"");return t=sB(t),t=Z2(t),t}function lB(e){try{return oB(e)}catch{return Us}}function Zh(e){var t=lB(e.slice(5,-1));return t===Us?"":t}var cB=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uB=["dx","dy","angle","className","breakAll"];function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xm.apply(this,arguments)}function hy(e,t){if(e==null)return{};var r=fB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function my(e,t){return pB(e)||mB(e,t)||hB(e,t)||dB()}function dB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hB(e,t){if(e){if(typeof e=="string")return py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return py(e,t)}}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function pB(e){if(Array.isArray(e))return e}var Q2=/[ \f\n\r\t\v\u2028\u2029]+/,eS=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Ge(r)||(n?i=r.toString().split(""):i=r.toString().split(Q2));var s=i.map(function(l){return{word:l,width:Cl(l,a).width}}),o=n?0:Cl(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},gB=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,f=we(s),d=o,h=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(K,Q){var fe=Q.word,se=Q.width,ve=K[K.length-1];if(ve&&(a==null||i||ve.width+se+n<Number(a)))ve.words.push(fe),ve.width+=se+n;else{var Oe={words:[fe],width:se};K.push(Oe)}return K},[])},m=h(r),g=function(H){return H.reduce(function(K,Q){return K.width>Q.width?K:Q})};if(!f)return m;for(var p="…",v=function(H){var K=d.slice(0,H),Q=eS({breakAll:c,style:l,children:K+p}).wordsWithComputedWidth,fe=h(Q),se=fe.length>s||g(fe).width>Number(a);return[se,fe]},b=0,w=d.length-1,x=0,_;b<=w&&x<=d.length-1;){var y=Math.floor((b+w)/2),E=y-1,S=v(E),A=my(S,2),T=A[0],N=A[1],j=v(y),D=my(j,1),L=D[0];if(!T&&!L&&(b=y+1),T&&L&&(w=y-1),!T&&L){_=N;break}x++}return _||m},gy=function(t){var r=Ge(t)?[]:t.toString().split(Q2);return[{words:r}]},vB=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Wn.isSsr){var l,c,f=eS({breakAll:s,children:a,style:i});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,c=h}else return gy(a);return gB({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return gy(a)},vy="#808080",lf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,b=v===void 0?vy:v,w=hy(t,cB),x=U.useMemo(function(){return vB({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),_=w.dx,y=w.dy,E=w.angle,S=w.className,A=w.breakAll,T=hy(w,uB);if(!Xt(n)||!Xt(i))return null;var N=n+(we(_)?_:0),j=i+(we(y)?y:0),D;switch(p){case"start":D=Zh("calc(".concat(c,")"));break;case"middle":D=Zh("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:D=Zh("calc(".concat(x.length-1," * -").concat(o,")"));break}var L=[];if(d){var q=x[0].width,H=w.width;L.push("scale(".concat((we(H)?H/q:1)/q,")"))}return E&&L.push("rotate(".concat(E,", ").concat(N,", ").concat(j,")")),L.length&&(T.transform=L.join(" ")),k.createElement("text",xm({},qe(T,!0),{x:N,y:j,className:at("recharts-text",S),textAnchor:m,fill:b.includes("url")?vy:b}),x.map(function(K,Q){var fe=K.words.join(A?"":" ");return k.createElement("tspan",{x:N,dy:Q===0?D:o,key:"".concat(fe,"-").concat(Q)},fe)}))};function ci(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xB(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function og(e){let t,r,n;e.length!==2?(t=ci,r=(o,l)=>ci(e(o),l),n=(o,l)=>e(o)-l):(t=e===ci||e===xB?e:yB,r=e,n=e);function a(o,l,c=0,f=o.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(o[d],l)<0?c=d+1:f=d}while(c<f)}return c}function i(o,l,c=0,f=o.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(o[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function s(o,l,c=0,f=o.length){const d=a(o,l,c,f-1);return d>c&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:a,center:s,right:i}}function yB(){return 0}function tS(e){return e===null?NaN:+e}function*bB(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wB=og(ci),Hc=wB.right;og(tS).center;class xy extends Map{constructor(t,r=EB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(yy(this,t))}has(t){return super.has(yy(this,t))}set(t,r){return super.set(_B(this,t),r)}delete(t){return super.delete(SB(this,t))}}function yy({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function _B({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function SB({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function EB(e){return e!==null&&typeof e=="object"?e.valueOf():e}function TB(e=ci){if(e===ci)return rS;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function rS(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const OB=Math.sqrt(50),AB=Math.sqrt(10),jB=Math.sqrt(2);function cf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=OB?10:i>=AB?5:i>=jB?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?cf(e,t,r*2):[o,l,c]}function ym(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?cf(t,e,r):cf(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function bm(e,t,r){return t=+t,e=+e,r=+r,cf(e,t,r)[2]}function wm(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?bm(t,e,r):bm(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function by(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function wy(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function nS(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?rS:TB(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),m=Math.max(r,Math.floor(t-c*d/l+h)),g=Math.min(n,Math.floor(t+(l-c)*d/l+h));nS(e,t,m,g,a)}const i=e[t];let s=r,o=n;for(ul(e,r,t),a(e[n],i)>0&&ul(e,r,n);s<o;){for(ul(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?ul(e,r,o):(++o,ul(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function ul(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function NB(e,t,r){if(e=Float64Array.from(bB(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return wy(e);if(t>=1)return by(e);var n,a=(n-1)*t,i=Math.floor(a),s=by(nS(e,i).subarray(0,i+1)),o=wy(e.subarray(i+1));return s+(o-s)*(a-i)}}function PB(e,t,r=tS){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function kB(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Tn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ra(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _m=Symbol("implicit");function lg(){var e=new xy,t=[],r=[],n=_m;function a(i){let s=e.get(i);if(s===void 0){if(n!==_m)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new xy;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return lg(t,r).unknown(n)},Tn.apply(a,arguments),a}function tc(){var e=lg().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,f=.5;delete e.unknown;function d(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;i=(p-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(p-g-i*(h-l))*f,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=kB(h).map(function(b){return g+i*b});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,d()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,d()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return tc(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(f)},Tn.apply(d(),arguments)}function aS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aS(t())},e}function Dl(){return aS(tc.apply(null,arguments).paddingInner(1))}function cg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function iS(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function qc(){}var rc=.7,uf=1/rc,Ks="\\s*([+-]?\\d+)\\s*",nc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CB=/^#([0-9a-f]{3,8})$/,DB=new RegExp(`^rgb\\(${Ks},${Ks},${Ks}\\)$`),MB=new RegExp(`^rgb\\(${na},${na},${na}\\)$`),IB=new RegExp(`^rgba\\(${Ks},${Ks},${Ks},${nc}\\)$`),$B=new RegExp(`^rgba\\(${na},${na},${na},${nc}\\)$`),FB=new RegExp(`^hsl\\(${nc},${na},${na}\\)$`),RB=new RegExp(`^hsla\\(${nc},${na},${na},${nc}\\)$`),_y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cg(qc,ac,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Sy,formatHex:Sy,formatHex8:LB,formatHsl:BB,formatRgb:Ey,toString:Ey});function Sy(){return this.rgb().formatHex()}function LB(){return this.rgb().formatHex8()}function BB(){return sS(this).formatHsl()}function Ey(){return this.rgb().formatRgb()}function ac(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=CB.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ty(t):r===3?new qr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?_u(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?_u(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=DB.exec(e))?new qr(t[1],t[2],t[3],1):(t=MB.exec(e))?new qr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=IB.exec(e))?_u(t[1],t[2],t[3],t[4]):(t=$B.exec(e))?_u(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=FB.exec(e))?jy(t[1],t[2]/100,t[3]/100,1):(t=RB.exec(e))?jy(t[1],t[2]/100,t[3]/100,t[4]):_y.hasOwnProperty(e)?Ty(_y[e]):e==="transparent"?new qr(NaN,NaN,NaN,0):null}function Ty(e){return new qr(e>>16&255,e>>8&255,e&255,1)}function _u(e,t,r,n){return n<=0&&(e=t=r=NaN),new qr(e,t,r,n)}function UB(e){return e instanceof qc||(e=ac(e)),e?(e=e.rgb(),new qr(e.r,e.g,e.b,e.opacity)):new qr}function Sm(e,t,r,n){return arguments.length===1?UB(e):new qr(e,t,r,n??1)}function qr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}cg(qr,Sm,iS(qc,{brighter(e){return e=e==null?uf:Math.pow(uf,e),new qr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?rc:Math.pow(rc,e),new qr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qr(Vi(this.r),Vi(this.g),Vi(this.b),ff(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Oy,formatHex:Oy,formatHex8:WB,formatRgb:Ay,toString:Ay}));function Oy(){return`#${zi(this.r)}${zi(this.g)}${zi(this.b)}`}function WB(){return`#${zi(this.r)}${zi(this.g)}${zi(this.b)}${zi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ay(){const e=ff(this.opacity);return`${e===1?"rgb(":"rgba("}${Vi(this.r)}, ${Vi(this.g)}, ${Vi(this.b)}${e===1?")":`, ${e})`}`}function ff(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zi(e){return e=Vi(e),(e<16?"0":"")+e.toString(16)}function jy(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Fn(e,t,r,n)}function sS(e){if(e instanceof Fn)return new Fn(e.h,e.s,e.l,e.opacity);if(e instanceof qc||(e=ac(e)),!e)return new Fn;if(e instanceof Fn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Fn(s,o,l,e.opacity)}function zB(e,t,r,n){return arguments.length===1?sS(e):new Fn(e,t,r,n??1)}function Fn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}cg(Fn,zB,iS(qc,{brighter(e){return e=e==null?uf:Math.pow(uf,e),new Fn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?rc:Math.pow(rc,e),new Fn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new qr(Qh(e>=240?e-240:e+120,a,n),Qh(e,a,n),Qh(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Fn(Ny(this.h),Su(this.s),Su(this.l),ff(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ff(this.opacity);return`${e===1?"hsl(":"hsla("}${Ny(this.h)}, ${Su(this.s)*100}%, ${Su(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ny(e){return e=(e||0)%360,e<0?e+360:e}function Su(e){return Math.max(0,Math.min(1,e||0))}function Qh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ug=e=>()=>e;function HB(e,t){return function(r){return e+r*t}}function qB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function GB(e){return(e=+e)==1?oS:function(t,r){return r-t?qB(t,r,e):ug(isNaN(t)?r:t)}}function oS(e,t){var r=t-e;return r?HB(e,r):ug(isNaN(e)?t:e)}const Py=function e(t){var r=GB(t);function n(a,i){var s=r((a=Sm(a)).r,(i=Sm(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=oS(a.opacity,i.opacity);return function(f){return a.r=s(f),a.g=o(f),a.b=l(f),a.opacity=c(f),a+""}}return n.gamma=e,n}(1);function VB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function KB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function YB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Ho(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function XB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function df(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function JB(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ho(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Em=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,e0=new RegExp(Em.source,"g");function ZB(e){return function(){return e}}function QB(e){return function(t){return e(t)+""}}function e7(e,t){var r=Em.lastIndex=e0.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=Em.exec(e))&&(a=e0.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:df(n,a)})),r=e0.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?QB(l[0].x):ZB(t):(t=l.length,function(c){for(var f=0,d;f<t;++f)o[(d=l[f]).i]=d.x(c);return o.join("")})}function Ho(e,t){var r=typeof t,n;return t==null||r==="boolean"?ug(t):(r==="number"?df:r==="string"?(n=ac(t))?(t=n,Py):e7:t instanceof ac?Py:t instanceof Date?XB:KB(t)?VB:Array.isArray(t)?YB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?JB:df)(e,t)}function fg(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function t7(e,t){t===void 0&&(t=e,e=Ho);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function r7(e){return function(){return e}}function hf(e){return+e}var ky=[0,1];function Rr(e){return e}function Tm(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:r7(isNaN(t)?NaN:.5)}function n7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function a7(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=Tm(a,n),i=r(s,i)):(n=Tm(n,a),i=r(i,s)),function(o){return i(n(o))}}function i7(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=Tm(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=Hc(e,o,1,n)-1;return i[l](a[l](o))}}function Gc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Wd(){var e=ky,t=ky,r=Ho,n,a,i,s=Rr,o,l,c;function f(){var h=Math.min(e.length,t.length);return s!==Rr&&(s=n7(e[0],e[h-1])),o=h>2?i7:a7,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return d.invert=function(h){return s(a((c||(c=o(t,e.map(n),df)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,hf),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=fg,f()},d.clamp=function(h){return arguments.length?(s=h?!0:Rr,f()):s!==Rr},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,m){return n=h,a=m,f()}}function dg(){return Wd()(Rr,Rr)}function s7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function lo(e){return e=mf(Math.abs(e)),e?e[1]:NaN}function o7(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function l7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var c7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ic(e){if(!(t=c7.exec(e)))throw new Error("invalid format: "+e);var t;return new hg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ic.prototype=hg.prototype;function hg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}hg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function u7(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var lS;function f7(e,t){var r=mf(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(lS=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+mf(e,Math.max(0,t+i-1))[0]}function Cy(e,t){var r=mf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Dy={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:s7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Cy(e*100,t),r:Cy,s:f7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function My(e){return e}var Iy=Array.prototype.map,$y=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function d7(e){var t=e.grouping===void 0||e.thousands===void 0?My:o7(Iy.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?My:l7(Iy.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=ic(d);var h=d.fill,m=d.align,g=d.sign,p=d.symbol,v=d.zero,b=d.width,w=d.comma,x=d.precision,_=d.trim,y=d.type;y==="n"?(w=!0,y="g"):Dy[y]||(x===void 0&&(x=12),_=!0,y="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var E=p==="$"?r:p==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",S=p==="$"?n:/[%p]/.test(y)?s:"",A=Dy[y],T=/[defgprs%]/.test(y);x=x===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function N(j){var D=E,L=S,q,H,K;if(y==="c")L=A(j)+L,j="";else{j=+j;var Q=j<0||1/j<0;if(j=isNaN(j)?l:A(Math.abs(j),x),_&&(j=u7(j)),Q&&+j==0&&g!=="+"&&(Q=!1),D=(Q?g==="("?g:o:g==="-"||g==="("?"":g)+D,L=(y==="s"?$y[8+lS/3]:"")+L+(Q&&g==="("?")":""),T){for(q=-1,H=j.length;++q<H;)if(K=j.charCodeAt(q),48>K||K>57){L=(K===46?a+j.slice(q+1):j.slice(q))+L,j=j.slice(0,q);break}}}w&&!v&&(j=t(j,1/0));var fe=D.length+j.length+L.length,se=fe<b?new Array(b-fe+1).join(h):"";switch(w&&v&&(j=t(se+j,se.length?b-L.length:1/0),se=""),m){case"<":j=D+j+L+se;break;case"=":j=D+se+j+L;break;case"^":j=se.slice(0,fe=se.length>>1)+D+j+L+se.slice(fe);break;default:j=se+D+j+L;break}return i(j)}return N.toString=function(){return d+""},N}function f(d,h){var m=c((d=ic(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(lo(h)/3)))*3,p=Math.pow(10,-g),v=$y[8+g/3];return function(b){return m(p*b)+v}}return{format:c,formatPrefix:f}}var Eu,mg,cS;h7({thousands:",",grouping:[3],currency:["$",""]});function h7(e){return Eu=d7(e),mg=Eu.format,cS=Eu.formatPrefix,Eu}function m7(e){return Math.max(0,-lo(Math.abs(e)))}function p7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lo(t)/3)))*3-lo(Math.abs(e)))}function g7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lo(t)-lo(e))+1}function uS(e,t,r,n){var a=wm(e,t,r),i;switch(n=ic(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=p7(a,s))&&(n.precision=i),cS(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=g7(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=m7(a))&&(n.precision=i-(n.type==="%")*2);break}}return mg(n)}function pi(e){var t=e.domain;return e.ticks=function(r){var n=t();return ym(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return uS(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,f=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);f-- >0;){if(c=bm(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function pf(){var e=dg();return e.copy=function(){return Gc(e,pf())},Tn.apply(e,arguments),pi(e)}function fS(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,hf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return fS(e).unknown(t)},e=arguments.length?Array.from(e,hf):[0,1],pi(r)}function dS(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function Fy(e){return Math.log(e)}function Ry(e){return Math.exp(e)}function v7(e){return-Math.log(-e)}function x7(e){return-Math.exp(-e)}function y7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function b7(e){return e===10?y7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function w7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Ly(e){return(t,r)=>-e(-t,r)}function pg(e){const t=e(Fy,Ry),r=t.domain;let n=10,a,i;function s(){return a=w7(n),i=b7(n),r()[0]<0?(a=Ly(a),i=Ly(i),e(v7,x7)):e(Fy,Ry),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let h=a(c),m=a(f),g,p;const v=o==null?10:+o;let b=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<c)){if(p>f)break;b.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<c)){if(p>f)break;b.push(p)}b.length*2<v&&(b=ym(c,f,v))}else b=ym(h,m,Math.min(m-h,v)).map(i);return d?b.reverse():b},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=ic(l)).precision==null&&(l.trim=!0),l=mg(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return f=>{let d=f/i(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=c?l(f):""}},t.nice=()=>r(dS(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function hS(){const e=pg(Wd()).domain([1,10]);return e.copy=()=>Gc(e,hS()).base(e.base()),Tn.apply(e,arguments),e}function By(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Uy(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gg(e){var t=1,r=e(By(t),Uy(t));return r.constant=function(n){return arguments.length?e(By(t=+n),Uy(t)):t},pi(r)}function mS(){var e=gg(Wd());return e.copy=function(){return Gc(e,mS()).constant(e.constant())},Tn.apply(e,arguments)}function Wy(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function S7(e){return e<0?-e*e:e*e}function vg(e){var t=e(Rr,Rr),r=1;function n(){return r===1?e(Rr,Rr):r===.5?e(_7,S7):e(Wy(r),Wy(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},pi(t)}function xg(){var e=vg(Wd());return e.copy=function(){return Gc(e,xg()).exponent(e.exponent())},Tn.apply(e,arguments),e}function E7(){return xg.apply(null,arguments).exponent(.5)}function zy(e){return Math.sign(e)*e*e}function T7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function pS(){var e=dg(),t=[0,1],r=!1,n;function a(i){var s=T7(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(zy(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,hf)).map(zy)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return pS(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Tn.apply(a,arguments),pi(a)}function gS(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=PB(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Hc(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ci),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return gS().domain(e).range(t).unknown(n)},Tn.apply(i,arguments)}function vS(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[Hc(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return vS().domain([e,t]).range(a).unknown(i)},Tn.apply(pi(s),arguments)}function xS(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Hc(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return xS().domain(e).range(t).unknown(r)},Tn.apply(a,arguments)}const t0=new Date,r0=new Date;function Qt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>Qt(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(t0.setTime(+i),r0.setTime(+s),e(t0),e(r0),Math.floor(r(t0,r0))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const gf=Qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):gf);gf.range;const ya=1e3,wn=ya*60,ba=wn*60,Pa=ba*24,yg=Pa*7,Hy=Pa*30,n0=Pa*365,Hi=Qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getUTCSeconds());Hi.range;const bg=Qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ya)},(e,t)=>{e.setTime(+e+t*wn)},(e,t)=>(t-e)/wn,e=>e.getMinutes());bg.range;const wg=Qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*wn)},(e,t)=>(t-e)/wn,e=>e.getUTCMinutes());wg.range;const _g=Qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ya-e.getMinutes()*wn)},(e,t)=>{e.setTime(+e+t*ba)},(e,t)=>(t-e)/ba,e=>e.getHours());_g.range;const Sg=Qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ba)},(e,t)=>(t-e)/ba,e=>e.getUTCHours());Sg.range;const Vc=Qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wn)/Pa,e=>e.getDate()-1);Vc.range;const zd=Qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pa,e=>e.getUTCDate()-1);zd.range;const yS=Qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pa,e=>Math.floor(e/Pa));yS.range;function fs(e){return Qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*wn)/yg)}const Hd=fs(0),vf=fs(1),O7=fs(2),A7=fs(3),co=fs(4),j7=fs(5),N7=fs(6);Hd.range;vf.range;O7.range;A7.range;co.range;j7.range;N7.range;function ds(e){return Qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/yg)}const qd=ds(0),xf=ds(1),P7=ds(2),k7=ds(3),uo=ds(4),C7=ds(5),D7=ds(6);qd.range;xf.range;P7.range;k7.range;uo.range;C7.range;D7.range;const Eg=Qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Eg.range;const Tg=Qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Tg.range;const ka=Qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ka.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ka.range;const Ca=Qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ca.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ca.range;function bS(e,t,r,n,a,i){const s=[[Hi,1,ya],[Hi,5,5*ya],[Hi,15,15*ya],[Hi,30,30*ya],[i,1,wn],[i,5,5*wn],[i,15,15*wn],[i,30,30*wn],[a,1,ba],[a,3,3*ba],[a,6,6*ba],[a,12,12*ba],[n,1,Pa],[n,2,2*Pa],[r,1,yg],[t,1,Hy],[t,3,3*Hy],[e,1,n0]];function o(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const m=d&&typeof d.range=="function"?d:l(c,f,d),g=m?m.range(c,+f+1):[];return h?g.reverse():g}function l(c,f,d){const h=Math.abs(f-c)/d,m=og(([,,v])=>v).right(s,h);if(m===s.length)return e.every(wm(c/n0,f/n0,d));if(m===0)return gf.every(Math.max(wm(c,f,d),1));const[g,p]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return g.every(p)}return[o,l]}const[M7,I7]=bS(Ca,Tg,qd,yS,Sg,wg),[$7,F7]=bS(ka,Eg,Hd,Vc,_g,bg);function a0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function R7(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=dl(a),f=hl(a),d=dl(i),h=hl(i),m=dl(s),g=hl(s),p=dl(o),v=hl(o),b=dl(l),w=hl(l),x={a:Q,A:fe,b:se,B:ve,c:null,d:Xy,e:Xy,f:o9,g:v9,G:y9,H:a9,I:i9,j:s9,L:wS,m:l9,M:c9,p:Oe,q:M,Q:Qy,s:e1,S:u9,u:f9,U:d9,V:h9,w:m9,W:p9,x:null,X:null,y:g9,Y:x9,Z:b9,"%":Zy},_={a:z,A:W,b:I,B:ee,c:null,d:Jy,e:Jy,f:E9,g:M9,G:$9,H:w9,I:_9,j:S9,L:SS,m:T9,M:O9,p:_e,q:Ee,Q:Qy,s:e1,S:A9,u:j9,U:N9,V:P9,w:k9,W:C9,x:null,X:null,y:D9,Y:I9,Z:F9,"%":Zy},y={a:N,A:j,b:D,B:L,c:q,d:Ky,e:Ky,f:e9,g:Vy,G:Gy,H:Yy,I:Yy,j:X7,L:Q7,m:Y7,M:J7,p:T,q:K7,Q:r9,s:n9,S:Z7,u:z7,U:H7,V:q7,w:W7,W:G7,x:H,X:K,y:Vy,Y:Gy,Z:V7,"%":t9};x.x=E(r,x),x.X=E(n,x),x.c=E(t,x),_.x=E(r,_),_.X=E(n,_),_.c=E(t,_);function E(re,ce){return function(Se){var ne=[],Le=-1,je=0,Re=re.length,$e,V,Ne;for(Se instanceof Date||(Se=new Date(+Se));++Le<Re;)re.charCodeAt(Le)===37&&(ne.push(re.slice(je,Le)),(V=qy[$e=re.charAt(++Le)])!=null?$e=re.charAt(++Le):V=$e==="e"?" ":"0",(Ne=ce[$e])&&($e=Ne(Se,V)),ne.push($e),je=Le+1);return ne.push(re.slice(je,Le)),ne.join("")}}function S(re,ce){return function(Se){var ne=fl(1900,void 0,1),Le=A(ne,re,Se+="",0),je,Re;if(Le!=Se.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(ce&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(je=i0(fl(ne.y,0,1)),Re=je.getUTCDay(),je=Re>4||Re===0?xf.ceil(je):xf(je),je=zd.offset(je,(ne.V-1)*7),ne.y=je.getUTCFullYear(),ne.m=je.getUTCMonth(),ne.d=je.getUTCDate()+(ne.w+6)%7):(je=a0(fl(ne.y,0,1)),Re=je.getDay(),je=Re>4||Re===0?vf.ceil(je):vf(je),je=Vc.offset(je,(ne.V-1)*7),ne.y=je.getFullYear(),ne.m=je.getMonth(),ne.d=je.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Re="Z"in ne?i0(fl(ne.y,0,1)).getUTCDay():a0(fl(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Re+5)%7:ne.w+ne.U*7-(Re+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,i0(ne)):a0(ne)}}function A(re,ce,Se,ne){for(var Le=0,je=ce.length,Re=Se.length,$e,V;Le<je;){if(ne>=Re)return-1;if($e=ce.charCodeAt(Le++),$e===37){if($e=ce.charAt(Le++),V=y[$e in qy?ce.charAt(Le++):$e],!V||(ne=V(re,Se,ne))<0)return-1}else if($e!=Se.charCodeAt(ne++))return-1}return ne}function T(re,ce,Se){var ne=c.exec(ce.slice(Se));return ne?(re.p=f.get(ne[0].toLowerCase()),Se+ne[0].length):-1}function N(re,ce,Se){var ne=m.exec(ce.slice(Se));return ne?(re.w=g.get(ne[0].toLowerCase()),Se+ne[0].length):-1}function j(re,ce,Se){var ne=d.exec(ce.slice(Se));return ne?(re.w=h.get(ne[0].toLowerCase()),Se+ne[0].length):-1}function D(re,ce,Se){var ne=b.exec(ce.slice(Se));return ne?(re.m=w.get(ne[0].toLowerCase()),Se+ne[0].length):-1}function L(re,ce,Se){var ne=p.exec(ce.slice(Se));return ne?(re.m=v.get(ne[0].toLowerCase()),Se+ne[0].length):-1}function q(re,ce,Se){return A(re,t,ce,Se)}function H(re,ce,Se){return A(re,r,ce,Se)}function K(re,ce,Se){return A(re,n,ce,Se)}function Q(re){return s[re.getDay()]}function fe(re){return i[re.getDay()]}function se(re){return l[re.getMonth()]}function ve(re){return o[re.getMonth()]}function Oe(re){return a[+(re.getHours()>=12)]}function M(re){return 1+~~(re.getMonth()/3)}function z(re){return s[re.getUTCDay()]}function W(re){return i[re.getUTCDay()]}function I(re){return l[re.getUTCMonth()]}function ee(re){return o[re.getUTCMonth()]}function _e(re){return a[+(re.getUTCHours()>=12)]}function Ee(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ce=E(re+="",x);return ce.toString=function(){return re},ce},parse:function(re){var ce=S(re+="",!1);return ce.toString=function(){return re},ce},utcFormat:function(re){var ce=E(re+="",_);return ce.toString=function(){return re},ce},utcParse:function(re){var ce=S(re+="",!0);return ce.toString=function(){return re},ce}}}var qy={"-":"",_:" ",0:"0"},or=/^\s*\d+/,L7=/^%/,B7=/[\\^$*+?|[\]().{}]/g;function st(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function U7(e){return e.replace(B7,"\\$&")}function dl(e){return new RegExp("^(?:"+e.map(U7).join("|")+")","i")}function hl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function W7(e,t,r){var n=or.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function z7(e,t,r){var n=or.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function H7(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function q7(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function G7(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Gy(e,t,r){var n=or.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Vy(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function V7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function K7(e,t,r){var n=or.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Y7(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Ky(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function X7(e,t,r){var n=or.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Yy(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function J7(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Z7(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Q7(e,t,r){var n=or.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function e9(e,t,r){var n=or.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function t9(e,t,r){var n=L7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function r9(e,t,r){var n=or.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function n9(e,t,r){var n=or.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Xy(e,t){return st(e.getDate(),t,2)}function a9(e,t){return st(e.getHours(),t,2)}function i9(e,t){return st(e.getHours()%12||12,t,2)}function s9(e,t){return st(1+Vc.count(ka(e),e),t,3)}function wS(e,t){return st(e.getMilliseconds(),t,3)}function o9(e,t){return wS(e,t)+"000"}function l9(e,t){return st(e.getMonth()+1,t,2)}function c9(e,t){return st(e.getMinutes(),t,2)}function u9(e,t){return st(e.getSeconds(),t,2)}function f9(e){var t=e.getDay();return t===0?7:t}function d9(e,t){return st(Hd.count(ka(e)-1,e),t,2)}function _S(e){var t=e.getDay();return t>=4||t===0?co(e):co.ceil(e)}function h9(e,t){return e=_S(e),st(co.count(ka(e),e)+(ka(e).getDay()===4),t,2)}function m9(e){return e.getDay()}function p9(e,t){return st(vf.count(ka(e)-1,e),t,2)}function g9(e,t){return st(e.getFullYear()%100,t,2)}function v9(e,t){return e=_S(e),st(e.getFullYear()%100,t,2)}function x9(e,t){return st(e.getFullYear()%1e4,t,4)}function y9(e,t){var r=e.getDay();return e=r>=4||r===0?co(e):co.ceil(e),st(e.getFullYear()%1e4,t,4)}function b9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+st(t/60|0,"0",2)+st(t%60,"0",2)}function Jy(e,t){return st(e.getUTCDate(),t,2)}function w9(e,t){return st(e.getUTCHours(),t,2)}function _9(e,t){return st(e.getUTCHours()%12||12,t,2)}function S9(e,t){return st(1+zd.count(Ca(e),e),t,3)}function SS(e,t){return st(e.getUTCMilliseconds(),t,3)}function E9(e,t){return SS(e,t)+"000"}function T9(e,t){return st(e.getUTCMonth()+1,t,2)}function O9(e,t){return st(e.getUTCMinutes(),t,2)}function A9(e,t){return st(e.getUTCSeconds(),t,2)}function j9(e){var t=e.getUTCDay();return t===0?7:t}function N9(e,t){return st(qd.count(Ca(e)-1,e),t,2)}function ES(e){var t=e.getUTCDay();return t>=4||t===0?uo(e):uo.ceil(e)}function P9(e,t){return e=ES(e),st(uo.count(Ca(e),e)+(Ca(e).getUTCDay()===4),t,2)}function k9(e){return e.getUTCDay()}function C9(e,t){return st(xf.count(Ca(e)-1,e),t,2)}function D9(e,t){return st(e.getUTCFullYear()%100,t,2)}function M9(e,t){return e=ES(e),st(e.getUTCFullYear()%100,t,2)}function I9(e,t){return st(e.getUTCFullYear()%1e4,t,4)}function $9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?uo(e):uo.ceil(e),st(e.getUTCFullYear()%1e4,t,4)}function F9(){return"+0000"}function Zy(){return"%"}function Qy(e){return+e}function e1(e){return Math.floor(+e/1e3)}var ks,TS,OS;R9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function R9(e){return ks=R7(e),TS=ks.format,ks.parse,OS=ks.utcFormat,ks.utcParse,ks}function L9(e){return new Date(e)}function B9(e){return e instanceof Date?+e:+new Date(+e)}function Og(e,t,r,n,a,i,s,o,l,c){var f=dg(),d=f.invert,h=f.domain,m=c(".%L"),g=c(":%S"),p=c("%I:%M"),v=c("%I %p"),b=c("%a %d"),w=c("%b %d"),x=c("%B"),_=c("%Y");function y(E){return(l(E)<E?m:o(E)<E?g:s(E)<E?p:i(E)<E?v:n(E)<E?a(E)<E?b:w:r(E)<E?x:_)(E)}return f.invert=function(E){return new Date(d(E))},f.domain=function(E){return arguments.length?h(Array.from(E,B9)):h().map(L9)},f.ticks=function(E){var S=h();return e(S[0],S[S.length-1],E??10)},f.tickFormat=function(E,S){return S==null?y:c(S)},f.nice=function(E){var S=h();return(!E||typeof E.range!="function")&&(E=t(S[0],S[S.length-1],E??10)),E?h(dS(S,E)):f},f.copy=function(){return Gc(f,Og(e,t,r,n,a,i,s,o,l,c))},f}function U9(){return Tn.apply(Og($7,F7,ka,Eg,Hd,Vc,_g,bg,Hi,TS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function W9(){return Tn.apply(Og(M7,I7,Ca,Tg,qd,zd,Sg,wg,Hi,OS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gd(){var e=0,t=1,r,n,a,i,s=Rr,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(a===0?.5:(d=(i(d)-r)*a,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function f(d){return function(h){var m,g;return arguments.length?([m,g]=h,s=d(m,g),c):[s(0),s(1)]}}return c.range=f(Ho),c.rangeRound=f(fg),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function gi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function AS(){var e=pi(Gd()(Rr));return e.copy=function(){return gi(e,AS())},Ra.apply(e,arguments)}function jS(){var e=pg(Gd()).domain([1,10]);return e.copy=function(){return gi(e,jS()).base(e.base())},Ra.apply(e,arguments)}function NS(){var e=gg(Gd());return e.copy=function(){return gi(e,NS()).constant(e.constant())},Ra.apply(e,arguments)}function Ag(){var e=vg(Gd());return e.copy=function(){return gi(e,Ag()).exponent(e.exponent())},Ra.apply(e,arguments)}function z9(){return Ag.apply(null,arguments).exponent(.5)}function PS(){var e=[],t=Rr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Hc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ci),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>NB(e,i/n))},r.copy=function(){return PS(t).domain(e)},Ra.apply(r,arguments)}function Vd(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=Rr,f,d=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+f(p))-i)*(n*p<n*i?o:l),c(d?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=f(e=+e),i=f(t=+t),s=f(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(d=!!p,m):d},m.interpolator=function(p){return arguments.length?(c=p,m):c};function g(p){return function(v){var b,w,x;return arguments.length?([b,w,x]=v,c=t7(p,[b,w,x]),m):[c(0),c(.5),c(1)]}}return m.range=g(Ho),m.rangeRound=g(fg),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return f=p,a=p(e),i=p(t),s=p(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,m}}function kS(){var e=pi(Vd()(Rr));return e.copy=function(){return gi(e,kS())},Ra.apply(e,arguments)}function CS(){var e=pg(Vd()).domain([.1,1,10]);return e.copy=function(){return gi(e,CS()).base(e.base())},Ra.apply(e,arguments)}function DS(){var e=gg(Vd());return e.copy=function(){return gi(e,DS()).constant(e.constant())},Ra.apply(e,arguments)}function jg(){var e=vg(Vd());return e.copy=function(){return gi(e,jg()).exponent(e.exponent())},Ra.apply(e,arguments)}function H9(){return jg.apply(null,arguments).exponent(.5)}const t1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tc,scaleDiverging:kS,scaleDivergingLog:CS,scaleDivergingPow:jg,scaleDivergingSqrt:H9,scaleDivergingSymlog:DS,scaleIdentity:fS,scaleImplicit:_m,scaleLinear:pf,scaleLog:hS,scaleOrdinal:lg,scalePoint:Dl,scalePow:xg,scaleQuantile:gS,scaleQuantize:vS,scaleRadial:pS,scaleSequential:AS,scaleSequentialLog:jS,scaleSequentialPow:Ag,scaleSequentialQuantile:PS,scaleSequentialSqrt:z9,scaleSequentialSymlog:NS,scaleSqrt:E7,scaleSymlog:mS,scaleThreshold:xS,scaleTime:U9,scaleUtc:W9,tickFormat:uS},Symbol.toStringTag,{value:"Module"}));var q9=Io;function G9(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!q9(s):r(s,o)))var o=s,l=i}return l}var MS=G9;function V9(e,t){return e>t}var K9=V9,Y9=MS,X9=K9,J9=zo;function Z9(e){return e&&e.length?Y9(e,J9,X9):void 0}var Q9=Z9;const ni=At(Q9);function eU(e,t){return e<t}var tU=eU,rU=MS,nU=tU,aU=zo;function iU(e){return e&&e.length?rU(e,aU,nU):void 0}var sU=iU;const Kd=At(sU);var oU=Wp,lU=mi,cU=z2,uU=Xr;function fU(e,t){var r=uU(e)?oU:cU;return r(e,lU(t))}var dU=fU,hU=U2,mU=dU;function pU(e,t){return hU(mU(e,t),1)}var gU=pU;const vU=At(gU);var xU=rg;function yU(e,t){return xU(e,t)}var bU=yU;const Zi=At(bU);var qo=1e9,wU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Pg,kt=!0,Sn="[DecimalError] ",Ki=Sn+"Invalid argument: ",Ng=Sn+"Exponent out of range: ",Go=Math.floor,Mi=Math.pow,_U=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fn,nr=1e7,Nt=7,IS=9007199254740991,yf=Go(IS/Nt),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Nt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ke.dividedBy=ke.div=function(e){return Oa(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,r=t.constructor;return St(Oa(t,new r(e),0,1),r.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return zt(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(fn))throw Error(Sn+"NaN");if(r.s<1)throw Error(Sn+(r.s?"NaN":"-Infinity"));return r.eq(fn)?new n(0):(kt=!1,t=Oa(sc(r,i),sc(e,i),i),kt=!0,St(t,a))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RS(t,e):$S(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Sn+"NaN");return r.s?(kt=!1,t=Oa(r,e,0,1).times(e),kt=!0,r.minus(t)):St(new n(r),a)};ke.naturalExponential=ke.exp=function(){return FS(this)};ke.naturalLogarithm=ke.ln=function(){return sc(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$S(t,e):RS(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ki+e);if(t=zt(a)+1,n=a.d.length-1,r=n*Nt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ke.squareRoot=ke.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Sn+"NaN")}for(e=zt(o),kt=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=ea(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Go((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Oa(o,i,s+2)).times(.5),ea(i.d).slice(0,s)===(t=ea(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(St(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return kt=!0,St(n,r)};ke.times=ke.mul=function(e){var t,r,n,a,i,s,o,l,c,f=this,d=f.constructor,h=f.d,m=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,l=h.length,c=m.length,l<c&&(i=h,h=m,m=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+m[n]*h[a-n-1]+t,i[a--]=o%nr|0,t=o/nr|0;i[a]=(i[a]+t)%nr|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,kt?St(e,d.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(sa(e,0,qo),t===void 0?t=n.rounding:sa(t,0,8),St(r,e+zt(r)+1,t))};ke.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Qi(n,!0):(sa(e,0,qo),t===void 0?t=a.rounding:sa(t,0,8),n=St(new a(n),e+1,t),r=Qi(n,!0,e+1)),r};ke.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Qi(a):(sa(e,0,qo),t===void 0?t=i.rounding:sa(t,0,8),n=St(new i(a),e+zt(a)+1,t),r=Qi(n.abs(),!1,e+zt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return St(new t(e),zt(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,f=+(e=new l(e));if(!e.s)return new l(fn);if(o=new l(o),!o.s){if(e.s<1)throw Error(Sn+"Infinity");return o}if(o.eq(fn))return o;if(n=l.precision,e.eq(fn))return St(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=f<0?-f:f)<=IS){for(a=new l(fn),t=Math.ceil(n/Nt+4),kt=!1;r%2&&(a=a.times(o),n1(a.d,t)),r=Go(r/2),r!==0;)o=o.times(o),n1(o.d,t);return kt=!0,e.s<0?new l(fn).div(a):St(a,n)}}else if(i<0)throw Error(Sn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,kt=!1,a=e.times(sc(o,n+c)),kt=!0,a=FS(a),a.s=i,a};ke.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=zt(a),n=Qi(a,r<=i.toExpNeg||r>=i.toExpPos)):(sa(e,1,qo),t===void 0?t=i.rounding:sa(t,0,8),a=St(new i(a),e,t),r=zt(a),n=Qi(a,e<=r||r<=i.toExpNeg,e)),n};ke.toSignificantDigits=ke.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(sa(e,1,qo),t===void 0?t=n.rounding:sa(t,0,8)),St(new n(r),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zt(e),r=e.constructor;return Qi(e,t<=r.toExpNeg||t>=r.toExpPos)};function $S(e,t){var r,n,a,i,s,o,l,c,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),kt?St(t,d):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(d/Nt),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/nr|0,l[i]%=nr;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,kt?St(t,d):t}function sa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ki+e)}function ea(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Nt-n.length,r&&(i+=ei(r)),i+=n;s=e[t],n=s+"",r=Nt-n.length,r&&(i+=ei(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Oa=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%nr|0,s=i/nr|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*nr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,f,d,h,m,g,p,v,b,w,x,_,y,E,S,A,T=n.constructor,N=n.s==a.s?1:-1,j=n.d,D=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Sn+"Division by zero");for(l=n.e-a.e,S=D.length,y=j.length,m=new T(N),g=m.d=[],c=0;D[c]==(j[c]||0);)++c;if(D[c]>(j[c]||0)&&--l,i==null?w=i=T.precision:s?w=i+(zt(n)-zt(a))+1:w=i,w<0)return new T(0);if(w=w/Nt+2|0,c=0,S==1)for(f=0,D=D[0],w++;(c<y||f)&&w--;c++)x=f*nr+(j[c]||0),g[c]=x/D|0,f=x%D|0;else{for(f=nr/(D[0]+1)|0,f>1&&(D=e(D,f),j=e(j,f),S=D.length,y=j.length),_=S,p=j.slice(0,S),v=p.length;v<S;)p[v++]=0;A=D.slice(),A.unshift(0),E=D[0],D[1]>=nr/2&&++E;do f=0,o=t(D,p,S,v),o<0?(b=p[0],S!=v&&(b=b*nr+(p[1]||0)),f=b/E|0,f>1?(f>=nr&&(f=nr-1),d=e(D,f),h=d.length,v=p.length,o=t(d,p,h,v),o==1&&(f--,r(d,S<h?A:D,h))):(f==0&&(o=f=1),d=D.slice()),h=d.length,h<v&&d.unshift(0),r(p,d,v),o==-1&&(v=p.length,o=t(D,p,S,v),o<1&&(f++,r(p,S<v?A:D,v))),v=p.length):o===0&&(f++,p=[0]),g[c++]=f,o&&p[0]?p[v++]=j[_]||0:(p=[j[_]],v=1);while((_++<y||p[0]!==void 0)&&w--)}return g[0]||g.shift(),m.e=l,St(m,s?i+zt(m)+1:i)}}();function FS(e,t){var r,n,a,i,s,o,l=0,c=0,f=e.constructor,d=f.precision;if(zt(e)>16)throw Error(Ng+zt(e));if(!e.s)return new f(fn);for(t==null?(kt=!1,o=d):o=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(Mi(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new f(fn),f.precision=o;;){if(a=St(a.times(e),o),r=r.times(++l),s=i.plus(Oa(a,r,o)),ea(s.d).slice(0,o)===ea(i.d).slice(0,o)){for(;c--;)i=St(i.times(i),o);return f.precision=d,t==null?(kt=!0,St(i,d)):i}i=s}}function zt(e){for(var t=e.e*Nt,r=e.d[0];r>=10;r/=10)t++;return t}function s0(e,t,r){if(t>e.LN10.sd())throw kt=!0,r&&(e.precision=r),Error(Sn+"LN10 precision limit exceeded");return St(new e(e.LN10),t)}function ei(e){for(var t="";e--;)t+="0";return t}function sc(e,t){var r,n,a,i,s,o,l,c,f,d=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(Sn+(m.s?"NaN":"-Infinity"));if(m.eq(fn))return new p(0);if(t==null?(kt=!1,c=v):c=t,m.eq(10))return t==null&&(kt=!0),s0(p,c);if(c+=h,p.precision=c,r=ea(g),n=r.charAt(0),i=zt(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ea(m.d),n=r.charAt(0),d++;i=zt(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return l=s0(p,c+2,v).times(i+""),m=sc(new p(n+"."+r.slice(1)),c-h).plus(l),p.precision=v,t==null?(kt=!0,St(m,v)):m;for(o=s=m=Oa(m.minus(fn),m.plus(fn),c),f=St(m.times(m),c),a=3;;){if(s=St(s.times(f),c),l=o.plus(Oa(s,new p(a),c)),ea(l.d).slice(0,c)===ea(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(s0(p,c+2,v).times(i+""))),o=Oa(o,new p(d),c),p.precision=v,t==null?(kt=!0,St(o,v)):o;o=l,a+=2}}function r1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Go(r/Nt),e.d=[],n=(r+1)%Nt,r<0&&(n+=Nt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Nt;n<a;)e.d.push(+t.slice(n,n+=Nt));t=t.slice(n),n=Nt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),kt&&(e.e>yf||e.e<-yf))throw Error(Ng+r)}else e.s=0,e.e=0,e.d=[0];return e}function St(e,t,r){var n,a,i,s,o,l,c,f,d=e.d;for(s=1,i=d[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Nt,a=t,c=d[f=0];else{if(f=Math.ceil((n+1)/Nt),i=d.length,f>=i)return e;for(c=i=d[f],s=1;i>=10;i/=10)s++;n%=Nt,a=n-Nt+s}if(r!==void 0&&(i=Mi(10,s-a-1),o=c/i%10|0,l=t<0||d[f+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/Mi(10,s-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(i=zt(e),d.length=1,t=t-i-1,d[0]=Mi(10,(Nt-t%Nt)%Nt),e.e=Go(-t/Nt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,i=1,f--):(d.length=f+1,i=Mi(10,Nt-n),d[f]=a>0?(c/Mi(10,s-a)%Mi(10,a)|0)*i:0),l)for(;;)if(f==0){(d[0]+=i)==nr&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=nr)break;d[f--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(kt&&(e.e>yf||e.e<-yf))throw Error(Ng+zt(e));return e}function RS(e,t){var r,n,a,i,s,o,l,c,f,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),kt?St(t,m):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(f=s<0,f?(r=l,s=-s,o=d.length):(r=d,n=c,o=l.length),a=Math.max(Math.ceil(m/Nt),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=d.length,f=a<o,f&&(o=a),a=0;a<o;a++)if(l[a]!=d[a]){f=l[a]<d[a];break}s=0}for(f&&(r=l,l=d,d=r,t.s=-t.s),o=l.length,a=d.length-o;a>0;--a)l[o++]=0;for(a=d.length;a>s;){if(l[--a]<d[a]){for(i=a;i&&l[--i]===0;)l[i]=nr-1;--l[i],l[a]+=nr}l[a]-=d[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,kt?St(t,m):t):new h(0)}function Qi(e,t,r){var n,a=zt(e),i=ea(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+ei(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ei(-a-1)+i,r&&(n=r-s)>0&&(i+=ei(n))):a>=s?(i+=ei(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+ei(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=ei(n))),e.s<0?"-"+i:i}function n1(e,t){if(e.length>t)return e.length=t,!0}function LS(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ki+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return r1(s,i.toString())}else if(typeof i!="string")throw Error(Ki+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,_U.test(i))r1(s,i);else throw Error(Ki+i)}if(a.prototype=ke,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=LS,a.config=a.set=SU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function SU(e){if(!e||typeof e!="object")throw Error(Sn+"Object expected");var t,r,n,a=["precision",1,qo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Go(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ki+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ki+r+": "+n);return this}var Pg=LS(wU);fn=new Pg(1);const bt=Pg;function EU(e){return jU(e)||AU(e)||OU(e)||TU()}function TU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OU(e,t){if(e){if(typeof e=="string")return Om(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Om(e,t)}}function AU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jU(e){if(Array.isArray(e))return Om(e)}function Om(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var NU=function(t){return t},BS={"@@functional/placeholder":!0},US=function(t){return t===BS},a1=function(t){return function r(){return arguments.length===0||arguments.length===1&&US(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},PU=function e(t,r){return t===1?r:a1(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==BS}).length;return s>=t?r.apply(void 0,a):e(t-s,a1(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var f=a.map(function(d){return US(d)?l.shift():d});return r.apply(void 0,EU(f).concat(l))}))})},Yd=function(t){return PU(t.length,t)},Am=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},kU=Yd(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),CU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return NU;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},jm=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},WS=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function DU(e){var t;return e===0?t=1:t=Math.floor(new bt(e).abs().log(10).toNumber())+1,t}function MU(e,t,r){for(var n=new bt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var IU=Yd(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),$U=Yd(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),FU=Yd(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Xd={rangeStep:MU,getDigitCount:DU,interpolateNumber:IU,uninterpolateNumber:$U,uninterpolateTruncation:FU};function Nm(e){return BU(e)||LU(e)||zS(e)||RU()}function RU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function BU(e){if(Array.isArray(e))return Pm(e)}function oc(e,t){return zU(e)||WU(e,t)||zS(e,t)||UU()}function UU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zS(e,t){if(e){if(typeof e=="string")return Pm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pm(e,t)}}function Pm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WU(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function zU(e){if(Array.isArray(e))return e}function HS(e){var t=oc(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function qS(e,t,r){if(e.lte(0))return new bt(0);var n=Xd.getDigitCount(e.toNumber()),a=new bt(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new bt(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new bt(Math.ceil(l))}function HU(e,t,r){var n=1,a=new bt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new bt(10).pow(Xd.getDigitCount(e)-1),a=new bt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new bt(Math.floor(e)))}else e===0?a=new bt(Math.floor((t-1)/2)):r||(a=new bt(Math.floor(e)));var s=Math.floor((t-1)/2),o=CU(kU(function(l){return a.add(new bt(l-s).mul(n)).toNumber()}),Am);return o(0,t)}function GS(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new bt(0),tickMin:new bt(0),tickMax:new bt(0)};var i=qS(new bt(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new bt(0):(s=new bt(e).add(t).div(2),s=s.sub(new bt(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new bt(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?GS(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new bt(o).mul(i)),tickMax:s.add(new bt(l).mul(i))})}function qU(e){var t=oc(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=HS([r,n]),l=oc(o,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var d=f===1/0?[c].concat(Nm(Am(0,a-1).map(function(){return 1/0}))):[].concat(Nm(Am(0,a-1).map(function(){return-1/0})),[f]);return r>n?jm(d):d}if(c===f)return HU(c,a,i);var h=GS(c,f,s,i),m=h.step,g=h.tickMin,p=h.tickMax,v=Xd.rangeStep(g,p.add(new bt(.1).mul(m)),m);return r>n?jm(v):v}function GU(e,t){var r=oc(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=HS([n,a]),o=oc(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var f=Math.max(t,2),d=qS(new bt(c).sub(l).div(f-1),i,0),h=[].concat(Nm(Xd.rangeStep(new bt(l),new bt(c).sub(new bt(.99).mul(d)),d)),[c]);return n>a?jm(h):h}var VU=WS(qU),KU=WS(GU),YU="Invariant failed";function es(e,t){throw new Error(YU)}var XU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bf.apply(this,arguments)}function JU(e,t){return tW(e)||eW(e,t)||QU(e,t)||ZU()}function ZU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QU(e,t){if(e){if(typeof e=="string")return i1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i1(e,t)}}function i1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function tW(e){if(Array.isArray(e))return e}function rW(e,t){if(e==null)return{};var r=nW(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YS(n.key),n)}}function sW(e,t,r){return t&&iW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oW(e,t,r){return t=wf(t),lW(e,VS()?Reflect.construct(t,r||[],wf(e).constructor):t.apply(e,r))}function lW(e,t){if(t&&(fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cW(e)}function cW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VS=function(){return!!e})()}function wf(e){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wf(e)}function uW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&km(e,t)}function km(e,t){return km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},km(e,t)}function KS(e,t,r){return t=YS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YS(e){var t=fW(e,"string");return fo(t)=="symbol"?t:t+""}function fW(e,t){if(fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vo=function(e){function t(){return aW(this,t),oW(this,t,arguments)}return uW(t,e),sW(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=rW(n,XU),m=qe(h,!1);this.props.direction==="x"&&f.type!=="number"&&es();var g=l.map(function(p){var v=c(p,o),b=v.x,w=v.y,x=v.value,_=v.errorVal;if(!_)return null;var y=[],E,S;if(Array.isArray(_)){var A=JU(_,2);E=A[0],S=A[1]}else E=S=_;if(i==="vertical"){var T=f.scale,N=w+a,j=N+s,D=N-s,L=T(x-E),q=T(x+S);y.push({x1:q,y1:j,x2:q,y2:D}),y.push({x1:L,y1:N,x2:q,y2:N}),y.push({x1:L,y1:j,x2:L,y2:D})}else if(i==="horizontal"){var H=d.scale,K=b+a,Q=K-s,fe=K+s,se=H(x-E),ve=H(x+S);y.push({x1:Q,y1:ve,x2:fe,y2:ve}),y.push({x1:K,y1:se,x2:K,y2:ve}),y.push({x1:Q,y1:se,x2:fe,y2:se})}return k.createElement(ct,bf({className:"recharts-errorBar",key:"bar-".concat(y.map(function(Oe){return"".concat(Oe.x1,"-").concat(Oe.x2,"-").concat(Oe.y1,"-").concat(Oe.y2)}))},m),y.map(function(Oe){return k.createElement("line",bf({},Oe,{key:"line-".concat(Oe.x1,"-").concat(Oe.x2,"-").concat(Oe.y1,"-").concat(Oe.y2)}))}))});return k.createElement(ct,{className:"recharts-errorBars"},g)}}])}(k.Component);KS(Vo,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});KS(Vo,"displayName","ErrorBar");function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function s1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(r),!0).forEach(function(n){dW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dW(e,t,r){return t=hW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hW(e){var t=mW(e,"string");return lc(t)=="symbol"?t:t+""}function mW(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XS=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=an(r,li);if(!s)return null;var o=li.defaultProps,l=o!==void 0?ji(ji({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(f,d){var h=d.item,m=d.props,g=m.sectors||m.data||[];return f.concat(g.map(function(p){return{type:s.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):c=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,m=h!==void 0?ji(ji({},h),d.props):{},g=m.dataKey,p=m.name,v=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:l.iconType||v||"square",color:kg(d),value:p||g,payload:m}}),ji(ji(ji({},l),li.getWithHeight(s,a)),{},{payload:c,item:s})};function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function o1(e){return xW(e)||vW(e)||gW(e)||pW()}function pW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gW(e,t){if(e){if(typeof e=="string")return Cm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cm(e,t)}}function vW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xW(e){if(Array.isArray(e))return Cm(e)}function Cm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l1(Object(r),!0).forEach(function(n){Ys(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ys(e,t,r){return t=yW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=bW(e,"string");return cc(t)=="symbol"?t:t+""}function bW(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jt(e,t,r){return Ge(e)||Ge(t)?r:Xt(t)?_n(e,t,r):Ke(t)?t(e):r}function Ml(e,t,r,n){var a=vU(e,function(o){return Jt(o,t)});if(r==="number"){var i=a.filter(function(o){return we(o)||parseFloat(o)});return i.length?[Kd(i),ni(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!Ge(o)}):a;return s.map(function(o){return Xt(o)||o instanceof Date?o:""})}var wW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var f=c>0?a[c-1].coordinate:a[o-1].coordinate,d=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,m=void 0;if(Ln(d-f)!==Ln(h-d)){var g=[];if(Ln(h-d)===Ln(l[1]-l[0])){m=h;var p=d+l[1]-l[0];g[0]=Math.min(p,(p+f)/2),g[1]=Math.max(p,(p+f)/2)}else{m=f;var v=h+l[1]-l[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var b=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var w=Math.min(f,h),x=Math.max(f,h);if(t>(w+d)/2&&t<=(x+d)/2){s=a[c].index;break}}}else for(var _=0;_<o;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},kg=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?$t($t({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},_W=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var f=i[o[l]].stackGroups,d=Object.keys(f),h=0,m=d.length;h<m;h++){var g=f[d[h]],p=g.items,v=g.cateAxisId,b=p.filter(function(S){return Ea(S.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,x=w!==void 0?$t($t({},w),b[0].props):b[0].props,_=x.barSize,y=x[v];s[y]||(s[y]=[]);var E=Ge(_)?r:_;s[y].push({item:b[0],stackList:b.slice(1),barSize:Ge(E)?void 0:Ji(E,n,0)})}}return s},SW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=Ji(r,a,0,!0),f,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=a/l,g=s.reduce(function(_,y){return _+y.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&m>0&&(h=!0,m*=.9,g=l*m);var p=(a-g)/2>>0,v={offset:p-c,size:0};f=s.reduce(function(_,y){var E={item:y.item,position:{offset:v.offset+v.size+c,size:h?m:y.barSize}},S=[].concat(o1(_),[E]);return v=S[S.length-1].position,y.stackList&&y.stackList.length&&y.stackList.forEach(function(A){S.push({item:A,position:v})}),S},d)}else{var b=Ji(n,a,0,!0);a-2*b-(l-1)*c<=0&&(c=0);var w=(a-2*b-(l-1)*c)/l;w>1&&(w>>=0);var x=o===+o?Math.min(w,o):w;f=s.reduce(function(_,y,E){var S=[].concat(o1(_),[{item:y.item,position:{offset:b+(w+c)*E+(w-x)/2,size:x}}]);return y.stackList&&y.stackList.length&&y.stackList.forEach(function(A){S.push({item:A,position:S[S.length-1].position})}),S},d)}return f},EW=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=XS({children:i,legendWidth:l});if(c){var f=a||{},d=f.width,h=f.height,m=c.align,g=c.verticalAlign,p=c.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&we(t[m]))return $t($t({},t),{},Ys({},m,t[m]+(d||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&we(t[g]))return $t($t({},t),{},Ys({},g,t[g]+(h||0)))}return t},TW=function(t,r,n){return Ge(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},JS=function(t,r,n,a,i){var s=r.props.children,o=Gr(s,Vo).filter(function(c){return TW(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,f){var d=Jt(f,n);if(Ge(d))return c;var h=Array.isArray(d)?[Kd(d),ni(d)]:[d,d],m=l.reduce(function(g,p){var v=Jt(f,p,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},OW=function(t,r,n,a,i){var s=r.map(function(o){return JS(t,o,n,i,a)}).filter(function(o){return!Ge(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},ZS=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&JS(t,l,c,a)||Ml(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var f=0,d=c.length;f<d;f++)o[c[f]]||(o[c[f]]=!0,l.push(c[f]));return l},[])},QS=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},eE=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},wa=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Ln(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return f.filter(function(d){return!Bo(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:i?i[d]:d,index:h,offset:c}})},o0=new WeakMap,Tu=function(t,r){if(typeof r!="function")return t;o0.has(t)||o0.set(t,new WeakMap);var n=o0.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},AW=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:tc(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:pf(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Dl(),realScaleType:"point"}:i==="category"?{scale:tc(),realScaleType:"band"}:{scale:pf(),realScaleType:"linear"};if(Wc(a)){var l="scale".concat(Md(a));return{scale:(t1[l]||Dl)(),realScaleType:t1[l]?l:"point"}}return Ke(a)?{scale:a}:{scale:Dl(),realScaleType:"point"}},c1=1e-4,jW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-c1,s=Math.max(a[0],a[1])+c1,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},NW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},PW=function(t,r){if(!r||r.length!==2||!we(r[0])||!we(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!we(t[0])||t[0]<n)&&(i[0]=n),(!we(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},kW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=Bo(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},CW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Bo(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},DW={sign:kW,expand:KM,none:no,silhouette:YM,wiggle:XM,positive:CW},MW=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=DW[n],s=VM().keys(a).value(function(o,l){return+Jt(o,l,0)}).order(nm).offset(i);return s(t)},IW=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(d,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?$t($t({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return d;var b=g[n],w=d[b]||{hasStack:!1,stackGroups:{}};if(Xt(p)){var x=w.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};x.items.push(h),w.hasStack=!0,w.stackGroups[p]=x}else w.stackGroups[us("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return $t($t({},d),{},Ys({},b,w))},l),f={};return Object.keys(c).reduce(function(d,h){var m=c[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var b=m.stackGroups[v];return $t($t({},p),{},Ys({},v,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:MW(t,b.items,i)}))},g)}return $t($t({},d),{},Ys({},h,m))},f)},$W=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var f=VU(c,i,o);return t.domain([Kd(f),ni(f)]),{niceTicks:f}}if(i&&a==="number"){var d=t.domain(),h=KU(d,i,o);return{niceTicks:h}}return null};function ho(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ge(a[t.dataKey])){var o=qu(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Jt(a,Ge(s)?t.dataKey:s);return Ge(l)?null:t.scale(l)}var u1=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=Jt(s,r.dataKey,r.domain[o]);return Ge(l)?null:r.scale(l)-i/2+a},FW=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},RW=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?$t($t({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Xt(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},LW=function(t){return t.reduce(function(r,n){return[Kd(n.concat([r[0]]).filter(we)),ni(n.concat([r[1]]).filter(we))]},[1/0,-1/0])},tE=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,f){var d=LW(f.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},f1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,d1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dm=function(t,r,n){if(Ke(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(we(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(f1.test(t[0])){var i=+f1.exec(t[0])[1];a[0]=r[0]-i}else Ke(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(we(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(d1.test(t[1])){var s=+d1.exec(t[1])[1];a[1]=r[1]+s}else Ke(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},_f=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=ag(r,function(d){return d.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],f=i[o-1];s=Math.min((c.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},h1=function(t,r,n){return!t||!t.length||Zi(t,_n(n,"type.defaultProps.domain"))?r:t},rE=function(t,r){var n=t.type.defaultProps?$t($t({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,f=n.hide;return $t($t({},qe(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:kg(t),value:Jt(r,a),type:l,payload:r,chartType:c,hide:f})};function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function m1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(r),!0).forEach(function(n){BW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BW(e,t,r){return t=UW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UW(e){var t=WW(e,"string");return uc(t)=="symbol"?t:t+""}function WW(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sf=Math.PI/180,zW=function(t){return t*180/Math.PI},mr=function(t,r,n,a){return{x:t+Math.cos(-Sf*a)*n,y:r+Math.sin(-Sf*a)*n}},HW=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},qW=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=HW({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:zW(c),angleInRadian:c}},GW=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},VW=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},g1=function(t,r){var n=t.x,a=t.y,i=qW({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var f=GW(r),d=f.startAngle,h=f.endAngle,m=o,g;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=d}return g?p1(p1({},r),{},{radius:s,angle:VW(m,r)}):null};function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}var KW=["offset"];function YW(e){return QW(e)||ZW(e)||JW(e)||XW()}function XW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JW(e,t){if(e){if(typeof e=="string")return Mm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mm(e,t)}}function ZW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QW(e){if(Array.isArray(e))return Mm(e)}function Mm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ez(e,t){if(e==null)return{};var r=tz(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v1(Object(r),!0).forEach(function(n){rz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rz(e,t,r){return t=nz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nz(e){var t=az(e,"string");return fc(t)=="symbol"?t:t+""}function az(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dc.apply(this,arguments)}var iz=function(t){var r=t.value,n=t.formatter,a=Ge(t.children)?r:t.children;return Ke(n)?n(a):a},sz=function(t,r){var n=Ln(r-t),a=Math.min(Math.abs(r-t),360);return n*a},oz=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,m=l.startAngle,g=l.endAngle,p=l.clockWise,v=(d+h)/2,b=sz(m,g),w=b>=0?1:-1,x,_;a==="insideStart"?(x=m+w*s,_=p):a==="insideEnd"?(x=g-w*s,_=!p):a==="end"&&(x=g+w*s,_=p),_=b<=0?_:!_;var y=mr(c,f,v,x),E=mr(c,f,v,x+(_?1:-1)*359),S="M".concat(y.x,",").concat(y.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(E.x,",").concat(E.y),A=Ge(t.id)?us("recharts-radial-line-"):t.id;return k.createElement("text",dc({},n,{dominantBaseline:"central",className:at("recharts-radial-bar-label",o)}),k.createElement("defs",null,k.createElement("path",{id:A,d:S})),k.createElement("textPath",{xlinkHref:"#".concat(A)},r))},lz=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,f=i.startAngle,d=i.endAngle,h=(f+d)/2;if(a==="outside"){var m=mr(s,o,c+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,b=mr(s,o,v,h),w=b.x,x=b.y;return{x:w,y:x,textAnchor:"middle",verticalAnchor:"middle"}},cz=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,f=s.height,d=f>=0?1:-1,h=d*a,m=d>0?"end":"start",g=d>0?"start":"end",p=c>=0?1:-1,v=p*a,b=p>0?"end":"start",w=p>0?"start":"end";if(i==="top"){var x={x:o+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:m};return Kt(Kt({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var _={x:o+c/2,y:l+f+h,textAnchor:"middle",verticalAnchor:g};return Kt(Kt({},_),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(i==="left"){var y={x:o-v,y:l+f/2,textAnchor:b,verticalAnchor:"middle"};return Kt(Kt({},y),n?{width:Math.max(y.x-n.x,0),height:f}:{})}if(i==="right"){var E={x:o+c+v,y:l+f/2,textAnchor:w,verticalAnchor:"middle"};return Kt(Kt({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:f}:{})}var S=n?{width:c,height:f}:{};return i==="insideLeft"?Kt({x:o+v,y:l+f/2,textAnchor:w,verticalAnchor:"middle"},S):i==="insideRight"?Kt({x:o+c-v,y:l+f/2,textAnchor:b,verticalAnchor:"middle"},S):i==="insideTop"?Kt({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},S):i==="insideBottom"?Kt({x:o+c/2,y:l+f-h,textAnchor:"middle",verticalAnchor:m},S):i==="insideTopLeft"?Kt({x:o+v,y:l+h,textAnchor:w,verticalAnchor:g},S):i==="insideTopRight"?Kt({x:o+c-v,y:l+h,textAnchor:b,verticalAnchor:g},S):i==="insideBottomLeft"?Kt({x:o+v,y:l+f-h,textAnchor:w,verticalAnchor:m},S):i==="insideBottomRight"?Kt({x:o+c-v,y:l+f-h,textAnchor:b,verticalAnchor:m},S):$o(i)&&(we(i.x)||Wi(i.x))&&(we(i.y)||Wi(i.y))?Kt({x:o+Ji(i.x,c),y:l+Ji(i.y,f),textAnchor:"end",verticalAnchor:"end"},S):Kt({x:o+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},S)},uz=function(t){return"cx"in t&&we(t.cx)};function Tr(e){var t=e.offset,r=t===void 0?5:t,n=ez(e,KW),a=Kt({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!i||Ge(o)&&Ge(l)&&!U.isValidElement(c)&&!Ke(c))return null;if(U.isValidElement(c))return U.cloneElement(c,a);var m;if(Ke(c)){if(m=U.createElement(c,a),U.isValidElement(m))return m}else m=iz(a);var g=uz(i),p=qe(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return oz(a,m,p);var v=g?lz(a):cz(a);return k.createElement(lf,dc({className:at("recharts-label",d)},p,v,{breakAll:h}),m)}Tr.displayName="Label";var nE=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,b=t.clockWise,w=t.labelViewBox;if(w)return w;if(we(p)&&we(v)){if(we(d)&&we(h))return{x:d,y:h,width:p,height:v};if(we(m)&&we(g))return{x:m,y:g,width:p,height:v}}return we(d)&&we(h)?{x:d,y:h,width:0,height:0}:we(r)&&we(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:f||l||o||0,clockWise:b}:t.viewBox?t.viewBox:{}},fz=function(t,r){return t?t===!0?k.createElement(Tr,{key:"label-implicit",viewBox:r}):Xt(t)?k.createElement(Tr,{key:"label-implicit",viewBox:r,value:t}):U.isValidElement(t)?t.type===Tr?U.cloneElement(t,{key:"label-implicit",viewBox:r}):k.createElement(Tr,{key:"label-implicit",content:t,viewBox:r}):Ke(t)?k.createElement(Tr,{key:"label-implicit",content:t,viewBox:r}):$o(t)?k.createElement(Tr,dc({viewBox:r},t,{key:"label-implicit"})):null:null},dz=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=nE(t),s=Gr(a,Tr).map(function(l,c){return U.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=fz(t.label,r||i);return[o].concat(YW(s))};Tr.parseViewBox=nE;Tr.renderCallByParent=dz;function hz(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var mz=hz;const pz=At(mz);function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}var gz=["valueAccessor"],vz=["data","dataKey","clockWise","id","textBreakAll"];function xz(e){return _z(e)||wz(e)||bz(e)||yz()}function yz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bz(e,t){if(e){if(typeof e=="string")return Im(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Im(e,t)}}function wz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _z(e){if(Array.isArray(e))return Im(e)}function Im(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ef.apply(this,arguments)}function x1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(r),!0).forEach(function(n){Sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sz(e,t,r){return t=Ez(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ez(e){var t=Tz(e,"string");return hc(t)=="symbol"?t:t+""}function Tz(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b1(e,t){if(e==null)return{};var r=Oz(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Az=function(t){return Array.isArray(t.value)?pz(t.value):t.value};function jr(e){var t=e.valueAccessor,r=t===void 0?Az:t,n=b1(e,gz),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=b1(n,vz);return!a||!a.length?null:k.createElement(ct,{className:"recharts-label-list"},a.map(function(f,d){var h=Ge(i)?r(f,d):Jt(f&&f.payload,i),m=Ge(o)?{}:{id:"".concat(o,"-").concat(d)};return k.createElement(Tr,Ef({},qe(f,!0),c,m,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:Tr.parseViewBox(Ge(s)?f:y1(y1({},f),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}jr.displayName="LabelList";function jz(e,t){return e?e===!0?k.createElement(jr,{key:"labelList-implicit",data:t}):k.isValidElement(e)||Ke(e)?k.createElement(jr,{key:"labelList-implicit",data:t,content:e}):$o(e)?k.createElement(jr,Ef({data:t},e,{key:"labelList-implicit"})):null:null}function Nz(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Gr(n,jr).map(function(s,o){return U.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=jz(e.label,t);return[i].concat(xz(a))}jr.renderCallByParent=Nz;function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(this,arguments)}function w1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w1(Object(r),!0).forEach(function(n){Pz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pz(e,t,r){return t=kz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kz(e){var t=Cz(e,"string");return mc(t)=="symbol"?t:t+""}function Cz(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dz=function(t,r){var n=Ln(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ou=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,f=l*(o?1:-1)+a,d=Math.asin(l/f)/Sf,h=c?i:i+s*d,m=mr(r,n,f,h),g=mr(r,n,a,h),p=c?i-s*d:i,v=mr(r,n,f*Math.cos(d*Sf),p);return{center:m,circleTangency:g,lineTangency:v,theta:d}},aE=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=Dz(s,o),c=s+l,f=mr(r,n,i,s),d=mr(r,n,i,c),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var m=mr(r,n,a,s),g=mr(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Mz=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,f=t.endAngle,d=Ln(f-c),h=Ou({cx:r,cy:n,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=Ou({cx:r,cy:n,radius:i,angle:f,sign:-d,cornerRadius:s,cornerIsExternal:l}),b=v.circleTangency,w=v.lineTangency,x=v.theta,_=l?Math.abs(c-f):Math.abs(c-f)-p-x;if(_<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):aE({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:f});var y="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var E=Ou({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),S=E.circleTangency,A=E.lineTangency,T=E.theta,N=Ou({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=N.circleTangency,D=N.lineTangency,L=N.theta,q=l?Math.abs(c-f):Math.abs(c-f)-T-L;if(q<0&&s===0)return"".concat(y,"L").concat(r,",").concat(n,"Z");y+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(q>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,"Z")}else y+="L".concat(r,",").concat(n,"Z");return y},Iz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iE=function(t){var r=_1(_1({},Iz),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(s<i||f===d)return null;var m=at("recharts-sector",h),g=s-i,p=Ji(o,g,0,!0),v;return p>0&&Math.abs(f-d)<360?v=Mz({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):v=aE({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:f,endAngle:d}),k.createElement("path",$m({},qe(r,!0),{className:m,d:v,role:"img"}))};function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(this,arguments)}function S1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(r),!0).forEach(function(n){$z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $z(e,t,r){return t=Fz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fz(e){var t=Rz(e,"string");return pc(t)=="symbol"?t:t+""}function Rz(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T1={curveBasisClosed:$M,curveBasisOpen:FM,curveBasis:IM,curveBumpX:wM,curveBumpY:_M,curveLinearClosed:RM,curveLinear:$d,curveMonotoneX:LM,curveMonotoneY:BM,curveNatural:UM,curveStep:WM,curveStepAfter:HM,curveStepBefore:zM},Au=function(t){return t.x===+t.x&&t.y===+t.y},ml=function(t){return t.x},pl=function(t){return t.y},Lz=function(t,r){if(Ke(t))return t;var n="curve".concat(Md(t));return(n==="curveMonotone"||n==="curveBump")&&r?T1["".concat(n).concat(r==="vertical"?"Y":"X")]:T1[n]||$d},Bz=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,f=Lz(n,o),d=c?i.filter(function(p){return Au(p)}):i,h;if(Array.isArray(s)){var m=c?s.filter(function(p){return Au(p)}):s,g=d.map(function(p,v){return E1(E1({},p),{},{base:m[v]})});return o==="vertical"?h=vu().y(pl).x1(ml).x0(function(p){return p.base.x}):h=vu().x(ml).y1(pl).y0(function(p){return p.base.y}),h.defined(Au).curve(f),h(g)}return o==="vertical"&&we(s)?h=vu().y(pl).x1(ml).x0(s):we(s)?h=vu().x(ml).y1(pl).y0(s):h=s2().x(ml).y(pl),h.defined(Au).curve(f),h(d)},Yi=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?Bz(t):a;return k.createElement("path",Fm({},qe(t,!1),Gu(t),{className:at("recharts-curve",r),d:s,ref:i}))},sE={exports:{}},Uz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Wz=Uz,zz=Wz;function oE(){}function lE(){}lE.resetWarningCache=oE;var Hz=function(){function e(n,a,i,s,o,l){if(l!==zz){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:lE,resetWarningCache:oE};return r.PropTypes=r,r};sE.exports=Hz();var Kc=sE.exports;const dt=At(Kc);var qz=Object.getOwnPropertyNames,Gz=Object.getOwnPropertySymbols,Vz=Object.prototype.hasOwnProperty;function O1(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function ju(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function A1(e){return qz(e).concat(Gz(e))}var Kz=Object.hasOwn||function(e,t){return Vz.call(e,t)};function hs(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Yz="__v",Xz="__o",Jz="_owner",j1=Object.getOwnPropertyDescriptor,N1=Object.keys;function Zz(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Qz(e,t){return hs(e.getTime(),t.getTime())}function eH(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function tH(e,t){return e===t}function P1(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),f=!1,d=0;(o=c.next())&&!o.done;){if(a[d]){d++;continue}var h=s.value,m=o.value;if(r.equals(h[0],m[0],l,d,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;l++}return!0}var rH=hs;function nH(e,t,r){var n=N1(e),a=n.length;if(N1(t).length!==a)return!1;for(;a-- >0;)if(!cE(e,t,r,n[a]))return!1;return!0}function gl(e,t,r){var n=A1(e),a=n.length;if(A1(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!cE(e,t,r,i)||(s=j1(e,i),o=j1(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function aH(e,t){return hs(e.valueOf(),t.valueOf())}function iH(e,t){return e.source===t.source&&e.flags===t.flags}function k1(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,f=0;(o=l.next())&&!o.done;){if(!a[f]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[f]=!0;break}f++}if(!c)return!1}return!0}function sH(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function oH(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function cE(e,t,r,n){return(n===Jz||n===Xz||n===Yz)&&(e.$$typeof||t.$$typeof)?!0:Kz(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var lH="[object Arguments]",cH="[object Boolean]",uH="[object Date]",fH="[object Error]",dH="[object Map]",hH="[object Number]",mH="[object Object]",pH="[object RegExp]",gH="[object Set]",vH="[object String]",xH="[object URL]",yH=Array.isArray,C1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,D1=Object.assign,bH=Object.prototype.toString.call.bind(Object.prototype.toString);function wH(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,p,v){if(g===p)return!0;if(g==null||p==null)return!1;var b=typeof g;if(b!==typeof p)return!1;if(b!=="object")return b==="number"?s(g,p,v):b==="function"?a(g,p,v):!1;var w=g.constructor;if(w!==p.constructor)return!1;if(w===Object)return o(g,p,v);if(yH(g))return t(g,p,v);if(C1!=null&&C1(g))return d(g,p,v);if(w===Date)return r(g,p,v);if(w===RegExp)return c(g,p,v);if(w===Map)return i(g,p,v);if(w===Set)return f(g,p,v);var x=bH(g);return x===uH?r(g,p,v):x===pH?c(g,p,v):x===dH?i(g,p,v):x===gH?f(g,p,v):x===mH?typeof g.then!="function"&&typeof p.then!="function"&&o(g,p,v):x===xH?h(g,p,v):x===fH?n(g,p,v):x===lH?o(g,p,v):x===cH||x===hH||x===vH?l(g,p,v):!1}}function _H(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?gl:Zz,areDatesEqual:Qz,areErrorsEqual:eH,areFunctionsEqual:tH,areMapsEqual:n?O1(P1,gl):P1,areNumbersEqual:rH,areObjectsEqual:n?gl:nH,arePrimitiveWrappersEqual:aH,areRegExpsEqual:iH,areSetsEqual:n?O1(k1,gl):k1,areTypedArraysEqual:n?gl:sH,areUrlsEqual:oH};if(r&&(a=D1({},a,r(a))),t){var i=ju(a.areArraysEqual),s=ju(a.areMapsEqual),o=ju(a.areObjectsEqual),l=ju(a.areSetsEqual);a=D1({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function SH(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function EH(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,m=f.meta;return r(l,c,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var TH=vi();vi({strict:!0});vi({circular:!0});vi({circular:!0,strict:!0});vi({createInternalComparator:function(){return hs}});vi({strict:!0,createInternalComparator:function(){return hs}});vi({circular:!0,createInternalComparator:function(){return hs}});vi({circular:!0,createInternalComparator:function(){return hs},strict:!0});function vi(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=_H(e),l=wH(o),c=n?n(l):SH(l);return EH({circular:r,comparator:l,createState:a,equals:c,strict:s})}function OH(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function M1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):OH(a)};requestAnimationFrame(n)}function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function AH(e){return kH(e)||PH(e)||NH(e)||jH()}function jH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NH(e,t){if(e){if(typeof e=="string")return I1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I1(e,t)}}function I1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kH(e){if(Array.isArray(e))return e}function CH(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=AH(s),l=o[0],c=o.slice(1);if(typeof l=="number"){M1(a.bind(null,c),l);return}a(l),M1(a.bind(null,c));return}Rm(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){uE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uE(e,t,r){return t=DH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DH(e){var t=MH(e,"string");return gc(t)==="symbol"?t:String(t)}function MH(e,t){if(gc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IH=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},$H=function(t){return t},FH=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Il=function(t,r){return Object.keys(r).reduce(function(n,a){return F1(F1({},n),{},uE({},a,t(a,r[a])))},{})},R1=function(t,r,n){return t.map(function(a){return"".concat(FH(a)," ").concat(r,"ms ").concat(n)}).join(",")};function RH(e,t){return UH(e)||BH(e,t)||fE(e,t)||LH()}function LH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function UH(e){if(Array.isArray(e))return e}function WH(e){return qH(e)||HH(e)||fE(e)||zH()}function zH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fE(e,t){if(e){if(typeof e=="string")return Lm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lm(e,t)}}function HH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qH(e){if(Array.isArray(e))return Lm(e)}function Lm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tf=1e-4,dE=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},hE=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},L1=function(t,r){return function(n){var a=dE(t,r);return hE(a,n)}},GH=function(t,r){return function(n){var a=dE(t,r),i=[].concat(WH(a.map(function(s,o){return s*o}).slice(1)),[0]);return hE(i,n)}},B1=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),f=RH(c,4);a=f[0],i=f[1],s=f[2],o=f[3]}}}var d=L1(a,s),h=L1(i,o),m=GH(a,s),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var w=b>1?1:b,x=w,_=0;_<8;++_){var y=d(x)-w,E=m(x);if(Math.abs(y-w)<Tf||E<Tf)return h(x);x=g(x-y/E)}return h(x)};return p.isStepper=!1,p},VH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(f,d,h){var m=-(f-d)*n,g=h*i,p=h+(m-g)*o/1e3,v=h*o/1e3+f;return Math.abs(v-d)<Tf&&Math.abs(p)<Tf?[d,0]:[v,p]};return l.isStepper=!0,l.dt=o,l},KH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return B1(a);case"spring":return VH();default:if(a.split("(")[0]==="cubic-bezier")return B1(a)}return typeof a=="function"?a:null};function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function U1(e){return JH(e)||XH(e)||mE(e)||YH()}function YH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JH(e){if(Array.isArray(e))return Um(e)}function W1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(r),!0).forEach(function(n){Bm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bm(e,t,r){return t=ZH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZH(e){var t=QH(e,"string");return vc(t)==="symbol"?t:String(t)}function QH(e,t){if(vc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eq(e,t){return nq(e)||rq(e,t)||mE(e,t)||tq()}function tq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mE(e,t){if(e){if(typeof e=="string")return Um(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Um(e,t)}}function Um(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function nq(e){if(Array.isArray(e))return e}var Of=function(t,r,n){return t+(r-t)*n},Wm=function(t){var r=t.from,n=t.to;return r!==n},aq=function e(t,r,n){var a=Il(function(i,s){if(Wm(s)){var o=t(s.from,s.to,s.velocity),l=eq(o,2),c=l[0],f=l[1];return ur(ur({},s),{},{from:c,velocity:f})}return s},r);return n<1?Il(function(i,s){return Wm(s)?ur(ur({},s),{},{velocity:Of(s.velocity,a[i].velocity,n),from:Of(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const iq=function(e,t,r,n,a){var i=IH(e,t),s=i.reduce(function(v,b){return ur(ur({},v),{},Bm({},b,[e[b],t[b]]))},{}),o=i.reduce(function(v,b){return ur(ur({},v),{},Bm({},b,{from:e[b],velocity:0,to:t[b]}))},{}),l=-1,c,f,d=function(){return null},h=function(){return Il(function(b,w){return w.from},o)},m=function(){return!Object.values(o).filter(Wm).length},g=function(b){c||(c=b);var w=b-c,x=w/r.dt;o=aq(r,o,x),a(ur(ur(ur({},e),t),h())),c=b,m()||(l=requestAnimationFrame(d))},p=function(b){f||(f=b);var w=(b-f)/n,x=Il(function(y,E){return Of.apply(void 0,U1(E).concat([r(w)]))},s);if(a(ur(ur(ur({},e),t),x)),w<1)l=requestAnimationFrame(d);else{var _=Il(function(y,E){return Of.apply(void 0,U1(E).concat([r(1)]))},s);a(ur(ur(ur({},e),t),_))}};return d=r.isStepper?g:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}var sq=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function oq(e,t){if(e==null)return{};var r=lq(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lq(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function l0(e){return dq(e)||fq(e)||uq(e)||cq()}function cq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uq(e,t){if(e){if(typeof e=="string")return zm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zm(e,t)}}function fq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dq(e){if(Array.isArray(e))return zm(e)}function zm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(r),!0).forEach(function(n){Ol(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ol(e,t,r){return t=pE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pE(n.key),n)}}function pq(e,t,r){return t&&mq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pE(e){var t=gq(e,"string");return mo(t)==="symbol"?t:String(t)}function gq(e,t){if(mo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hm(e,t)}function Hm(e,t){return Hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hm(e,t)}function xq(e){var t=yq();return function(){var n=Af(e),a;if(t){var i=Af(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return qm(this,a)}}function qm(e,t){if(t&&(mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gm(e)}function Gm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Af(e)}var Hn=function(e){vq(r,e);var t=xq(r);function r(n,a){var i;hq(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,f=s.to,d=s.steps,h=s.children,m=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Gm(i)),i.changeStyle=i.changeStyle.bind(Gm(i)),!o||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:f}),qm(i);if(d&&d.length)i.state={style:d[0].style};else if(c){if(typeof h=="function")return i.state={style:c},qm(i);i.state={style:l?Ol({},l,c):c}}else i.state={style:{}};return i}return pq(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,f=i.to,d=i.from,h=this.state.style;if(o){if(!s){var m={style:l?Ol({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(m);return}if(!(TH(a.to,f)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||c?d:a.to;if(this.state&&h){var v={style:l?Ol({},l,p):p};(l&&h[l]!==p||!l&&h!==p)&&this.setState(v)}this.runAnimation(Pn(Pn({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,m=iq(s,o,KH(c),l,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([h,f,g,l,d])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],f=c.style,d=c.duration,h=d===void 0?0:d,m=function(p,v,b){if(b===0)return p;var w=v.duration,x=v.easing,_=x===void 0?"ease":x,y=v.style,E=v.properties,S=v.onAnimationEnd,A=b>0?s[b-1]:v,T=E||Object.keys(y);if(typeof _=="function"||_==="spring")return[].concat(l0(p),[i.runJSAnimation.bind(i,{from:A.style,to:y,duration:w,easing:_}),w]);var N=R1(T,w,_),j=Pn(Pn(Pn({},A.style),y),{},{transition:N});return[].concat(l0(p),[j,w,S]).filter($H)};return this.manager.start([l].concat(l0(s.reduce(m,[f,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=CH());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=o?Ol({},o,l):l,v=R1(Object.keys(p),s,c);g.start([f,i,Pn(Pn({},p),{},{transition:v}),s,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=oq(a,sq),c=U.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!o||c===0||s<=0)return i;var d=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,b=g.className,w=U.cloneElement(m,Pn(Pn({},l),{},{style:Pn(Pn({},v),f),className:b}));return w};return c===1?d(U.Children.only(i)):k.createElement("div",null,U.Children.map(i,function(h){return d(h)}))}}]),r}(U.PureComponent);Hn.displayName="Animate";Hn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Hn.propTypes={from:dt.oneOfType([dt.object,dt.string]),to:dt.oneOfType([dt.object,dt.string]),attributeName:dt.string,duration:dt.number,begin:dt.number,easing:dt.oneOfType([dt.string,dt.func]),steps:dt.arrayOf(dt.shape({duration:dt.number.isRequired,style:dt.object.isRequired,easing:dt.oneOfType([dt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),dt.func]),properties:dt.arrayOf("string"),onAnimationEnd:dt.func})),children:dt.oneOfType([dt.node,dt.func]),isActive:dt.bool,canBegin:dt.bool,onAnimationEnd:dt.func,shouldReAnimate:dt.bool,onAnimationStart:dt.func,onAnimationReStart:dt.func};function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(this,arguments)}function bq(e,t){return Eq(e)||Sq(e,t)||_q(e,t)||wq()}function wq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _q(e,t){if(e){if(typeof e=="string")return H1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H1(e,t)}}function H1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Eq(e){if(Array.isArray(e))return e}function q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(r),!0).forEach(function(n){Tq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tq(e,t,r){return t=Oq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oq(e){var t=Aq(e,"string");return xc(t)=="symbol"?t:t+""}function Aq(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V1=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,m=4;h<m;h++)d[h]=i[h]>s?s:i[h];f="M".concat(t,",").concat(r+o*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),f+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*d[1])),f+="L ".concat(t+n,",").concat(r+a-o*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),f+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*d[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);f="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},jq=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),f=Math.max(i,i+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=f&&a>=d&&a<=h}return!1},Nq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cg=function(t){var r=G1(G1({},Nq),t),n=U.useRef(),a=U.useState(-1),i=bq(a,2),s=i[0],o=i[1];U.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,f=r.width,d=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||f===0||d===0)return null;var x=at("recharts-rectangle",m);return w?k.createElement(Hn,{canBegin:s>0,from:{width:f,height:d,x:l,y:c},to:{width:f,height:d,x:l,y:c},duration:p,animationEasing:g,isActive:w},function(_){var y=_.width,E=_.height,S=_.x,A=_.y;return k.createElement(Hn,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:b,easing:g},k.createElement("path",jf({},qe(r,!0),{className:x,d:V1(S,A,y,E,h),ref:n})))}):k.createElement("path",jf({},qe(r,!0),{className:x,d:V1(l,c,f,d,h)}))};function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vm.apply(this,arguments)}var Jd=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=at("recharts-dot",i);return r===+r&&n===+n&&a===+a?k.createElement("circle",Vm({},qe(t,!1),Gu(t),{className:s,cx:r,cy:n,r:a})):null};function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}var Pq=["x","y","top","left","width","height","className"];function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(this,arguments)}function K1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(r),!0).forEach(function(n){Cq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cq(e,t,r){return t=Dq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=Mq(e,"string");return yc(t)=="symbol"?t:t+""}function Mq(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iq(e,t){if(e==null)return{};var r=$q(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $q(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Fq=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Rq=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,f=t.width,d=f===void 0?0:f,h=t.height,m=h===void 0?0:h,g=t.className,p=Iq(t,Pq),v=kq({x:n,y:i,top:o,left:c,width:d,height:m},p);return!we(n)||!we(i)||!we(d)||!we(m)||!we(o)||!we(c)?null:k.createElement("path",Km({},qe(v,!0),{className:at("recharts-cross",g),d:Fq(n,i,d,m,o,c)}))},Lq=P2,Bq=Lq(Object.getPrototypeOf,Object),Uq=Bq,Wq=$a,zq=Uq,Hq=Fa,qq="[object Object]",Gq=Function.prototype,Vq=Object.prototype,gE=Gq.toString,Kq=Vq.hasOwnProperty,Yq=gE.call(Object);function Xq(e){if(!Hq(e)||Wq(e)!=qq)return!1;var t=zq(e);if(t===null)return!0;var r=Kq.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&gE.call(r)==Yq}var Jq=Xq;const Zq=At(Jq);var Qq=$a,eG=Fa,tG="[object Boolean]";function rG(e){return e===!0||e===!1||eG(e)&&Qq(e)==tG}var nG=rG;const aG=At(nG);function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nf.apply(this,arguments)}function iG(e,t){return cG(e)||lG(e,t)||oG(e,t)||sG()}function sG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oG(e,t){if(e){if(typeof e=="string")return Y1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y1(e,t)}}function Y1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function cG(e){if(Array.isArray(e))return e}function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){uG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uG(e,t,r){return t=fG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=dG(e,"string");return bc(t)=="symbol"?t:t+""}function dG(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z1=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},hG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mG=function(t){var r=J1(J1({},hG),t),n=U.useRef(),a=U.useState(-1),i=iG(a,2),s=i[0],o=i[1];U.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&o(x)}catch{}},[]);var l=r.x,c=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var w=at("recharts-trapezoid",m);return b?k.createElement(Hn,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:c},duration:p,animationEasing:g,isActive:b},function(x){var _=x.upperWidth,y=x.lowerWidth,E=x.height,S=x.x,A=x.y;return k.createElement(Hn,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},k.createElement("path",Nf({},qe(r,!0),{className:w,d:Z1(S,A,_,y,E),ref:n})))}):k.createElement("g",null,k.createElement("path",Nf({},qe(r,!0),{className:w,d:Z1(l,c,f,d,h)})))},pG=["option","shapeType","propTransformer","activeClassName","isActive"];function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function gG(e,t){if(e==null)return{};var r=vG(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(r),!0).forEach(function(n){xG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xG(e,t,r){return t=yG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yG(e){var t=bG(e,"string");return wc(t)=="symbol"?t:t+""}function bG(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wG(e,t){return Pf(Pf({},t),e)}function _G(e,t){return e==="symbols"}function eb(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return k.createElement(Cg,r);case"trapezoid":return k.createElement(mG,r);case"sector":return k.createElement(iE,r);case"symbols":if(_G(t))return k.createElement(Rd,r);break;default:return null}}function SG(e){return U.isValidElement(e)?e.props:e}function Ym(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?wG:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=gG(e,pG),c;if(U.isValidElement(t))c=U.cloneElement(t,Pf(Pf({},l),SG(t)));else if(Ke(t))c=t(l);else if(Zq(t)&&!aG(t)){var f=a(t,l);c=k.createElement(eb,{shapeType:r,elementProps:f})}else{var d=l;c=k.createElement(eb,{shapeType:r,elementProps:d})}return o?k.createElement(ct,{className:s},c):c}function Zd(e,t){return t!=null&&"trapezoids"in e.props}function Qd(e,t){return t!=null&&"sectors"in e.props}function _c(e,t){return t!=null&&"points"in e.props}function EG(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function TG(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function OG(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function AG(e,t){var r;return Zd(e,t)?r=EG:Qd(e,t)?r=TG:_c(e,t)&&(r=OG),r}function jG(e,t){var r;return Zd(e,t)?r="trapezoids":Qd(e,t)?r="sectors":_c(e,t)&&(r="points"),r}function NG(e,t){if(Zd(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Qd(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return _c(e,t)?t.payload:{}}function PG(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=jG(r,t),i=NG(r,t),s=n.filter(function(l,c){var f=Zi(i,l),d=r.props[a].filter(function(g){var p=AG(r,t);return p(g,t)}),h=r.props[a].indexOf(d[d.length-1]),m=c===h;return f&&m}),o=n.indexOf(s[s.length-1]);return o}var kG=Math.ceil,CG=Math.max;function DG(e,t,r,n){for(var a=-1,i=CG(kG((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var MG=DG,IG=Y2,tb=1/0,$G=17976931348623157e292;function FG(e){if(!e)return e===0?e:0;if(e=IG(e),e===tb||e===-tb){var t=e<0?-1:1;return t*$G}return e===e?e:0}var vE=FG,RG=MG,LG=Ud,c0=vE;function BG(e){return function(t,r,n){return n&&typeof n!="number"&&LG(t,r,n)&&(r=n=void 0),t=c0(t),r===void 0?(r=t,t=0):r=c0(r),n=n===void 0?t<r?1:-1:c0(n),RG(t,r,n,e)}}var UG=BG,WG=UG,zG=WG(),HG=zG;const kf=At(HG);function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rb(Object(r),!0).forEach(function(n){xE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xE(e,t,r){return t=qG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qG(e){var t=GG(e,"string");return Sc(t)=="symbol"?t:t+""}function GG(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VG=["Webkit","Moz","O","ms"],KG=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=VG.reduce(function(i,s){return nb(nb({},i),{},xE({},s+n,r))},{});return a[t]=r,a};function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cf.apply(this,arguments)}function ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ab(Object(r),!0).forEach(function(n){rn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ab(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ib(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bE(n.key),n)}}function XG(e,t,r){return t&&ib(e.prototype,t),r&&ib(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JG(e,t,r){return t=Df(t),ZG(e,yE()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function ZG(e,t){if(t&&(po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QG(e)}function QG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yE=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function eV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xm(e,t)}function Xm(e,t){return Xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xm(e,t)}function rn(e,t,r){return t=bE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bE(e){var t=tV(e,"string");return po(t)=="symbol"?t:t+""}function tV(e,t){if(po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rV=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Dl().domain(kf(0,l)).range([i,i+s-o]),f=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:f}},sb=function(t){return t.changedTouches&&!!t.changedTouches.length},go=function(e){function t(r){var n;return YG(this,t),n=JG(this,t,[r]),rn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),rn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),rn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),rn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),rn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),rn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),rn(n,"handleSlideDragStart",function(a){var i=sb(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return eV(t,e),XG(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,f=c.length-1,d=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(s,d),g=t.getIndexInRange(s,h);return{startIndex:m-m%l,endIndex:g===f?f:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=Jt(i[n],o,n);return Ke(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,m=l.endIndex,g=l.onChange,p=n.pageX-i;p>0?p=Math.min(p,c+f-d-o,c+f-d-s):p<0&&(p=Math.max(p,c-s,c-o));var v=this.getIndex({startX:s+p,endX:o+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:s+p,endX:o+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=sb(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],f=this.props,d=f.x,h=f.width,m=f.travellerWidth,g=f.onChange,p=f.gap,v=f.data,b={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,d+h-m-c):w<0&&(w=Math.max(w,d-c)),b[s]=c+w;var x=this.getIndex(b),_=x.startIndex,y=x.endIndex,E=function(){var A=v.length-1;return s==="startX"&&(o>l?_%p===0:y%p===0)||o<l&&y===A||s==="endX"&&(o>l?y%p===0:_%p===0)||o>l&&y===A};this.setState(rn(rn({},s,c+w),"brushMoveStartX",n.pageX),function(){g&&E()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,f=this.state[a],d=o.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=o.length)){var m=o[h];a==="startX"&&m>=c||a==="endX"&&m<=l||this.setState(rn({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return k.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,f=n.padding,d=U.Children.only(c);return d?k.cloneElement(d,{x:a,y:i,width:s,height:o,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,m=l.ariaLabel,g=l.data,p=l.startIndex,v=l.endIndex,b=Math.max(n,this.props.x),w=u0(u0({},qe(this.props,!1)),{},{x:b,y:c,width:f,height:d}),x=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return k.createElement(ct,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(y){["ArrowLeft","ArrowRight"].includes(y.key)&&(y.preventDefault(),y.stopPropagation(),o.handleTravellerMoveKeyboard(y.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,f=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return k.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:s,width:d,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,f=this.state,d=f.startX,h=f.endX,m=5,g={pointerEvents:"none",fill:c};return k.createElement(ct,{className:"recharts-brush-texts"},k.createElement(lf,Cf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-m,y:s+o/2},g),this.getTextOfTick(a)),k.createElement(lf,Cf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+m,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,f=n.height,d=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,w=h.isTravellerFocused;if(!a||!a.length||!we(o)||!we(l)||!we(c)||!we(f)||c<=0||f<=0)return null;var x=at("recharts-brush",i),_=k.Children.count(s)===1,y=KG("userSelect","none");return k.createElement(ct,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:y},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||b||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return k.createElement(k.Fragment,null,k.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),k.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),k.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return k.isValidElement(n)?i=k.cloneElement(n,a):Ke(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,f=n.startIndex,d=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return u0({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?rV({data:i,width:s,x:o,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(U.PureComponent);rn(go,"displayName","Brush");rn(go,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nV=ng;function aV(e,t){var r;return nV(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var iV=aV,sV=_2,oV=mi,lV=iV,cV=Xr,uV=Ud;function fV(e,t,r){var n=cV(e)?sV:lV;return r&&uV(e,t,r)&&(t=void 0),n(e,oV(t))}var dV=fV;const hV=At(dV);var aa=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},ob=H2;function mV(e,t,r){t=="__proto__"&&ob?ob(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var pV=mV,gV=pV,vV=W2,xV=mi;function yV(e,t){var r={};return t=xV(t),vV(e,function(n,a,i){gV(r,a,t(n,a,i))}),r}var bV=yV;const wV=At(bV);function _V(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var SV=_V,EV=ng;function TV(e,t){var r=!0;return EV(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var OV=TV,AV=SV,jV=OV,NV=mi,PV=Xr,kV=Ud;function CV(e,t,r){var n=PV(e)?AV:jV;return r&&kV(e,t,r)&&(t=void 0),n(e,NV(t))}var DV=CV;const wE=At(DV);var MV=["x","y"];function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(this,arguments)}function lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lb(Object(r),!0).forEach(function(n){IV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IV(e,t,r){return t=$V(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $V(e){var t=FV(e,"string");return Ec(t)=="symbol"?t:t+""}function FV(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RV(e,t){if(e==null)return{};var r=LV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BV(e,t){var r=e.x,n=e.y,a=RV(e,MV),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),f=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return vl(vl(vl(vl(vl({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function cb(e){return k.createElement(Ym,Jm({shapeType:"rectangle",propTransformer:BV,activeClassName:"recharts-active-bar"},e))}var UV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||es(),r)}},WV=["value","background"],_E;function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function zV(e,t){if(e==null)return{};var r=HV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mf.apply(this,arguments)}function ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ub(Object(r),!0).forEach(function(n){ai(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EE(n.key),n)}}function GV(e,t,r){return t&&fb(e.prototype,t),r&&fb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VV(e,t,r){return t=If(t),KV(e,SE()?Reflect.construct(t,r||[],If(e).constructor):t.apply(e,r))}function KV(e,t){if(t&&(vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YV(e)}function YV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SE=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},If(e)}function XV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zm(e,t)}function Zm(e,t){return Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zm(e,t)}function ai(e,t,r){return t=EE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EE(e){var t=JV(e,"string");return vo(t)=="symbol"?t:t+""}function JV(e,t){if(vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ko=function(e){function t(){var r;qV(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=VV(this,t,[].concat(a)),ai(r,"state",{isAnimationFinished:!1}),ai(r,"id",us("recharts-bar-")),ai(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),ai(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return XV(t,e),GV(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,f=qe(this.props,!1);return n&&n.map(function(d,h){var m=h===l,g=m?c:s,p=Wt(Wt(Wt({},f),d),{},{isActive:m,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return k.createElement(ct,Mf({className:"recharts-bar-rectangle"},Vl(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),k.createElement(cb,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return k.createElement(Hn,{begin:l,duration:c,isActive:o,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(v,b){var w=h&&h[b];if(w){var x=Bt(w.x,v.x),_=Bt(w.y,v.y),y=Bt(w.width,v.width),E=Bt(w.height,v.height);return Wt(Wt({},v),{},{x:x(g),y:_(g),width:y(g),height:E(g)})}if(s==="horizontal"){var S=Bt(0,v.height),A=S(g);return Wt(Wt({},v),{},{y:v.y+v.height-A,height:A})}var T=Bt(0,v.width),N=T(g);return Wt(Wt({},v),{},{width:N})});return k.createElement(ct,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Zi(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=qe(this.props.background,!1);return i.map(function(c,f){c.value;var d=c.background,h=zV(c,WV);if(!d)return null;var m=Wt(Wt(Wt(Wt(Wt({},h),{},{fill:"#eee"},d),l),Vl(n.props,c,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:f,className:"recharts-bar-background-rectangle"});return k.createElement(cb,Mf({key:"background-bar-".concat(f),option:n.props.background,isActive:f===o},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,f=i.children,d=Gr(f,Vo);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,m=function(v,b){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Jt(v,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return k.createElement(ct,g,d.map(function(p){return k.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,f=n.top,d=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=at("recharts-bar",s),w=o&&o.allowDataOverflow,x=l&&l.allowDataOverflow,_=w||x,y=Ge(p)?this.id:p;return k.createElement(ct,{className:b},w||x?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(y)},k.createElement("rect",{x:w?c:c-d/2,y:x?f:f-h/2,width:w?d:d*2,height:x?h:h*2}))):null,k.createElement(ct,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(y,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,y),(!m||v)&&jr.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(U.PureComponent);_E=Ko;ai(Ko,"displayName","Bar");ai(Ko,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ai(Ko,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,m=NW(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?Wt(Wt({},p),r.props):r.props,b=v.dataKey,w=v.children,x=v.minPointSize,_=g==="horizontal"?s:i,y=c?_.scale.domain():null,E=FW({numericAxis:_}),S=Gr(w,sg),A=d.map(function(T,N){var j,D,L,q,H,K;c?j=PW(c[f+N],y):(j=Jt(T,b),Array.isArray(j)||(j=[E,j]));var Q=UV(x,_E.defaultProps.minPointSize)(j[1],N);if(g==="horizontal"){var fe,se=[s.scale(j[0]),s.scale(j[1])],ve=se[0],Oe=se[1];D=u1({axis:i,ticks:o,bandSize:a,offset:m.offset,entry:T,index:N}),L=(fe=Oe??ve)!==null&&fe!==void 0?fe:void 0,q=m.size;var M=ve-Oe;if(H=Number.isNaN(M)?0:M,K={x:D,y:s.y,width:q,height:s.height},Math.abs(Q)>0&&Math.abs(H)<Math.abs(Q)){var z=Ln(H||Q)*(Math.abs(Q)-Math.abs(H));L-=z,H+=z}}else{var W=[i.scale(j[0]),i.scale(j[1])],I=W[0],ee=W[1];if(D=I,L=u1({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:T,index:N}),q=ee-I,H=m.size,K={x:i.x,y:L,width:i.width,height:H},Math.abs(Q)>0&&Math.abs(q)<Math.abs(Q)){var _e=Ln(q||Q)*(Math.abs(Q)-Math.abs(q));q+=_e}}return Wt(Wt(Wt({},T),{},{x:D,y:L,width:q,height:H,value:c?j:j[1],payload:T,background:K},S&&S[N]&&S[N].props),{},{tooltipPayload:[rE(r,T)],tooltipPosition:{x:D+q/2,y:L+H/2}})});return Wt({data:A,layout:g},h)});function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function ZV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function db(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TE(n.key),n)}}function QV(e,t,r){return t&&db(e.prototype,t),r&&db(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hb(Object(r),!0).forEach(function(n){eh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eh(e,t,r){return t=TE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TE(e){var t=eK(e,"string");return Tc(t)=="symbol"?t:t+""}function eK(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tK=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!an(c,Ko);return f.reduce(function(m,g){var p=r[g],v=p.orientation,b=p.domain,w=p.padding,x=w===void 0?{}:w,_=p.mirror,y=p.reversed,E="".concat(v).concat(_?"Mirror":""),S,A,T,N,j;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var D=b[1]-b[0],L=1/0,q=p.categoricalDomain.sort();if(q.forEach(function(W,I){I>0&&(L=Math.min((W||0)-(q[I-1]||0),L))}),Number.isFinite(L)){var H=L/D,K=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(S=H*K/2),p.padding==="no-gap"){var Q=Ji(t.barCategoryGap,H*K),fe=H*K/2;S=fe-Q-(fe-Q)/K*Q}}}a==="xAxis"?A=[n.left+(x.left||0)+(S||0),n.left+n.width-(x.right||0)-(S||0)]:a==="yAxis"?A=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(S||0),n.top+n.height-(x.bottom||0)-(S||0)]:A=p.range,y&&(A=[A[1],A[0]]);var se=AW(p,i,h),ve=se.scale,Oe=se.realScaleType;ve.domain(b).range(A),jW(ve);var M=$W(ve,In(In({},p),{},{realScaleType:Oe}));a==="xAxis"?(j=v==="top"&&!_||v==="bottom"&&_,T=n.left,N=d[E]-j*p.height):a==="yAxis"&&(j=v==="left"&&!_||v==="right"&&_,T=d[E]-j*p.width,N=n.top);var z=In(In(In({},p),M),{},{realScaleType:Oe,x:T,y:N,scale:ve,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return z.bandSize=_f(z,M),!p.hide&&a==="xAxis"?d[E]+=(j?-1:1)*z.height:p.hide||(d[E]+=(j?-1:1)*z.width),In(In({},m),{},eh({},g,z))},{})},OE=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},rK=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return OE({x:r,y:n},{x:a,y:i})},AE=function(){function e(t){ZV(this,e),this.scale=t}return QV(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();eh(AE,"EPS",1e-4);var Dg=function(t){var r=Object.keys(t).reduce(function(n,a){return In(In({},n),{},eh({},a,AE.create(t[a])))},{});return In(In({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return wV(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return wE(a,function(i,s){return r[s].isInRange(i)})}})};function nK(e){return(e%180+180)%180}var aK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=nK(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},iK=mi,sK=zc,oK=Ld;function lK(e){return function(t,r,n){var a=Object(t);if(!sK(t)){var i=iK(r);t=oK(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var cK=lK,uK=vE;function fK(e){var t=uK(e),r=t%1;return t===t?r?t-r:t:0}var dK=fK,hK=$2,mK=mi,pK=dK,gK=Math.max;function vK(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:pK(r);return a<0&&(a=gK(n+a,0)),hK(e,mK(t),a)}var xK=vK,yK=cK,bK=xK,wK=yK(bK),_K=wK;const SK=At(_K);var EK=d4(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Mg=U.createContext(void 0),Ig=U.createContext(void 0),jE=U.createContext(void 0),NE=U.createContext({}),PE=U.createContext(void 0),kE=U.createContext(0),CE=U.createContext(0),mb=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,f=EK(i);return k.createElement(Mg.Provider,{value:n},k.createElement(Ig.Provider,{value:a},k.createElement(NE.Provider,{value:i},k.createElement(jE.Provider,{value:f},k.createElement(PE.Provider,{value:s},k.createElement(kE.Provider,{value:c},k.createElement(CE.Provider,{value:l},o)))))))},TK=function(){return U.useContext(PE)},DE=function(t){var r=U.useContext(Mg);r==null&&es();var n=r[t];return n==null&&es(),n},OK=function(){var t=U.useContext(Mg);return ri(t)},AK=function(){var t=U.useContext(Ig),r=SK(t,function(n){return wE(n.domain,Number.isFinite)});return r||ri(t)},ME=function(t){var r=U.useContext(Ig);r==null&&es();var n=r[t];return n==null&&es(),n},jK=function(){var t=U.useContext(jE);return t},NK=function(){return U.useContext(NE)},$g=function(){return U.useContext(CE)},Fg=function(){return U.useContext(kE)};function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function PK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$E(n.key),n)}}function CK(e,t,r){return t&&kK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DK(e,t,r){return t=$f(t),MK(e,IE()?Reflect.construct(t,r||[],$f(e).constructor):t.apply(e,r))}function MK(e,t){if(t&&(xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IK(e)}function IK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IE=function(){return!!e})()}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$f(e)}function $K(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qm(e,t)}function Qm(e,t){return Qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qm(e,t)}function pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pb(Object(r),!0).forEach(function(n){Rg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rg(e,t,r){return t=$E(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $E(e){var t=FK(e,"string");return xo(t)=="symbol"?t:t+""}function FK(e,t){if(xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RK(e,t){return WK(e)||UK(e,t)||BK(e,t)||LK()}function LK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BK(e,t){if(e){if(typeof e=="string")return vb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vb(e,t)}}function vb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function WK(e){if(Array.isArray(e))return e}function ep(){return ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ep.apply(this,arguments)}var zK=function(t,r){var n;return k.isValidElement(t)?n=k.cloneElement(t,r):Ke(t)?n=t(r):n=k.createElement("line",ep({},r,{className:"recharts-reference-line-line"})),n},HK=function(t,r,n,a,i,s,o,l,c){var f=i.x,d=i.y,h=i.width,m=i.height;if(n){var g=c.y,p=t.y.apply(g,{position:s});if(aa(c,"discard")&&!t.y.isInRange(p))return null;var v=[{x:f+h,y:p},{x:f,y:p}];return l==="left"?v.reverse():v}if(r){var b=c.x,w=t.x.apply(b,{position:s});if(aa(c,"discard")&&!t.x.isInRange(w))return null;var x=[{x:w,y:d+m},{x:w,y:d}];return o==="top"?x.reverse():x}if(a){var _=c.segment,y=_.map(function(E){return t.apply(E,{position:s})});return aa(c,"discard")&&hV(y,function(E){return!t.isInRange(E)})?null:y}return null};function qK(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=TK(),f=DE(a),d=ME(i),h=jK();if(!c||!h)return null;Ta(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Dg({x:f.scale,y:d.scale}),g=Xt(t),p=Xt(r),v=n&&n.length===2,b=HK(m,g,p,v,h,e.position,f.orientation,d.orientation,e);if(!b)return null;var w=RK(b,2),x=w[0],_=x.x,y=x.y,E=w[1],S=E.x,A=E.y,T=aa(e,"hidden")?"url(#".concat(c,")"):void 0,N=gb(gb({clipPath:T},qe(e,!0)),{},{x1:_,y1:y,x2:S,y2:A});return k.createElement(ct,{className:at("recharts-reference-line",o)},zK(s,N),Tr.renderCallByParent(e,rK({x1:_,y1:y,x2:S,y2:A})))}var Yc=function(e){function t(){return PK(this,t),DK(this,t,arguments)}return $K(t,e),CK(t,[{key:"render",value:function(){return k.createElement(qK,this.props)}}])}(k.Component);Rg(Yc,"displayName","ReferenceLine");Rg(Yc,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tp.apply(this,arguments)}function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(r),!0).forEach(function(n){th(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RE(n.key),n)}}function KK(e,t,r){return t&&VK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YK(e,t,r){return t=Ff(t),XK(e,FE()?Reflect.construct(t,r||[],Ff(e).constructor):t.apply(e,r))}function XK(e,t){if(t&&(yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JK(e)}function JK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FE=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(e)}function ZK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rp(e,t)}function rp(e,t){return rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rp(e,t)}function th(e,t,r){return t=RE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RE(e){var t=QK(e,"string");return yo(t)=="symbol"?t:t+""}function QK(e,t){if(yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eY=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=Dg({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return aa(t,"discard")&&!s.isInRange(o)?null:o},rh=function(e){function t(){return GK(this,t),YK(this,t,arguments)}return ZK(t,e),KK(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=Xt(a),f=Xt(i);if(Ta(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var d=eY(this.props);if(!d)return null;var h=d.x,m=d.y,g=this.props,p=g.shape,v=g.className,b=aa(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=yb(yb({clipPath:b},qe(this.props,!0)),{},{cx:h,cy:m});return k.createElement(ct,{className:at("recharts-reference-dot",v)},t.renderDot(p,w),Tr.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(k.Component);th(rh,"displayName","ReferenceDot");th(rh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});th(rh,"renderDot",function(e,t){var r;return k.isValidElement(e)?r=k.cloneElement(e,t):Ke(e)?r=e(t):r=k.createElement(Jd,tp({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},np.apply(this,arguments)}function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bb(Object(r),!0).forEach(function(n){nh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BE(n.key),n)}}function nY(e,t,r){return t&&rY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aY(e,t,r){return t=Rf(t),iY(e,LE()?Reflect.construct(t,r||[],Rf(e).constructor):t.apply(e,r))}function iY(e,t){if(t&&(bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sY(e)}function sY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LE=function(){return!!e})()}function Rf(e){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rf(e)}function oY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ap(e,t)}function ap(e,t){return ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ap(e,t)}function nh(e,t,r){return t=BE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BE(e){var t=lY(e,"string");return bo(t)=="symbol"?t:t+""}function lY(e,t){if(bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cY=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,f=i.xAxis,d=i.yAxis;if(!f||!d)return null;var h=Dg({x:f.scale,y:d.scale}),m={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return aa(i,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:OE(m,g)},ah=function(e){function t(){return tY(this,t),aY(this,t,arguments)}return oY(t,e),nY(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,f=n.clipPathId;Ta(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Xt(a),h=Xt(i),m=Xt(s),g=Xt(o),p=this.props.shape;if(!d&&!h&&!m&&!g&&!p)return null;var v=cY(d,h,m,g,this.props);if(!v&&!p)return null;var b=aa(this.props,"hidden")?"url(#".concat(f,")"):void 0;return k.createElement(ct,{className:at("recharts-reference-area",l)},t.renderRect(p,wb(wb({clipPath:b},qe(this.props,!0)),v)),Tr.renderCallByParent(this.props,v))}}])}(k.Component);nh(ah,"displayName","ReferenceArea");nh(ah,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});nh(ah,"renderRect",function(e,t){var r;return k.isValidElement(e)?r=k.cloneElement(e,t):Ke(e)?r=e(t):r=k.createElement(Cg,np({},t,{className:"recharts-reference-area-rect"})),r});function UE(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function uY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return aK(n,r)}function fY(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function Lf(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function dY(e,t){return UE(e,t+1)}function hY(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,f=s,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:UE(n,c)};var p=l,v,b=function(){return v===void 0&&(v=r(g,p)),v},w=g.coordinate,x=l===0||Lf(e,w,b,f,o);x||(l=0,f=s,c+=1),x&&(f=w+e*(b()/2+a),l+=c)},h;c<=i.length;)if(h=d(),h)return h.v;return[]}function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function _b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(r),!0).forEach(function(n){mY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mY(e,t,r){return t=pY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pY(e){var t=gY(e,"string");return Oc(t)=="symbol"?t:t+""}function gY(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vY(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var m=i[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===s-1){var v=e*(m.coordinate+e*p()/2-l);i[h]=m=wr(wr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=wr(wr({},m),{},{tickCoord:m.coordinate});var b=Lf(e,m.tickCoord,p,o,l);b&&(l=m.tickCoord-e*(p()/2+a),i[h]=wr(wr({},m),{},{isShow:!0}))},f=s-1;f>=0;f--)c(f);return i}function xY(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var f=n[o-1],d=r(f,o-1),h=e*(f.coordinate+e*d/2-c);s[o-1]=f=wr(wr({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var m=Lf(e,f.tickCoord,function(){return d},l,c);m&&(c=f.tickCoord-e*(d/2+a),s[o-1]=wr(wr({},f),{},{isShow:!0}))}for(var g=i?o-1:o,p=function(w){var x=s[w],_,y=function(){return _===void 0&&(_=r(x,w)),_};if(w===0){var E=e*(x.coordinate-e*y()/2-l);s[w]=x=wr(wr({},x),{},{tickCoord:E<0?x.coordinate-E*e:x.coordinate})}else s[w]=x=wr(wr({},x),{},{tickCoord:x.coordinate});var S=Lf(e,x.tickCoord,y,l,c);S&&(l=x.tickCoord+e*(y()/2+a),s[w]=wr(wr({},x),{},{isShow:!0}))},v=0;v<g;v++)p(v);return s}function Lg(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(we(l)||Wn.isSsr)return dY(a,typeof l=="number"&&we(l)?l:0);var h=[],m=o==="top"||o==="bottom"?"width":"height",g=f&&m==="width"?Cl(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(x,_){var y=Ke(c)?c(x.value,_):x.value;return m==="width"?uY(Cl(y,{fontSize:t,letterSpacing:r}),g,d):Cl(y,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?Ln(a[1].coordinate-a[0].coordinate):1,b=fY(i,v,m);return l==="equidistantPreserveStart"?hY(v,b,p,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=xY(v,b,p,a,s,l==="preserveStartEnd"):h=vY(v,b,p,a,s),h.filter(function(w){return w.isShow}))}var yY=["viewBox"],bY=["viewBox"],wY=["ticks"];function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ws.apply(this,arguments)}function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sb(Object(r),!0).forEach(function(n){Bg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f0(e,t){if(e==null)return{};var r=_Y(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Y(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zE(n.key),n)}}function EY(e,t,r){return t&&Eb(e.prototype,t),r&&Eb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TY(e,t,r){return t=Bf(t),OY(e,WE()?Reflect.construct(t,r||[],Bf(e).constructor):t.apply(e,r))}function OY(e,t){if(t&&(wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AY(e)}function AY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WE=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(e)}function jY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ip(e,t)}function ip(e,t){return ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ip(e,t)}function Bg(e,t,r){return t=zE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zE(e){var t=NY(e,"string");return wo(t)=="symbol"?t:t+""}function NY(e,t){if(wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yo=function(e){function t(r){var n;return SY(this,t),n=TY(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return jY(t,e),EY(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=f0(n,yY),o=this.props,l=o.viewBox,c=f0(o,bY);return!Vs(i,l)||!Vs(s,c)||!Vs(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,m,g,p,v,b,w,x=d?-1:1,_=n.tickSize||f,y=we(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":m=g=n.coordinate,v=s+ +!d*l,p=v-x*_,w=p-x*h,b=y;break;case"left":p=v=n.coordinate,g=i+ +!d*o,m=g-x*_,b=m-x*h,w=y;break;case"right":p=v=n.coordinate,g=i+ +d*o,m=g+x*_,b=m+x*h,w=y;break;default:m=g=n.coordinate,v=s+ +d*l,p=v+x*_,w=p+x*h,b=y;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,f=n.axisLine,d=Dr(Dr(Dr({},qe(this.props,!1)),qe(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=Dr(Dr({},d),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var m=+(l==="left"&&!c||l==="right"&&c);d=Dr(Dr({},d),{},{x1:a+m*s,y1:i,x2:a+m*s,y2:i+o})}return k.createElement("line",Ws({},d,{className:at("recharts-cartesian-axis-line",_n(f,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,f=o.tick,d=o.tickFormatter,h=o.unit,m=Lg(Dr(Dr({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=qe(this.props,!1),b=qe(f,!1),w=Dr(Dr({},v),{},{fill:"none"},qe(l,!1)),x=m.map(function(_,y){var E=s.getTickLineCoord(_),S=E.line,A=E.tick,T=Dr(Dr(Dr(Dr({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:c},b),A),{},{index:y,payload:_,visibleTicksCount:m.length,tickFormatter:d});return k.createElement(ct,Ws({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Vl(s.props,_,y)),l&&k.createElement("line",Ws({},w,S,{className:at("recharts-cartesian-axis-tick-line",_n(l,"className"))})),f&&t.renderTickItem(f,T,"".concat(Ke(d)?d(_.value,y):_.value).concat(h||"")))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,m=f0(d,wY),g=h;return Ke(l)&&(g=h&&h.length>0?l(this.props):l(m)),s<=0||o<=0||!g||!g.length?null:k.createElement(ct,{className:at("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Tr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return k.isValidElement(n)?s=k.cloneElement(n,a):Ke(n)?s=n(a):s=k.createElement(lf,Ws({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(U.Component);Bg(Yo,"displayName","CartesianAxis");Bg(Yo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var PY=["x1","y1","x2","y2","key"],kY=["offset"];function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function Tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tb(Object(r),!0).forEach(function(n){CY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CY(e,t,r){return t=DY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DY(e){var t=MY(e,"string");return ts(t)=="symbol"?t:t+""}function MY(e,t){if(ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qi.apply(this,arguments)}function Ob(e,t){if(e==null)return{};var r=IY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $Y=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return k.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function HE(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(Ke(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=Ob(t,PY),c=qe(l,!1);c.offset;var f=Ob(c,kY);r=k.createElement("line",qi({},f,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function FY(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Or(Or({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return HE(a,c)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function RY(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Or(Or({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return HE(a,c)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function LY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var f=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==f[0]&&f.unshift(0);var d=f.map(function(h,m){var g=!f[m+1],p=g?a+s-h:f[m+1]-h;if(p<=0)return null;var v=m%t.length;return k.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function BY(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var f=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==f[0]&&f.unshift(0);var d=f.map(function(h,m){var g=!f[m+1],p=g?i+o-h:f[m+1]-h;if(p<=0)return null;var v=m%n.length;return k.createElement("rect",{key:"react-".concat(m),x:h,y:s,width:p,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var UY=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return eE(Lg(Or(Or(Or({},Yo.defaultProps),n),{},{ticks:wa(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},WY=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return eE(Lg(Or(Or(Or({},Yo.defaultProps),n),{},{ticks:wa(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Cs={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ac(e){var t,r,n,a,i,s,o=$g(),l=Fg(),c=NK(),f=Or(Or({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Cs.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Cs.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Cs.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Cs.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Cs.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Cs.verticalFill,x:we(e.x)?e.x:c.left,y:we(e.y)?e.y:c.top,width:we(e.width)?e.width:c.width,height:we(e.height)?e.height:c.height}),d=f.x,h=f.y,m=f.width,g=f.height,p=f.syncWithTicks,v=f.horizontalValues,b=f.verticalValues,w=OK(),x=AK();if(!we(m)||m<=0||!we(g)||g<=0||!we(d)||d!==+d||!we(h)||h!==+h)return null;var _=f.verticalCoordinatesGenerator||UY,y=f.horizontalCoordinatesGenerator||WY,E=f.horizontalPoints,S=f.verticalPoints;if((!E||!E.length)&&Ke(y)){var A=v&&v.length,T=y({yAxis:x?Or(Or({},x),{},{ticks:A?v:x.ticks}):void 0,width:o,height:l,offset:c},A?!0:p);Ta(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ts(T),"]")),Array.isArray(T)&&(E=T)}if((!S||!S.length)&&Ke(_)){var N=b&&b.length,j=_({xAxis:w?Or(Or({},w),{},{ticks:N?b:w.ticks}):void 0,width:o,height:l,offset:c},N?!0:p);Ta(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ts(j),"]")),Array.isArray(j)&&(S=j)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement($Y,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),k.createElement(FY,qi({},f,{offset:c,horizontalPoints:E,xAxis:w,yAxis:x})),k.createElement(RY,qi({},f,{offset:c,verticalPoints:S,xAxis:w,yAxis:x})),k.createElement(LY,qi({},f,{horizontalPoints:E})),k.createElement(BY,qi({},f,{verticalPoints:S})))}Ac.displayName="CartesianGrid";var zY=["type","layout","connectNulls","ref"],HY=["key"];function _o(e){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(e)}function Ab(e,t){if(e==null)return{};var r=qY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(this,arguments)}function jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jb(Object(r),!0).forEach(function(n){$n(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ds(e){return YY(e)||KY(e)||VY(e)||GY()}function GY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VY(e,t){if(e){if(typeof e=="string")return sp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sp(e,t)}}function KY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YY(e){if(Array.isArray(e))return sp(e)}function sp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GE(n.key),n)}}function JY(e,t,r){return t&&Nb(e.prototype,t),r&&Nb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZY(e,t,r){return t=Uf(t),QY(e,qE()?Reflect.construct(t,r||[],Uf(e).constructor):t.apply(e,r))}function QY(e,t){if(t&&(_o(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eX(e)}function eX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qE=function(){return!!e})()}function Uf(e){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uf(e)}function tX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&op(e,t)}function op(e,t){return op=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},op(e,t)}function $n(e,t,r){return t=GE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GE(e){var t=rX(e,"string");return _o(t)=="symbol"?t:t+""}function rX(e,t){if(_o(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ia=function(e){function t(){var r;XY(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ZY(this,t,[].concat(a)),$n(r,"state",{isAnimationFinished:!0,totalLength:0}),$n(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),$n(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(b,w){return b+w});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var f=Math.floor(s/c),d=s%c,h=o-s,m=[],g=0,p=0;g<l.length;p+=l[g],++g)if(p+l[g]>d){m=[].concat(Ds(l.slice(0,g)),[d-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Ds(t.repeat(l,f)),Ds(m),v).map(function(b){return"".concat(b,"px")}).join(", ")}),$n(r,"id",us("recharts-line-")),$n(r,"pathRef",function(s){r.mainCurve=s}),$n(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),$n(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return tX(t,e),JY(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,f=i.children,d=Gr(f,Vo);if(!d)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:Jt(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return k.createElement(ct,m,d.map(function(g){return k.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,f=o.dataKey,d=qe(this.props,!1),h=qe(l,!0),m=c.map(function(p,v){var b=Qr(Qr(Qr({key:"dot-".concat(v),r:3},d),h),{},{value:p.value,dataKey:f,cx:p.x,cy:p.y,index:v,payload:p.payload});return t.renderDotItem(l,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return k.createElement(ct,$l({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,f=o.connectNulls;o.ref;var d=Ab(o,zY),h=Qr(Qr(Qr({},qe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:f});return k.createElement(Yi,$l({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,f=s.animationBegin,d=s.animationDuration,h=s.animationEasing,m=s.animationId,g=s.animateNewValues,p=s.width,v=s.height,b=this.state,w=b.prevPoints,x=b.totalLength;return k.createElement(Hn,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var y=_.t;if(w){var E=w.length/o.length,S=o.map(function(D,L){var q=Math.floor(L*E);if(w[q]){var H=w[q],K=Bt(H.x,D.x),Q=Bt(H.y,D.y);return Qr(Qr({},D),{},{x:K(y),y:Q(y)})}if(g){var fe=Bt(p*2,D.x),se=Bt(v/2,D.y);return Qr(Qr({},D),{},{x:fe(y),y:se(y)})}return Qr(Qr({},D),{},{x:D.x,y:D.y})});return i.renderCurveStatically(S,n,a)}var A=Bt(0,x),T=A(y),N;if(l){var j="".concat(l).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});N=i.getStrokeDasharray(T,x,j)}else N=i.generateSimpleStrokeDasharray(x,T);return i.renderCurveStatically(o,n,a,{strokeDasharray:N})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return o&&s&&s.length&&(!c&&f>0||!Zi(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,f=a.yAxis,d=a.top,h=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,w=o.length===1,x=at("recharts-line",l),_=c&&c.allowDataOverflow,y=f&&f.allowDataOverflow,E=_||y,S=Ge(v)?this.id:v,A=(n=qe(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=A.r,N=T===void 0?3:T,j=A.strokeWidth,D=j===void 0?2:j,L=V_(s)?s:{},q=L.clipDot,H=q===void 0?!0:q,K=N*2+D;return k.createElement(ct,{className:x},_||y?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(S)},k.createElement("rect",{x:_?h:h-m/2,y:y?d:d-g/2,width:_?m:m*2,height:y?g:g*2})),!H&&k.createElement("clipPath",{id:"clipPath-dots-".concat(S)},k.createElement("rect",{x:h-K/2,y:d-K/2,width:m+K,height:g+K}))):null,!w&&this.renderCurve(E,S),this.renderErrorBar(E,S),(w||s)&&this.renderDots(E,H,S),(!p||b)&&jr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Ds(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(Ds(s),Ds(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(k.isValidElement(n))i=k.cloneElement(n,a);else if(Ke(n))i=n(a);else{var s=a.key,o=Ab(a,HY),l=at("recharts-line-dot",typeof n!="boolean"?n.className:"");i=k.createElement(Jd,$l({key:s},o,{className:l}))}return i}}])}(U.PureComponent);$n(ia,"displayName","Line");$n(ia,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Wn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});$n(ia,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,f=t.layout,d=l.map(function(h,m){var g=Jt(h,s);return f==="horizontal"?{x:ho({axis:r,ticks:a,bandSize:o,entry:h,index:m}),y:Ge(g)?null:n.scale(g),value:g,payload:h}:{x:Ge(g)?null:r.scale(g),y:ho({axis:n,ticks:i,bandSize:o,entry:h,index:m}),value:g,payload:h}});return Qr({points:d,layout:f},c)});var nX=["layout","type","stroke","connectNulls","isRange","ref"],aX=["key"],VE;function So(e){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},So(e)}function KE(e,t){if(e==null)return{};var r=iX(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gi.apply(this,arguments)}function Pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pb(Object(r),!0).forEach(function(n){ta(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XE(n.key),n)}}function oX(e,t,r){return t&&kb(e.prototype,t),r&&kb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lX(e,t,r){return t=Wf(t),cX(e,YE()?Reflect.construct(t,r||[],Wf(e).constructor):t.apply(e,r))}function cX(e,t){if(t&&(So(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uX(e)}function uX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YE=function(){return!!e})()}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wf(e)}function fX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lp(e,t)}function lp(e,t){return lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lp(e,t)}function ta(e,t,r){return t=XE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XE(e){var t=dX(e,"string");return So(t)=="symbol"?t:t+""}function dX(e,t){if(So(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(So(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lr=function(e){function t(){var r;sX(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=lX(this,t,[].concat(a)),ta(r,"state",{isAnimationFinished:!0}),ta(r,"id",us("recharts-area-")),ta(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ke(s)&&s()}),ta(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ke(s)&&s()}),r}return fX(t,e),oX(t,[{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,f=l.points,d=l.dataKey,h=qe(this.props,!1),m=qe(c,!0),g=f.map(function(v,b){var w=Za(Za(Za({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:f});return t.renderDotItem(c,w)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return k.createElement(ct,Gi({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,o=a.strokeWidth,l=s[0].x,c=s[s.length-1].x,f=n*Math.abs(l-c),d=ni(s.map(function(h){return h.y||0}));return we(i)&&typeof i=="number"?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(ni(i.map(function(h){return h.y||0})),d)),we(d)?k.createElement("rect",{x:l<c?l:l-f,y:0,width:f,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,o=a.strokeWidth,l=s[0].y,c=s[s.length-1].y,f=n*Math.abs(l-c),d=ni(s.map(function(h){return h.x||0}));return we(i)&&typeof i=="number"?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(ni(i.map(function(h){return h.x||0})),d)),we(d)?k.createElement("rect",{x:0,y:l<c?l:l-f,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,s){var o=this.props,l=o.layout,c=o.type,f=o.stroke,d=o.connectNulls,h=o.isRange;o.ref;var m=KE(o,nX);return k.createElement(ct,{clipPath:i?"url(#clipPath-".concat(s,")"):null},k.createElement(Yi,Gi({},qe(m,!0),{points:n,connectNulls:d,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&k.createElement(Yi,Gi({},qe(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),f!=="none"&&h&&k.createElement(Yi,Gi({},qe(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,f=s.animationBegin,d=s.animationDuration,h=s.animationEasing,m=s.animationId,g=this.state,p=g.prevPoints,v=g.prevBaseLine;return k.createElement(Hn,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t;if(p){var x=p.length/o.length,_=o.map(function(A,T){var N=Math.floor(T*x);if(p[N]){var j=p[N],D=Bt(j.x,A.x),L=Bt(j.y,A.y);return Za(Za({},A),{},{x:D(w),y:L(w)})}return A}),y;if(we(l)&&typeof l=="number"){var E=Bt(v,l);y=E(w)}else if(Ge(l)||Bo(l)){var S=Bt(v,0);y=S(w)}else y=l.map(function(A,T){var N=Math.floor(T*x);if(v[N]){var j=v[N],D=Bt(j.x,A.x),L=Bt(j.y,A.y);return Za(Za({},A),{},{x:D(w),y:L(w)})}return A});return i.renderAreaStatically(_,y,n,a)}return k.createElement(ct,null,k.createElement("defs",null,k.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(w))),k.createElement(ct,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(o,l,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,s=i.points,o=i.baseLine,l=i.isAnimationActive,c=this.state,f=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!f&&h>0||!Zi(f,s)||!Zi(d,o))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(s,o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.top,f=a.left,d=a.xAxis,h=a.yAxis,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,w=o.length===1,x=at("recharts-area",l),_=d&&d.allowDataOverflow,y=h&&h.allowDataOverflow,E=_||y,S=Ge(v)?this.id:v,A=(n=qe(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=A.r,N=T===void 0?3:T,j=A.strokeWidth,D=j===void 0?2:j,L=V_(s)?s:{},q=L.clipDot,H=q===void 0?!0:q,K=N*2+D;return k.createElement(ct,{className:x},_||y?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(S)},k.createElement("rect",{x:_?f:f-m/2,y:y?c:c-g/2,width:_?m:m*2,height:y?g:g*2})),!H&&k.createElement("clipPath",{id:"clipPath-dots-".concat(S)},k.createElement("rect",{x:f-K/2,y:c-K/2,width:m+K,height:g+K}))):null,w?null:this.renderArea(E,S),(s||w)&&this.renderDots(E,H,S),(!p||b)&&jr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(U.PureComponent);VE=Lr;ta(Lr,"displayName","Area");ta(Lr,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Wn.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ta(Lr,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,s=t.props.baseValue,o=s??i;if(we(o)&&typeof o=="number")return o;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var f=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return o==="dataMin"?d:o==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});ta(Lr,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.bandSize,l=e.dataKey,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,m=t.layout,g=c&&c.length,p=VE.getBaseValue(t,r,n,a),v=m==="horizontal",b=!1,w=d.map(function(_,y){var E;g?E=c[f+y]:(E=Jt(_,l),Array.isArray(E)?b=!0:E=[p,E]);var S=E[1]==null||g&&Jt(_,l)==null;return v?{x:ho({axis:n,ticks:i,bandSize:o,entry:_,index:y}),y:S?null:a.scale(E[1]),value:E,payload:_}:{x:S?null:n.scale(E[1]),y:ho({axis:a,ticks:s,bandSize:o,entry:_,index:y}),value:E,payload:_}}),x;return g||b?x=w.map(function(_){var y=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:y!=null&&_.y!=null?a.scale(y):null}:{x:y!=null?n.scale(y):null,y:_.y}}):x=v?a.scale(p):n.scale(p),Za({points:w,baseLine:x,layout:m,isRange:b},h)});ta(Lr,"renderDotItem",function(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(Ke(e))r=e(t);else{var n=at("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=KE(t,aX);r=k.createElement(Jd,Gi({},i,{key:a,className:n}))}return r});function Eo(e){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(e)}function hX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QE(n.key),n)}}function pX(e,t,r){return t&&mX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gX(e,t,r){return t=zf(t),vX(e,JE()?Reflect.construct(t,r||[],zf(e).constructor):t.apply(e,r))}function vX(e,t){if(t&&(Eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xX(e)}function xX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JE=function(){return!!e})()}function zf(e){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zf(e)}function yX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cp(e,t)}function cp(e,t){return cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cp(e,t)}function ZE(e,t,r){return t=QE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QE(e){var t=bX(e,"string");return Eo(t)=="symbol"?t:t+""}function bX(e,t){if(Eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ih=function(e){function t(){return hX(this,t),gX(this,t,arguments)}return yX(t,e),pX(t,[{key:"render",value:function(){return null}}])}(k.Component);ZE(ih,"displayName","ZAxis");ZE(ih,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var wX=["option","isActive"];function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(this,arguments)}function _X(e,t){if(e==null)return{};var r=SX(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function EX(e){var t=e.option,r=e.isActive,n=_X(e,wX);return typeof t=="string"?k.createElement(Ym,Fl({option:k.createElement(Rd,Fl({type:t},n)),isActive:r,shapeType:"symbols"},n)):k.createElement(Ym,Fl({option:t,isActive:r,shapeType:"symbols"},n))}function To(e){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(e)}function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rl.apply(this,arguments)}function Cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(r),!0).forEach(function(n){ii(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Db(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tT(n.key),n)}}function OX(e,t,r){return t&&Db(e.prototype,t),r&&Db(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AX(e,t,r){return t=Hf(t),jX(e,eT()?Reflect.construct(t,r||[],Hf(e).constructor):t.apply(e,r))}function jX(e,t){if(t&&(To(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NX(e)}function NX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eT=function(){return!!e})()}function Hf(e){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hf(e)}function PX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&up(e,t)}function up(e,t){return up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},up(e,t)}function ii(e,t,r){return t=tT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tT(e){var t=kX(e,"string");return To(t)=="symbol"?t:t+""}function kX(e,t){if(To(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(To(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sh=function(e){function t(){var r;TX(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=AX(this,t,[].concat(a)),ii(r,"state",{isAnimationFinished:!1}),ii(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),ii(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),ii(r,"id",us("recharts-scatter-")),r}return PX(t,e),OX(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.activeShape,l=i.activeIndex,c=qe(this.props,!1);return n.map(function(f,d){var h=l===d,m=h?o:s,g=yn(yn({},c),f);return k.createElement(ct,Rl({className:"recharts-scatter-symbol",key:"symbol-".concat(f==null?void 0:f.cx,"-").concat(f==null?void 0:f.cy,"-").concat(f==null?void 0:f.size,"-").concat(d)},Vl(a.props,f,d),{role:"img"}),k.createElement(EX,Rl({option:m,isActive:h,key:"symbol-".concat(d)},g)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,i=a.points,s=a.isAnimationActive,o=a.animationBegin,l=a.animationDuration,c=a.animationEasing,f=a.animationId,d=this.state.prevPoints;return k.createElement(Hn,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,g=i.map(function(p,v){var b=d&&d[v];if(b){var w=Bt(b.cx,p.cx),x=Bt(b.cy,p.cy),_=Bt(b.size,p.size);return yn(yn({},p),{},{cx:w(m),cy:x(m),size:_(m)})}var y=Bt(0,p.size);return yn(yn({},p),{},{size:y(m)})});return k.createElement(ct,null,n.renderSymbolsStatically(g))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,i=n.isAnimationActive,s=this.state.prevPoints;return i&&a&&a.length&&(!s||!Zi(s,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,s=a.xAxis,o=a.yAxis,l=a.children,c=Gr(l,Vo);return c?c.map(function(f,d){var h=f.props,m=h.direction,g=h.dataKey;return k.cloneElement(f,{key:"".concat(m,"-").concat(g,"-").concat(i[d]),data:i,xAxis:s,yAxis:o,layout:m==="x"?"vertical":"horizontal",dataPointFormatter:function(v,b){return{x:v.cx,y:v.cy,value:m==="x"?+v.node.x:+v.node.y,errorVal:Jt(v,b)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,i=n.line,s=n.lineType,o=n.lineJointType,l=qe(this.props,!1),c=qe(i,!1),f,d;if(s==="joint")f=a.map(function(x){return{x:x.cx,y:x.cy}});else if(s==="fitting"){var h=uD(a),m=h.xmin,g=h.xmax,p=h.a,v=h.b,b=function(_){return p*_+v};f=[{x:m,y:b(m)},{x:g,y:b(g)}]}var w=yn(yn(yn({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:f});return k.isValidElement(i)?d=k.cloneElement(i,w):Ke(i)?d=i(w):d=k.createElement(Yi,Rl({},w,{type:o})),k.createElement(ct,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.points,s=n.line,o=n.className,l=n.xAxis,c=n.yAxis,f=n.left,d=n.top,h=n.width,m=n.height,g=n.id,p=n.isAnimationActive;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=at("recharts-scatter",o),w=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,_=w||x,y=Ge(g)?this.id:g;return k.createElement(ct,{className:b,clipPath:_?"url(#clipPath-".concat(y,")"):null},w||x?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(y)},k.createElement("rect",{x:w?f:f-h/2,y:x?d:d-m/2,width:w?h:h*2,height:x?m:m*2}))):null,s&&this.renderLine(),this.renderErrorBar(),k.createElement(ct,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!p||v)&&jr.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(U.PureComponent);ii(sh,"displayName","Scatter");ii(sh,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Wn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});ii(sh,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,i=e.displayedData,s=e.xAxisTicks,o=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,f=Gr(a.props.children,sg),d=Ge(t.dataKey)?a.props.dataKey:t.dataKey,h=Ge(r.dataKey)?a.props.dataKey:r.dataKey,m=n&&n.dataKey,g=n?n.range:ih.defaultProps.range,p=g&&g[0],v=t.scale.bandwidth?t.scale.bandwidth():0,b=r.scale.bandwidth?r.scale.bandwidth():0,w=i.map(function(x,_){var y=Jt(x,d),E=Jt(x,h),S=!Ge(m)&&Jt(x,m)||"-",A=[{name:Ge(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:y,payload:x,dataKey:d,type:c},{name:Ge(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:E,payload:x,dataKey:h,type:c}];S!=="-"&&A.push({name:n.name||n.dataKey,unit:n.unit||"",value:S,payload:x,dataKey:m,type:c});var T=ho({axis:t,ticks:s,bandSize:v,entry:x,index:_,dataKey:d}),N=ho({axis:r,ticks:o,bandSize:b,entry:x,index:_,dataKey:h}),j=S!=="-"?n.scale(S):p,D=Math.sqrt(Math.max(j,0)/Math.PI);return yn(yn({},x),{},{cx:T,cy:N,x:T-D,y:N-D,xAxis:t,yAxis:r,zAxis:n,width:2*D,height:2*D,size:j,node:{x:y,y:E,z:S},tooltipPayload:A,tooltipPosition:{x:T,y:N},payload:x},f&&f[_]&&f[_].props)});return yn({points:w},l)});function Oo(e){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(e)}function CX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aT(n.key),n)}}function MX(e,t,r){return t&&DX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IX(e,t,r){return t=qf(t),$X(e,rT()?Reflect.construct(t,r||[],qf(e).constructor):t.apply(e,r))}function $X(e,t){if(t&&(Oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FX(e)}function FX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rT=function(){return!!e})()}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(e)}function RX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fp(e,t)}function fp(e,t){return fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fp(e,t)}function nT(e,t,r){return t=aT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aT(e){var t=LX(e,"string");return Oo(t)=="symbol"?t:t+""}function LX(e,t){if(Oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(this,arguments)}function BX(e){var t=e.xAxisId,r=$g(),n=Fg(),a=DE(t);return a==null?null:k.createElement(Yo,dp({},a,{className:at("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return wa(s,!0)}}))}var rs=function(e){function t(){return CX(this,t),IX(this,t,arguments)}return RX(t,e),MX(t,[{key:"render",value:function(){return k.createElement(BX,this.props)}}])}(k.Component);nT(rs,"displayName","XAxis");nT(rs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ao(e){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ao(e)}function UX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oT(n.key),n)}}function zX(e,t,r){return t&&WX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HX(e,t,r){return t=Gf(t),qX(e,iT()?Reflect.construct(t,r||[],Gf(e).constructor):t.apply(e,r))}function qX(e,t){if(t&&(Ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GX(e)}function GX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iT=function(){return!!e})()}function Gf(e){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gf(e)}function VX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hp(e,t)}function hp(e,t){return hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hp(e,t)}function sT(e,t,r){return t=oT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oT(e){var t=KX(e,"string");return Ao(t)=="symbol"?t:t+""}function KX(e,t){if(Ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(this,arguments)}var YX=function(t){var r=t.yAxisId,n=$g(),a=Fg(),i=ME(r);return i==null?null:k.createElement(Yo,mp({},i,{className:at("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return wa(o,!0)}}))},ns=function(e){function t(){return UX(this,t),HX(this,t,arguments)}return VX(t,e),zX(t,[{key:"render",value:function(){return k.createElement(YX,this.props)}}])}(k.Component);sT(ns,"displayName","YAxis");sT(ns,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Mb(e){return QX(e)||ZX(e)||JX(e)||XX()}function XX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JX(e,t){if(e){if(typeof e=="string")return pp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pp(e,t)}}function ZX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QX(e){if(Array.isArray(e))return pp(e)}function pp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gp=function(t,r,n,a,i){var s=Gr(t,Yc),o=Gr(t,rh),l=[].concat(Mb(s),Mb(o)),c=Gr(t,ah),f="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(p,v){if(v.props[f]===n&&aa(v.props,"extendDomain")&&we(v.props[d])){var b=v.props[d];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),c.length){var m="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(p,v){if(v.props[f]===n&&aa(v.props,"extendDomain")&&we(v.props[m])&&we(v.props[g])){var b=v.props[m],w=v.props[g];return[Math.min(p[0],b,w),Math.max(p[1],b,w)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,v){return we(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},lT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function i(l,c,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new a(f,d||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)t.call(f,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},o.prototype.listeners=function(c){var f=r?r+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,g=new Array(m);h<m;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var f=r?r+c:c,d=this._events[f];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,f,d,h,m,g){var p=r?r+c:c;if(!this._events[p])return!1;var v=this._events[p],b=arguments.length,w,x;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,d),!0;case 4:return v.fn.call(v.context,f,d,h),!0;case 5:return v.fn.call(v.context,f,d,h,m),!0;case 6:return v.fn.call(v.context,f,d,h,m,g),!0}for(x=1,w=new Array(b-1);x<b;x++)w[x-1]=arguments[x];v.fn.apply(v.context,w)}else{var _=v.length,y;for(x=0;x<_;x++)switch(v[x].once&&this.removeListener(c,v[x].fn,void 0,!0),b){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,f);break;case 3:v[x].fn.call(v[x].context,f,d);break;case 4:v[x].fn.call(v[x].context,f,d,h);break;default:if(!w)for(y=1,w=new Array(b-1);y<b;y++)w[y-1]=arguments[y];v[x].fn.apply(v[x].context,w)}}return!0},o.prototype.on=function(c,f,d){return i(this,c,f,d,!1)},o.prototype.once=function(c,f,d){return i(this,c,f,d,!0)},o.prototype.removeListener=function(c,f,d,h){var m=r?r+c:c;if(!this._events[m])return this;if(!f)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===f&&(!h||g.once)&&(!d||g.context===d)&&s(this,m);else{for(var p=0,v=[],b=g.length;p<b;p++)(g[p].fn!==f||h&&!g[p].once||d&&g[p].context!==d)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(lT);var eJ=lT.exports;const tJ=At(eJ);var d0=new tJ,h0="recharts.syncMouseEvents";function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function rJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cT(n.key),n)}}function aJ(e,t,r){return t&&nJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m0(e,t,r){return t=cT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cT(e){var t=iJ(e,"string");return jc(t)=="symbol"?t:t+""}function iJ(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sJ=function(){function e(){rJ(this,e),m0(this,"activeIndex",0),m0(this,"coordinateList",[]),m0(this,"layout","horizontal")}return aJ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+l+c,h=s+this.offset.top+o/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function oJ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&we(n)&&we(a))return!0}return!1}function lJ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function uT(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=mr(t,r,n,a),o=mr(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function cJ(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,f=t.outerRadius,d=t.angle,h=mr(o,l,c,d),m=mr(o,l,f,d);n=h.x,a=h.y,i=m.x,s=m.y}else return uT(t);return[{x:n,y:a},{x:i,y:s}]}function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function Ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(r),!0).forEach(function(n){uJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uJ(e,t,r){return t=fJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fJ(e){var t=dJ(e,"string");return Nc(t)=="symbol"?t:t+""}function dJ(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hJ(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,p=Yi;if(h==="ScatterChart")g=s,p=Rq;else if(h==="BarChart")g=lJ(d,s,l,f),p=Cg;else if(d==="radial"){var v=uT(s),b=v.cx,w=v.cy,x=v.radius,_=v.startAngle,y=v.endAngle;g={cx:b,cy:w,startAngle:_,endAngle:y,innerRadius:x,outerRadius:x},p=iE}else g={points:cJ(d,s,l)},p=Yi;var E=Nu(Nu(Nu(Nu({stroke:"#ccc",pointerEvents:"none"},l),g),qe(m,!1)),{},{payload:o,payloadIndex:c,className:at("recharts-tooltip-cursor",m.className)});return U.isValidElement(m)?U.cloneElement(m,E):U.createElement(p,E)}var mJ=["item"],pJ=["children","className","width","height","style","compact","title","desc"];function jo(e){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(e)}function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(this,arguments)}function $b(e,t){return xJ(e)||vJ(e,t)||dT(e,t)||gJ()}function gJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function xJ(e){if(Array.isArray(e))return e}function Fb(e,t){if(e==null)return{};var r=yJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hT(n.key),n)}}function _J(e,t,r){return t&&wJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SJ(e,t,r){return t=Vf(t),EJ(e,fT()?Reflect.construct(t,r||[],Vf(e).constructor):t.apply(e,r))}function EJ(e,t){if(t&&(jo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TJ(e)}function TJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fT=function(){return!!e})()}function Vf(e){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vf(e)}function OJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vp(e,t)}function vp(e,t){return vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vp(e,t)}function No(e){return NJ(e)||jJ(e)||dT(e)||AJ()}function AJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dT(e,t){if(e){if(typeof e=="string")return xp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xp(e,t)}}function jJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NJ(e){if(Array.isArray(e))return xp(e)}function xp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rb(Object(r),!0).forEach(function(n){Fe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fe(e,t,r){return t=hT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hT(e){var t=PJ(e,"string");return jo(t)=="symbol"?t:t+""}function PJ(e,t){if(jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kJ={xAxis:["bottom","top"],yAxis:["left","right"]},CJ={width:"100%",height:"100%"},mT={x:0,y:0};function Pu(e){return e}var DJ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},MJ=function(t,r,n,a){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return ue(ue(ue({},a),mr(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return ue(ue(ue({},a),mr(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return mT},oh=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(No(o),No(c)):o},[]);return s.length>0?s:t&&t.length&&we(a)&&we(i)?t.slice(a,i+1):[]};function pT(e){return e==="number"?[0,"auto"]:void 0}var yp=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=oh(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var f,d=(f=c.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=d===void 0?o:d;h=qu(m,s.dataKey,a)}else h=d&&d[n]||o[n];return h?[].concat(No(l),[rE(c,h)]):l},[])},Lb=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=DJ(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,f=wW(s,o,c,l);if(f>=0&&c){var d=c[f]&&c[f].value,h=yp(t,r,f,d),m=MJ(n,o,f,i);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:m}}return null},IJ=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,m=QS(f,i);return n.reduce(function(g,p){var v,b=p.type.defaultProps!==void 0?ue(ue({},p.type.defaultProps),p.props):p.props,w=b.type,x=b.dataKey,_=b.allowDataOverflow,y=b.allowDuplicatedCategory,E=b.scale,S=b.ticks,A=b.includeHidden,T=b[s];if(g[T])return g;var N=oh(t.data,{graphicalItems:a.filter(function(M){var z,W=s in M.props?M.props[s]:(z=M.type.defaultProps)===null||z===void 0?void 0:z[s];return W===T}),dataStartIndex:l,dataEndIndex:c}),j=N.length,D,L,q;oJ(b.domain,_,w)&&(D=Dm(b.domain,null,_),m&&(w==="number"||E!=="auto")&&(q=Ml(N,x,"category")));var H=pT(w);if(!D||D.length===0){var K,Q=(K=b.domain)!==null&&K!==void 0?K:H;if(x){if(D=Ml(N,x,w),w==="category"&&m){var fe=cD(D);y&&fe?(L=D,D=kf(0,j)):y||(D=h1(Q,D,p).reduce(function(M,z){return M.indexOf(z)>=0?M:[].concat(No(M),[z])},[]))}else if(w==="category")y?D=D.filter(function(M){return M!==""&&!Ge(M)}):D=h1(Q,D,p).reduce(function(M,z){return M.indexOf(z)>=0||z===""||Ge(z)?M:[].concat(No(M),[z])},[]);else if(w==="number"){var se=OW(N,a.filter(function(M){var z,W,I=s in M.props?M.props[s]:(z=M.type.defaultProps)===null||z===void 0?void 0:z[s],ee="hide"in M.props?M.props.hide:(W=M.type.defaultProps)===null||W===void 0?void 0:W.hide;return I===T&&(A||!ee)}),x,i,f);se&&(D=se)}m&&(w==="number"||E!=="auto")&&(q=Ml(N,x,"category"))}else m?D=kf(0,j):o&&o[T]&&o[T].hasStack&&w==="number"?D=h==="expand"?[0,1]:tE(o[T].stackGroups,l,c):D=ZS(N,a.filter(function(M){var z=s in M.props?M.props[s]:M.type.defaultProps[s],W="hide"in M.props?M.props.hide:M.type.defaultProps.hide;return z===T&&(A||!W)}),w,f,!0);if(w==="number")D=gp(d,D,T,i,S),Q&&(D=Dm(Q,D,_));else if(w==="category"&&Q){var ve=Q,Oe=D.every(function(M){return ve.indexOf(M)>=0});Oe&&(D=ve)}}return ue(ue({},g),{},Fe({},T,ue(ue({},b),{},{axisType:i,domain:D,categoricalDomain:q,duplicateDomain:L,originalDomain:(v=b.domain)!==null&&v!==void 0?v:H,isCategorical:m,layout:f})))},{})},$J=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=oh(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),m=h.length,g=QS(f,i),p=-1;return n.reduce(function(v,b){var w=b.type.defaultProps!==void 0?ue(ue({},b.type.defaultProps),b.props):b.props,x=w[s],_=pT("number");if(!v[x]){p++;var y;return g?y=kf(0,m):o&&o[x]&&o[x].hasStack?(y=tE(o[x].stackGroups,l,c),y=gp(d,y,x,i)):(y=Dm(_,ZS(h,n.filter(function(E){var S,A,T=s in E.props?E.props[s]:(S=E.type.defaultProps)===null||S===void 0?void 0:S[s],N="hide"in E.props?E.props.hide:(A=E.type.defaultProps)===null||A===void 0?void 0:A.hide;return T===x&&!N}),"number",f),a.defaultProps.allowDataOverflow),y=gp(d,y,x,i)),ue(ue({},v),{},Fe({},x,ue(ue({axisType:i},a.defaultProps),{},{hide:!0,orientation:_n(kJ,"".concat(i,".").concat(p%2),null),domain:y,originalDomain:_,isCategorical:g,layout:f})))}return v},{})},FJ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=Gr(f,i),m={};return h&&h.length?m=IJ(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(m=$J(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),m},RJ=function(t){var r=ri(t),n=wa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ag(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:_f(r,n)}},Bb=function(t){var r=t.children,n=t.defaultShowTooltip,a=an(r,go),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},LJ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ea(r&&r.type);return n&&n.indexOf("Bar")>=0})},Ub=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},BJ=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,f=n.height,d=n.children,h=n.margin||{},m=an(d,go),g=an(d,li),p=Object.keys(l).reduce(function(y,E){var S=l[E],A=S.orientation;return!S.mirror&&!S.hide?ue(ue({},y),{},Fe({},A,y[A]+S.width)):y},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(y,E){var S=s[E],A=S.orientation;return!S.mirror&&!S.hide?ue(ue({},y),{},Fe({},A,_n(y,"".concat(A))+S.height)):y},{top:h.top||0,bottom:h.bottom||0}),b=ue(ue({},v),p),w=b.bottom;m&&(b.bottom+=m.props.height||go.defaultProps.height),g&&r&&(b=EW(b,a,n,r));var x=c-b.left-b.right,_=f-b.top-b.bottom;return ue(ue({brushBottom:w},b),{},{width:Math.max(x,0),height:Math.max(_,0)})},UJ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},WJ=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(b,w){var x=w.graphicalItems,_=w.stackGroups,y=w.offset,E=w.updateId,S=w.dataStartIndex,A=w.dataEndIndex,T=b.barSize,N=b.layout,j=b.barGap,D=b.barCategoryGap,L=b.maxBarSize,q=Ub(N),H=q.numericAxisName,K=q.cateAxisName,Q=LJ(x),fe=[];return x.forEach(function(se,ve){var Oe=oh(b.data,{graphicalItems:[se],dataStartIndex:S,dataEndIndex:A}),M=se.type.defaultProps!==void 0?ue(ue({},se.type.defaultProps),se.props):se.props,z=M.dataKey,W=M.maxBarSize,I=M["".concat(H,"Id")],ee=M["".concat(K,"Id")],_e={},Ee=l.reduce(function(er,vr){var Jr=w["".concat(vr.axisType,"Map")],Gt=M["".concat(vr.axisType,"Id")];Jr&&Jr[Gt]||vr.axisType==="zAxis"||es();var Zr=Jr[Gt];return ue(ue({},er),{},Fe(Fe({},vr.axisType,Zr),"".concat(vr.axisType,"Ticks"),wa(Zr)))},_e),re=Ee[K],ce=Ee["".concat(K,"Ticks")],Se=_&&_[I]&&_[I].hasStack&&RW(se,_[I].stackGroups),ne=Ea(se.type).indexOf("Bar")>=0,Le=_f(re,ce),je=[],Re=Q&&_W({barSize:T,stackGroups:_,totalSize:UJ(Ee,K)});if(ne){var $e,V,Ne=Ge(W)?L:W,Ve=($e=(V=_f(re,ce,!0))!==null&&V!==void 0?V:Ne)!==null&&$e!==void 0?$e:0;je=SW({barGap:j,barCategoryGap:D,bandSize:Ve!==Le?Ve:Le,sizeList:Re[ee],maxBarSize:Ne}),Ve!==Le&&(je=je.map(function(er){return ue(ue({},er),{},{position:ue(ue({},er.position),{},{offset:er.position.offset-Ve/2})})}))}var ut=se&&se.type&&se.type.getComposedData;ut&&fe.push({props:ue(ue({},ut(ue(ue({},Ee),{},{displayedData:Oe,props:b,dataKey:z,item:se,bandSize:Le,barPosition:je,offset:y,stackedData:Se,layout:N,dataStartIndex:S,dataEndIndex:A}))),{},Fe(Fe(Fe({key:se.key||"item-".concat(ve)},H,Ee[H]),K,Ee[K]),"animationId",E)),childIndex:wD(se,b.children),item:se})}),fe},m=function(b,w){var x=b.props,_=b.dataStartIndex,y=b.dataEndIndex,E=b.updateId;if(!ox({props:x}))return null;var S=x.children,A=x.layout,T=x.stackOffset,N=x.data,j=x.reverseStackOrder,D=Ub(A),L=D.numericAxisName,q=D.cateAxisName,H=Gr(S,n),K=IW(N,H,"".concat(L,"Id"),"".concat(q,"Id"),T,j),Q=l.reduce(function(M,z){var W="".concat(z.axisType,"Map");return ue(ue({},M),{},Fe({},W,FJ(x,ue(ue({},z),{},{graphicalItems:H,stackGroups:z.axisType===L&&K,dataStartIndex:_,dataEndIndex:y}))))},{}),fe=BJ(ue(ue({},Q),{},{props:x,graphicalItems:H}),w==null?void 0:w.legendBBox);Object.keys(Q).forEach(function(M){Q[M]=f(x,Q[M],fe,M.replace("Map",""),r)});var se=Q["".concat(q,"Map")],ve=RJ(se),Oe=h(x,ue(ue({},Q),{},{dataStartIndex:_,dataEndIndex:y,updateId:E,graphicalItems:H,stackGroups:K,offset:fe}));return ue(ue({formattedGraphicalItems:Oe,graphicalItems:H,offset:fe,stackGroups:K},ve),Q)},g=function(v){function b(w){var x,_,y;return bJ(this,b),y=SJ(this,b,[w]),Fe(y,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fe(y,"accessibilityManager",new sJ),Fe(y,"handleLegendBBoxUpdate",function(E){if(E){var S=y.state,A=S.dataStartIndex,T=S.dataEndIndex,N=S.updateId;y.setState(ue({legendBBox:E},m({props:y.props,dataStartIndex:A,dataEndIndex:T,updateId:N},ue(ue({},y.state),{},{legendBBox:E}))))}}),Fe(y,"handleReceiveSyncEvent",function(E,S,A){if(y.props.syncId===E){if(A===y.eventEmitterSymbol&&typeof y.props.syncMethod!="function")return;y.applySyncEvent(S)}}),Fe(y,"handleBrushChange",function(E){var S=E.startIndex,A=E.endIndex;if(S!==y.state.dataStartIndex||A!==y.state.dataEndIndex){var T=y.state.updateId;y.setState(function(){return ue({dataStartIndex:S,dataEndIndex:A},m({props:y.props,dataStartIndex:S,dataEndIndex:A,updateId:T},y.state))}),y.triggerSyncEvent({dataStartIndex:S,dataEndIndex:A})}}),Fe(y,"handleMouseEnter",function(E){var S=y.getMouseInfo(E);if(S){var A=ue(ue({},S),{},{isTooltipActive:!0});y.setState(A),y.triggerSyncEvent(A);var T=y.props.onMouseEnter;Ke(T)&&T(A,E)}}),Fe(y,"triggeredAfterMouseMove",function(E){var S=y.getMouseInfo(E),A=S?ue(ue({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};y.setState(A),y.triggerSyncEvent(A);var T=y.props.onMouseMove;Ke(T)&&T(A,E)}),Fe(y,"handleItemMouseEnter",function(E){y.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Fe(y,"handleItemMouseLeave",function(){y.setState(function(){return{isTooltipActive:!1}})}),Fe(y,"handleMouseMove",function(E){E.persist(),y.throttleTriggeredAfterMouseMove(E)}),Fe(y,"handleMouseLeave",function(E){y.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};y.setState(S),y.triggerSyncEvent(S);var A=y.props.onMouseLeave;Ke(A)&&A(S,E)}),Fe(y,"handleOuterEvent",function(E){var S=bD(E),A=_n(y.props,"".concat(S));if(S&&Ke(A)){var T,N;/.*touch.*/i.test(S)?N=y.getMouseInfo(E.changedTouches[0]):N=y.getMouseInfo(E),A((T=N)!==null&&T!==void 0?T:{},E)}}),Fe(y,"handleClick",function(E){var S=y.getMouseInfo(E);if(S){var A=ue(ue({},S),{},{isTooltipActive:!0});y.setState(A),y.triggerSyncEvent(A);var T=y.props.onClick;Ke(T)&&T(A,E)}}),Fe(y,"handleMouseDown",function(E){var S=y.props.onMouseDown;if(Ke(S)){var A=y.getMouseInfo(E);S(A,E)}}),Fe(y,"handleMouseUp",function(E){var S=y.props.onMouseUp;if(Ke(S)){var A=y.getMouseInfo(E);S(A,E)}}),Fe(y,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&y.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Fe(y,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&y.handleMouseDown(E.changedTouches[0])}),Fe(y,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&y.handleMouseUp(E.changedTouches[0])}),Fe(y,"handleDoubleClick",function(E){var S=y.props.onDoubleClick;if(Ke(S)){var A=y.getMouseInfo(E);S(A,E)}}),Fe(y,"handleContextMenu",function(E){var S=y.props.onContextMenu;if(Ke(S)){var A=y.getMouseInfo(E);S(A,E)}}),Fe(y,"triggerSyncEvent",function(E){y.props.syncId!==void 0&&d0.emit(h0,y.props.syncId,E,y.eventEmitterSymbol)}),Fe(y,"applySyncEvent",function(E){var S=y.props,A=S.layout,T=S.syncMethod,N=y.state.updateId,j=E.dataStartIndex,D=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)y.setState(ue({dataStartIndex:j,dataEndIndex:D},m({props:y.props,dataStartIndex:j,dataEndIndex:D,updateId:N},y.state)));else if(E.activeTooltipIndex!==void 0){var L=E.chartX,q=E.chartY,H=E.activeTooltipIndex,K=y.state,Q=K.offset,fe=K.tooltipTicks;if(!Q)return;if(typeof T=="function")H=T(fe,E);else if(T==="value"){H=-1;for(var se=0;se<fe.length;se++)if(fe[se].value===E.activeLabel){H=se;break}}var ve=ue(ue({},Q),{},{x:Q.left,y:Q.top}),Oe=Math.min(L,ve.x+ve.width),M=Math.min(q,ve.y+ve.height),z=fe[H]&&fe[H].value,W=yp(y.state,y.props.data,H),I=fe[H]?{x:A==="horizontal"?fe[H].coordinate:Oe,y:A==="horizontal"?M:fe[H].coordinate}:mT;y.setState(ue(ue({},E),{},{activeLabel:z,activeCoordinate:I,activePayload:W,activeTooltipIndex:H}))}else y.setState(E)}),Fe(y,"renderCursor",function(E){var S,A=y.state,T=A.isTooltipActive,N=A.activeCoordinate,j=A.activePayload,D=A.offset,L=A.activeTooltipIndex,q=A.tooltipAxisBandSize,H=y.getTooltipEventType(),K=(S=E.props.active)!==null&&S!==void 0?S:T,Q=y.props.layout,fe=E.key||"_recharts-cursor";return k.createElement(hJ,{key:fe,activeCoordinate:N,activePayload:j,activeTooltipIndex:L,chartName:r,element:E,isActive:K,layout:Q,offset:D,tooltipAxisBandSize:q,tooltipEventType:H})}),Fe(y,"renderPolarAxis",function(E,S,A){var T=_n(E,"type.axisType"),N=_n(y.state,"".concat(T,"Map")),j=E.type.defaultProps,D=j!==void 0?ue(ue({},j),E.props):E.props,L=N&&N[D["".concat(T,"Id")]];return U.cloneElement(E,ue(ue({},L),{},{className:at(T,L.className),key:E.key||"".concat(S,"-").concat(A),ticks:wa(L,!0)}))}),Fe(y,"renderPolarGrid",function(E){var S=E.props,A=S.radialLines,T=S.polarAngles,N=S.polarRadius,j=y.state,D=j.radiusAxisMap,L=j.angleAxisMap,q=ri(D),H=ri(L),K=H.cx,Q=H.cy,fe=H.innerRadius,se=H.outerRadius;return U.cloneElement(E,{polarAngles:Array.isArray(T)?T:wa(H,!0).map(function(ve){return ve.coordinate}),polarRadius:Array.isArray(N)?N:wa(q,!0).map(function(ve){return ve.coordinate}),cx:K,cy:Q,innerRadius:fe,outerRadius:se,key:E.key||"polar-grid",radialLines:A})}),Fe(y,"renderLegend",function(){var E=y.state.formattedGraphicalItems,S=y.props,A=S.children,T=S.width,N=S.height,j=y.props.margin||{},D=T-(j.left||0)-(j.right||0),L=XS({children:A,formattedGraphicalItems:E,legendWidth:D,legendContent:c});if(!L)return null;var q=L.item,H=Fb(L,mJ);return U.cloneElement(q,ue(ue({},H),{},{chartWidth:T,chartHeight:N,margin:j,onBBoxUpdate:y.handleLegendBBoxUpdate}))}),Fe(y,"renderTooltip",function(){var E,S=y.props,A=S.children,T=S.accessibilityLayer,N=an(A,on);if(!N)return null;var j=y.state,D=j.isTooltipActive,L=j.activeCoordinate,q=j.activePayload,H=j.activeLabel,K=j.offset,Q=(E=N.props.active)!==null&&E!==void 0?E:D;return U.cloneElement(N,{viewBox:ue(ue({},K),{},{x:K.left,y:K.top}),active:Q,label:H,payload:Q?q:[],coordinate:L,accessibilityLayer:T})}),Fe(y,"renderBrush",function(E){var S=y.props,A=S.margin,T=S.data,N=y.state,j=N.offset,D=N.dataStartIndex,L=N.dataEndIndex,q=N.updateId;return U.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Tu(y.handleBrushChange,E.props.onChange),data:T,x:we(E.props.x)?E.props.x:j.left,y:we(E.props.y)?E.props.y:j.top+j.height+j.brushBottom-(A.bottom||0),width:we(E.props.width)?E.props.width:j.width,startIndex:D,endIndex:L,updateId:"brush-".concat(q)})}),Fe(y,"renderReferenceElement",function(E,S,A){if(!E)return null;var T=y,N=T.clipPathId,j=y.state,D=j.xAxisMap,L=j.yAxisMap,q=j.offset,H=E.type.defaultProps||{},K=E.props,Q=K.xAxisId,fe=Q===void 0?H.xAxisId:Q,se=K.yAxisId,ve=se===void 0?H.yAxisId:se;return U.cloneElement(E,{key:E.key||"".concat(S,"-").concat(A),xAxis:D[fe],yAxis:L[ve],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:N})}),Fe(y,"renderActivePoints",function(E){var S=E.item,A=E.activePoint,T=E.basePoint,N=E.childIndex,j=E.isRange,D=[],L=S.props.key,q=S.item.type.defaultProps!==void 0?ue(ue({},S.item.type.defaultProps),S.item.props):S.item.props,H=q.activeDot,K=q.dataKey,Q=ue(ue({index:N,dataKey:K,cx:A.x,cy:A.y,r:4,fill:kg(S.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},qe(H,!1)),Gu(H));return D.push(b.renderActiveDot(H,Q,"".concat(L,"-activePoint-").concat(N))),T?D.push(b.renderActiveDot(H,ue(ue({},Q),{},{cx:T.x,cy:T.y}),"".concat(L,"-basePoint-").concat(N))):j&&D.push(null),D}),Fe(y,"renderGraphicChild",function(E,S,A){var T=y.filterFormatItem(E,S,A);if(!T)return null;var N=y.getTooltipEventType(),j=y.state,D=j.isTooltipActive,L=j.tooltipAxis,q=j.activeTooltipIndex,H=j.activeLabel,K=y.props.children,Q=an(K,on),fe=T.props,se=fe.points,ve=fe.isRange,Oe=fe.baseLine,M=T.item.type.defaultProps!==void 0?ue(ue({},T.item.type.defaultProps),T.item.props):T.item.props,z=M.activeDot,W=M.hide,I=M.activeBar,ee=M.activeShape,_e=!!(!W&&D&&Q&&(z||I||ee)),Ee={};N!=="axis"&&Q&&Q.props.trigger==="click"?Ee={onClick:Tu(y.handleItemMouseEnter,E.props.onClick)}:N!=="axis"&&(Ee={onMouseLeave:Tu(y.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Tu(y.handleItemMouseEnter,E.props.onMouseEnter)});var re=U.cloneElement(E,ue(ue({},T.props),Ee));function ce(vr){return typeof L.dataKey=="function"?L.dataKey(vr.payload):null}if(_e)if(q>=0){var Se,ne;if(L.dataKey&&!L.allowDuplicatedCategory){var Le=typeof L.dataKey=="function"?ce:"payload.".concat(L.dataKey.toString());Se=qu(se,Le,H),ne=ve&&Oe&&qu(Oe,Le,H)}else Se=se==null?void 0:se[q],ne=ve&&Oe&&Oe[q];if(ee||I){var je=E.props.activeIndex!==void 0?E.props.activeIndex:q;return[U.cloneElement(E,ue(ue(ue({},T.props),Ee),{},{activeIndex:je})),null,null]}if(!Ge(Se))return[re].concat(No(y.renderActivePoints({item:T,activePoint:Se,basePoint:ne,childIndex:q,isRange:ve})))}else{var Re,$e=(Re=y.getItemByXY(y.state.activeCoordinate))!==null&&Re!==void 0?Re:{graphicalItem:re},V=$e.graphicalItem,Ne=V.item,Ve=Ne===void 0?E:Ne,ut=V.childIndex,er=ue(ue(ue({},T.props),Ee),{},{activeIndex:ut});return[U.cloneElement(Ve,er),null,null]}return ve?[re,null,null]:[re,null]}),Fe(y,"renderCustomized",function(E,S,A){return U.cloneElement(E,ue(ue({key:"recharts-customized-".concat(A)},y.props),y.state))}),Fe(y,"renderMap",{CartesianGrid:{handler:Pu,once:!0},ReferenceArea:{handler:y.renderReferenceElement},ReferenceLine:{handler:Pu},ReferenceDot:{handler:y.renderReferenceElement},XAxis:{handler:Pu},YAxis:{handler:Pu},Brush:{handler:y.renderBrush,once:!0},Bar:{handler:y.renderGraphicChild},Line:{handler:y.renderGraphicChild},Area:{handler:y.renderGraphicChild},Radar:{handler:y.renderGraphicChild},RadialBar:{handler:y.renderGraphicChild},Scatter:{handler:y.renderGraphicChild},Pie:{handler:y.renderGraphicChild},Funnel:{handler:y.renderGraphicChild},Tooltip:{handler:y.renderCursor,once:!0},PolarGrid:{handler:y.renderPolarGrid,once:!0},PolarAngleAxis:{handler:y.renderPolarAxis},PolarRadiusAxis:{handler:y.renderPolarAxis},Customized:{handler:y.renderCustomized}}),y.clipPathId="".concat((x=w.id)!==null&&x!==void 0?x:us("recharts"),"-clip"),y.throttleTriggeredAfterMouseMove=X2(y.triggeredAfterMouseMove,(_=w.throttleDelay)!==null&&_!==void 0?_:1e3/60),y.state={},y}return OJ(b,v),_J(b,[{key:"componentDidMount",value:function(){var x,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,_=x.children,y=x.data,E=x.height,S=x.layout,A=an(_,on);if(A){var T=A.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,j=yp(this.state,y,T,N),D=this.state.tooltipTicks[T].coordinate,L=(this.state.offset.top+E)/2,q=S==="horizontal",H=q?{x:D,y:L}:{y:D,x:L},K=this.state.formattedGraphicalItems.find(function(fe){var se=fe.item;return se.type.name==="Scatter"});K&&(H=ue(ue({},H),K.props.points[T].tooltipPosition),j=K.props.points[T].tooltipPayload);var Q={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:N,activePayload:j,activeCoordinate:H};this.setState(Q),this.renderCursor(A),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var y,E;this.accessibilityManager.setDetails({offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(x){K0([an(x.children,on)],[an(this.props.children,on)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=an(this.props.children,on);if(x&&typeof x.props.shared=="boolean"){var _=x.props.shared?"axis":"item";return o.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var _=this.container,y=_.getBoundingClientRect(),E=VL(y),S={chartX:Math.round(x.pageX-E.left),chartY:Math.round(x.pageY-E.top)},A=y.width/_.offsetWidth||1,T=this.inRange(S.chartX,S.chartY,A);if(!T)return null;var N=this.state,j=N.xAxisMap,D=N.yAxisMap,L=this.getTooltipEventType();if(L!=="axis"&&j&&D){var q=ri(j).scale,H=ri(D).scale,K=q&&q.invert?q.invert(S.chartX):null,Q=H&&H.invert?H.invert(S.chartY):null;return ue(ue({},S),{},{xValue:K,yValue:Q})}var fe=Lb(this.state,this.props.data,this.props.layout,T);return fe?ue(ue({},S),fe):null}},{key:"inRange",value:function(x,_){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,S=x/y,A=_/y;if(E==="horizontal"||E==="vertical"){var T=this.state.offset,N=S>=T.left&&S<=T.left+T.width&&A>=T.top&&A<=T.top+T.height;return N?{x:S,y:A}:null}var j=this.state,D=j.angleAxisMap,L=j.radiusAxisMap;if(D&&L){var q=ri(D);return g1({x:S,y:A},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,_=this.getTooltipEventType(),y=an(x,on),E={};y&&_==="axis"&&(y.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Gu(this.props,this.handleOuterEvent);return ue(ue({},S),E)}},{key:"addListener",value:function(){d0.on(h0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){d0.removeListener(h0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,_,y){for(var E=this.state.formattedGraphicalItems,S=0,A=E.length;S<A;S++){var T=E[S];if(T.item===x||T.props.key===x.key||_===Ea(T.item.type)&&y===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,_=this.state.offset,y=_.left,E=_.top,S=_.height,A=_.width;return k.createElement("defs",null,k.createElement("clipPath",{id:x},k.createElement("rect",{x:y,y:E,height:S,width:A})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(_,y){var E=$b(y,2),S=E[0],A=E[1];return ue(ue({},_),{},Fe({},S,A.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(_,y){var E=$b(y,2),S=E[0],A=E[1];return ue(ue({},_),{},Fe({},S,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(x){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(x){var _=this.state,y=_.formattedGraphicalItems,E=_.activeItem;if(y&&y.length)for(var S=0,A=y.length;S<A;S++){var T=y[S],N=T.props,j=T.item,D=j.type.defaultProps!==void 0?ue(ue({},j.type.defaultProps),j.props):j.props,L=Ea(j.type);if(L==="Bar"){var q=(N.data||[]).find(function(fe){return jq(x,fe)});if(q)return{graphicalItem:T,payload:q}}else if(L==="RadialBar"){var H=(N.data||[]).find(function(fe){return g1(x,fe)});if(H)return{graphicalItem:T,payload:H}}else if(Zd(T,E)||Qd(T,E)||_c(T,E)){var K=PG({graphicalItem:T,activeTooltipItem:E,itemData:D.data}),Q=D.activeIndex===void 0?K:D.activeIndex;return{graphicalItem:ue(ue({},T),{},{childIndex:Q}),payload:_c(T,E)?D.data[K]:T.props.data[K]}}}return null}},{key:"render",value:function(){var x=this;if(!ox(this))return null;var _=this.props,y=_.children,E=_.className,S=_.width,A=_.height,T=_.style,N=_.compact,j=_.title,D=_.desc,L=Fb(_,pJ),q=qe(L,!1);if(N)return k.createElement(mb,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement(X0,zs({},q,{width:S,height:A,title:j,desc:D}),this.renderClipPath(),cx(y,this.renderMap)));if(this.props.accessibilityLayer){var H,K;q.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,q.role=(K=this.props.role)!==null&&K!==void 0?K:"application",q.onKeyDown=function(fe){x.accessibilityManager.keyboardEvent(fe)},q.onFocus=function(){x.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return k.createElement(mb,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement("div",zs({className:at("recharts-wrapper",E),style:ue({position:"relative",cursor:"default",width:S,height:A},T)},Q,{ref:function(se){x.container=se}}),k.createElement(X0,zs({},q,{width:S,height:A,title:j,desc:D,style:CJ}),this.renderClipPath(),cx(y,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);Fe(g,"displayName",r),Fe(g,"defaultProps",ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Fe(g,"getDerivedStateFromProps",function(v,b){var w=v.dataKey,x=v.data,_=v.children,y=v.width,E=v.height,S=v.layout,A=v.stackOffset,T=v.margin,N=b.dataStartIndex,j=b.dataEndIndex;if(b.updateId===void 0){var D=Bb(v);return ue(ue(ue({},D),{},{updateId:0},m(ue(ue({props:v},D),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:x,prevWidth:y,prevHeight:E,prevLayout:S,prevStackOffset:A,prevMargin:T,prevChildren:_})}if(w!==b.prevDataKey||x!==b.prevData||y!==b.prevWidth||E!==b.prevHeight||S!==b.prevLayout||A!==b.prevStackOffset||!Vs(T,b.prevMargin)){var L=Bb(v),q={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},H=ue(ue({},Lb(b,x,S)),{},{updateId:b.updateId+1}),K=ue(ue(ue({},L),q),H);return ue(ue(ue({},K),m(ue({props:v},K),b)),{},{prevDataKey:w,prevData:x,prevWidth:y,prevHeight:E,prevLayout:S,prevStackOffset:A,prevMargin:T,prevChildren:_})}if(!K0(_,b.prevChildren)){var Q,fe,se,ve,Oe=an(_,go),M=Oe&&(Q=(fe=Oe.props)===null||fe===void 0?void 0:fe.startIndex)!==null&&Q!==void 0?Q:N,z=Oe&&(se=(ve=Oe.props)===null||ve===void 0?void 0:ve.endIndex)!==null&&se!==void 0?se:j,W=M!==N||z!==j,I=!Ge(x),ee=I&&!W?b.updateId:b.updateId+1;return ue(ue({updateId:ee},m(ue(ue({props:v},b),{},{updateId:ee,dataStartIndex:M,dataEndIndex:z}),b)),{},{prevChildren:_,dataStartIndex:M,dataEndIndex:z})}return null}),Fe(g,"renderActiveDot",function(v,b,w){var x;return U.isValidElement(v)?x=U.cloneElement(v,b):Ke(v)?x=v(b):x=k.createElement(Jd,b),k.createElement(ct,{className:"recharts-active-dot",key:w},x)});var p=U.forwardRef(function(b,w){return k.createElement(g,zs({},b,{ref:w}))});return p.displayName=g.displayName,p},Kf=WJ({chartName:"ComposedChart",GraphicalChild:[ia,Lr,Ko,sh],axisComponents:[{axisType:"xAxis",AxisComp:rs},{axisType:"yAxis",AxisComp:ns},{axisType:"zAxis",AxisComp:ih}],formatAxisMap:tK});function zJ(){const{user:e}=Ia(),[t,r]=U.useState("UTC"),[n,a]=U.useState(!0);return U.useEffect(()=>{async function i(){try{if(!e){a(!1);return}const{data:s,error:o}=await ze.from("user_settings").select("timezone").eq("user_id",e.id).maybeSingle();!o&&s&&r(s.timezone)}catch(s){console.error("Error loading timezone:",s)}finally{a(!1)}}i()},[e]),{timezone:t,loading:n}}function xl(e,t){try{const r=typeof e=="string"?new Date(e):e;return new Intl.DateTimeFormat("en-CA",{timeZone:t,year:"numeric",month:"2-digit",day:"2-digit"}).format(r)}catch(r){return console.error("Error formatting date:",r),new Date(e).toISOString().split("T")[0]}}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Yf={};Yf.version="0.18.5";var gT=1252,HJ=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],vT=function(e){HJ.indexOf(e)!=-1&&(gT=e)};function qJ(){vT(1252)}var Pc=function(e){vT(e)};function GJ(){Pc(1200),qJ()}var ku=function(t){return String.fromCharCode(t)},Wb=function(t){return String.fromCharCode(t)},Fi,si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function kc(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=si.charAt(i)+si.charAt(s)+si.charAt(o)+si.charAt(l);return t}function Da(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=si.indexOf(e.charAt(c++)),s=si.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=si.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=si.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var lt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),La=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function as(e){return lt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function zb(e){return lt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Rn=function(t){return lt?La(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function lh(e){if(typeof ArrayBuffer>"u")return Rn(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Xc(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function VJ(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var dr=lt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:La(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function KJ(e){for(var t=[],r=0,n=e.length+250,a=as(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=as(65535),n=65530)}return t.push(a.slice(0,r)),dr(t)}var Ll=/\u0000/g,Cu=/[\u0001-\u0006]/g;function Xs(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Bn(e,t){var r=""+e;return r.length>=t?r:Ft("0",t-r.length)+r}function Ug(e,t){var r=""+e;return r.length>=t?r:Ft(" ",t-r.length)+r}function Xf(e,t){var r=""+e;return r.length>=t?r:r+Ft(" ",t-r.length)}function YJ(e,t){var r=""+Math.round(e);return r.length>=t?r:Ft("0",t-r.length)+r}function XJ(e,t){var r=""+e;return r.length>=t?r:Ft("0",t-r.length)+r}var Hb=Math.pow(2,32);function Ms(e,t){if(e>Hb||e<-Hb)return YJ(e,t);var r=Math.round(e);return XJ(r,t)}function Jf(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var qb=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],p0=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function JJ(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Rt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},Gb={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ZJ={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Zf(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,f=0,d=Math.floor(a);c<t&&(d=Math.floor(a),o=d*s+i,f=d*c+l,!(a-d<5e-8));)a=1/(a-d),i=s,s=o,l=c,c=f;if(f>t&&(c>t?(f=l,o=i):(f=c,o=s)),!r)return[0,n*o,f];var h=Math.floor(n*o/f);return[h,n*o-h*f,f]}function Du(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=iZ(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var xT=new Date(1899,11,31,0,0,0),QJ=xT.getTime(),eZ=new Date(1900,2,1,0,0,0);function yT(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=eZ&&(r+=24*60*60*1e3),(r-(QJ+(e.getTimezoneOffset()-xT.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Wg(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function tZ(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function rZ(e){var t=e<0?12:11,r=Wg(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function nZ(e){var t=Wg(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function aZ(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=rZ(e):t===10?r=e.toFixed(10).substr(0,12):r=nZ(e),Wg(tZ(r.toUpperCase()))}function bp(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):aZ(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return ui(14,yT(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function iZ(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function sZ(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return p0[r.m-1][1];case 5:return p0[r.m-1][0];default:return p0[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return qb[r.q][0];default:return qb[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Bn(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Bn(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var f=c>0?Bn(l,c):"";return f}function oi(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var bT=/%/g;function oZ(e,t,r){var n=t.replace(bT,""),a=t.length-n.length;return Aa(e,n,r*Math.pow(10,2*a))+Ft("%",a)}function lZ(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Aa(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function wT(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+wT(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,f){return l+c+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var _T=/# (\?+)( ?)\/( ?)(\d+)/;function cZ(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Ft(" ",e[1].length+1+e[4].length):Ug(s,e[1].length)+e[2]+"/"+e[3]+Bn(o,e[4].length))}function uZ(e,t,r){return r+(t===0?"":""+t)+Ft(" ",e[1].length+2+e[4].length)}var ST=/^#*0*\.([0#]+)/,ET=/\).*[0#]/,TT=/\(###\) ###\\?-####/;function $r(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Vb(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Kb(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function fZ(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function dZ(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function xn(e,t,r){if(e.charCodeAt(0)===40&&!t.match(ET)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?xn("n",n,r):"("+xn("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return lZ(e,t,r);if(t.indexOf("%")!==-1)return oZ(e,t,r);if(t.indexOf("E")!==-1)return wT(t,r);if(t.charCodeAt(0)===36)return"$"+xn(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Ms(l,t.length);if(t.match(/^[#?]+$/))return a=Ms(r,0),a==="0"&&(a=""),a.length>t.length?a:$r(t.substr(0,t.length-a.length))+a;if(i=t.match(_T))return cZ(i,l,c);if(t.match(/^#+0+$/))return c+Ms(l,t.length-t.indexOf("0"));if(i=t.match(ST))return a=Vb(r,i[1].length).replace(/^([^\.]+)$/,"$1."+$r(i[1])).replace(/\.$/,"."+$r(i[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+Ft("0",$r(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+Vb(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+oi(Ms(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+xn(e,t,-r):oi(""+(Math.floor(r)+fZ(r,i[1].length)))+"."+Bn(Kb(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return xn(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Xs(xn(e,t.replace(/[\\-]/g,""),r)),s=0,Xs(Xs(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(TT))return a=xn(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Zf(l,Math.pow(10,s)-1,!1),a=""+c,f=Aa("n",i[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=Xf(o[2],s),f.length<i[4].length&&(f=$r(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Zf(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Ug(o[1],s)+i[2]+"/"+i[3]+Xf(o[2],s):Ft(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Ms(r,0),t.length<=a.length?a:$r(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return $r(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=Kb(r,i[1].length),r<0?"-"+xn(e,t,-r):oi(dZ(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Bn(0,3-g.length):"")+g})+"."+Bn(s,i[1].length);switch(t){case"###,##0.00":return xn(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=oi(Ms(l,0));return m!=="0"?c+m:"";case"###,###.00":return xn(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return xn(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function hZ(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Aa(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function mZ(e,t,r){var n=t.replace(bT,""),a=t.length-n.length;return Aa(e,n,r*Math.pow(10,2*a))+Ft("%",a)}function OT(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+OT(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,f){return l+c+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Yn(e,t,r){if(e.charCodeAt(0)===40&&!t.match(ET)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Yn("n",n,r):"("+Yn("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return hZ(e,t,r);if(t.indexOf("%")!==-1)return mZ(e,t,r);if(t.indexOf("E")!==-1)return OT(t,r);if(t.charCodeAt(0)===36)return"$"+Yn(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Bn(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:$r(t.substr(0,t.length-a.length))+a;if(i=t.match(_T))return uZ(i,l,c);if(t.match(/^#+0+$/))return c+Bn(l,t.length-t.indexOf("0"));if(i=t.match(ST))return a=(""+r).replace(/^([^\.]+)$/,"$1."+$r(i[1])).replace(/\.$/,"."+$r(i[1])),a=a.replace(/\.(\d*)$/,function(g,p){return"."+p+Ft("0",$r(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+oi(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Yn(e,t,-r):oi(""+r)+"."+Ft("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Yn(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Xs(Yn(e,t.replace(/[\\-]/g,""),r)),s=0,Xs(Xs(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(TT))return a=Yn(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Zf(l,Math.pow(10,s)-1,!1),a=""+c,f=Aa("n",i[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=Xf(o[2],s),f.length<i[4].length&&(f=$r(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Zf(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Ug(o[1],s)+i[2]+"/"+i[3]+Xf(o[2],s):Ft(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:$r(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return $r(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Yn(e,t,-r):oi(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Bn(0,3-g.length):"")+g})+"."+Bn(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=oi(""+l);return m!=="0"?c+m:"";default:if(t.match(/\.[0#?]*$/))return Yn(e,t.slice(0,t.lastIndexOf(".")),r)+$r(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Aa(e,t,r){return(r|0)===r?Yn(e,t,r):xn(e,t,r)}function pZ(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var AT=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function jT(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Jf(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(AT))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function gZ(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,f,d,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Jf(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(d=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(d);a[a.length]={t:"t",v:i},++s;break;case"\\":var m=e.charAt(++s),g=m==="("||m===")"?m:"t";a[a.length]={t:g,v:m},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=Du(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Du(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"上":var p={t:o,v:o};if(c==null&&(c=Du(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(p.v=c.H>=12?"P":"A"),p.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(p.v=c.H>=12?"PM":"AM"),p.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(c!=null&&(p.v=c.H>=12?"下午":"上午"),p.t="T",s+=5,h="h"):(p.t="t",++s),c==null&&p.t==="T")return"";a[a.length]=p,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(AT)){if(c==null&&(c=Du(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",jT(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,b=0,w;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(w=a[s].v.match(/\.0+$/))&&(b=Math.max(b,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var x="",_;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=sZ(a[s].t.charCodeAt(0),a[s].v,c,b),a[s].t="t";break;case"n":case"?":for(_=s+1;a[_]!=null&&((o=a[_].t)==="?"||o==="D"||(o===" "||o==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[s].v+=a[_].v,a[_]={v:"",t:";"},++_;x+=a[s].v,s=_-1;break;case"G":a[s].t="t",a[s].v=bp(t,r);break}var y="",E,S;if(x.length>0){x.charCodeAt(0)==40?(E=t<0&&x.charCodeAt(0)===45?-t:t,S=Aa("n",x,E)):(E=t<0&&n>1?-t:t,S=Aa("n",x,E),E<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),_=S.length-1;var A=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){A=s;break}var T=a.length;if(A===a.length&&S.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(_>=a[s].v.length-1?(_-=a[s].v.length,a[s].v=S.substr(_+1,a[s].v.length)):_<0?a[s].v="":(a[s].v=S.substr(0,_+1),_=-1),a[s].t="t",T=s);_>=0&&T<a.length&&(a[T].v=S.substr(0,_+1)+a[T].v)}else if(A!==a.length&&S.indexOf("E")===-1){for(_=S.indexOf(".")-1,s=A;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(f=a[s].v.indexOf(".")>-1&&s===A?a[s].v.indexOf(".")-1:a[s].v.length-1,y=a[s].v.substr(f+1);f>=0;--f)_>=0&&(a[s].v.charAt(f)==="0"||a[s].v.charAt(f)==="#")&&(y=S.charAt(_--)+y);a[s].v=y,a[s].t="t",T=s}for(_>=0&&T<a.length&&(a[T].v=S.substr(0,_+1)+a[T].v),_=S.indexOf(".")+1,s=A;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==A)){for(f=a[s].v.indexOf(".")>-1&&s===A?a[s].v.indexOf(".")+1:0,y=a[s].v.substr(0,f);f<a[s].v.length;++f)_<S.length&&(y+=S.charAt(_++));a[s].v=y,a[s].t="t",T=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(E=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Aa(a[s].t,a[s].v,E),a[s].t="t");var N="";for(s=0;s!==a.length;++s)a[s]!=null&&(N+=a[s].v);return N}var Yb=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Xb(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function vZ(e,t){var r=pZ(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(Yb),o=r[1].match(Yb);return Xb(t,s)?[n,r[0]]:Xb(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function ui(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Rt)[e],n==null&&(n=r.table&&r.table[Gb[e]]||Rt[Gb[e]]),n==null&&(n=ZJ[e]||"General");break}if(Jf(n,0))return bp(t,r);t instanceof Date&&(t=yT(t,r.date1904));var a=vZ(n,t);if(Jf(a[1]))return bp(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return gZ(a[1],t,r,a[0])}function NT(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Rt[r]==null){t<0&&(t=r);continue}if(Rt[r]==e){t=r;break}}t<0&&(t=391)}return Rt[t]=e,t}function ch(e){for(var t=0;t!=392;++t)e[t]!==void 0&&NT(e[t],t)}function uh(){Rt=JJ()}var PT=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function xZ(e){var t=typeof e=="number"?Rt[e]:e;return t=t.replace(PT,"(\\d+)"),new RegExp("^"+t+"$")}function yZ(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(PT)||[]).forEach(function(d,h){var m=parseInt(r[h+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":s=m;break;case"s":l=m;break;case"m":s>=0?o=m:a=m;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var f=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?f:c+"T"+f}var bZ=function(){var e={};e.version="1.2.0";function t(){for(var S=0,A=new Array(256),T=0;T!=256;++T)S=T,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,A[T]=S;return typeof Int32Array<"u"?new Int32Array(A):A}var r=t();function n(S){var A=0,T=0,N=0,j=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(N=0;N!=256;++N)j[N]=S[N];for(N=0;N!=256;++N)for(T=S[N],A=256+N;A<4096;A+=256)T=j[A]=T>>>8^S[T&255];var D=[];for(N=1;N!=16;++N)D[N-1]=typeof Int32Array<"u"?j.subarray(N*256,N*256+256):j.slice(N*256,N*256+256);return D}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],f=a[5],d=a[6],h=a[7],m=a[8],g=a[9],p=a[10],v=a[11],b=a[12],w=a[13],x=a[14];function _(S,A){for(var T=A^-1,N=0,j=S.length;N<j;)T=T>>>8^r[(T^S.charCodeAt(N++))&255];return~T}function y(S,A){for(var T=A^-1,N=S.length-15,j=0;j<N;)T=x[S[j++]^T&255]^w[S[j++]^T>>8&255]^b[S[j++]^T>>16&255]^v[S[j++]^T>>>24]^p[S[j++]]^g[S[j++]]^m[S[j++]]^h[S[j++]]^d[S[j++]]^f[S[j++]]^c[S[j++]]^l[S[j++]]^o[S[j++]]^s[S[j++]]^i[S[j++]]^r[S[j++]];for(N+=15;j<N;)T=T>>>8^r[(T^S[j++])&255];return~T}function E(S,A){for(var T=A^-1,N=0,j=S.length,D=0,L=0;N<j;)D=S.charCodeAt(N++),D<128?T=T>>>8^r[(T^D)&255]:D<2048?(T=T>>>8^r[(T^(192|D>>6&31))&255],T=T>>>8^r[(T^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,L=S.charCodeAt(N++)&1023,T=T>>>8^r[(T^(240|D>>8&7))&255],T=T>>>8^r[(T^(128|D>>2&63))&255],T=T>>>8^r[(T^(128|L>>6&15|(D&3)<<4))&255],T=T>>>8^r[(T^(128|L&63))&255]):(T=T>>>8^r[(T^(224|D>>12&15))&255],T=T>>>8^r[(T^(128|D>>6&63))&255],T=T>>>8^r[(T^(128|D&63))&255]);return~T}return e.table=r,e.bstr=_,e.buf=y,e.str=E,e}(),wt=function(){var t={};t.version="1.2.1";function r(O,F){for(var C=O.split("/"),P=F.split("/"),R=0,B=0,J=Math.min(C.length,P.length);R<J;++R){if(B=C[R].length-P[R].length)return B;if(C[R]!=P[R])return C[R]<P[R]?-1:1}return C.length-P.length}function n(O){if(O.charAt(O.length-1)=="/")return O.slice(0,-1).indexOf("/")===-1?O:n(O.slice(0,-1));var F=O.lastIndexOf("/");return F===-1?O:O.slice(0,F+1)}function a(O){if(O.charAt(O.length-1)=="/")return a(O.slice(0,-1));var F=O.lastIndexOf("/");return F===-1?O:O.slice(F+1)}function i(O,F){typeof F=="string"&&(F=new Date(F));var C=F.getHours();C=C<<6|F.getMinutes(),C=C<<5|F.getSeconds()>>>1,O.write_shift(2,C);var P=F.getFullYear()-1980;P=P<<4|F.getMonth()+1,P=P<<5|F.getDate(),O.write_shift(2,P)}function s(O){var F=O.read_shift(2)&65535,C=O.read_shift(2)&65535,P=new Date,R=C&31;C>>>=5;var B=C&15;C>>>=4,P.setMilliseconds(0),P.setFullYear(C+1980),P.setMonth(B-1),P.setDate(R);var J=F&31;F>>>=5;var ie=F&63;return F>>>=6,P.setHours(F),P.setMinutes(ie),P.setSeconds(J<<1),P}function o(O){ln(O,0);for(var F={},C=0;O.l<=O.length-4;){var P=O.read_shift(2),R=O.read_shift(2),B=O.l+R,J={};switch(P){case 21589:C=O.read_shift(1),C&1&&(J.mtime=O.read_shift(4)),R>5&&(C&2&&(J.atime=O.read_shift(4)),C&4&&(J.ctime=O.read_shift(4))),J.mtime&&(J.mt=new Date(J.mtime*1e3));break}O.l=B,F[P]=J}return F}var l;function c(){return l||(l={})}function f(O,F){if(O[0]==80&&O[1]==75)return ht(O,F);if((O[0]|32)==109&&(O[1]|32)==105)return We(O,F);if(O.length<512)throw new Error("CFB file size "+O.length+" < 512");var C=3,P=512,R=0,B=0,J=0,ie=0,X=0,Z=[],te=O.slice(0,512);ln(te,0);var Y=d(te);switch(C=Y[0],C){case 3:P=512;break;case 4:P=4096;break;case 0:if(Y[1]==0)return ht(O,F);default:throw new Error("Major Version: Expected 3 or 4 saw "+C)}P!==512&&(te=O.slice(0,P),ln(te,28));var he=O.slice(0,P);h(te,C);var ge=te.read_shift(4,"i");if(C===3&&ge!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ge);te.l+=4,J=te.read_shift(4,"i"),te.l+=4,te.chk("00100000","Mini Stream Cutoff Size: "),ie=te.read_shift(4,"i"),R=te.read_shift(4,"i"),X=te.read_shift(4,"i"),B=te.read_shift(4,"i");for(var pe=-1,xe=0;xe<109&&(pe=te.read_shift(4,"i"),!(pe<0));++xe)Z[xe]=pe;var Ie=m(O,P);v(X,B,Ie,P,Z);var et=w(Ie,J,Z,P);et[J].name="!Directory",R>0&&ie!==L&&(et[ie].name="!MiniFAT"),et[Z[0]].name="!FAT",et.fat_addrs=Z,et.ssz=P;var ot={},Et=[],da=[],tr=[];x(J,et,Ie,Et,R,ot,da,ie),g(da,tr,Et),Et.shift();var ha={FileIndex:da,FullPaths:tr};return F&&F.raw&&(ha.raw={header:he,sectors:Ie}),ha}function d(O){if(O[O.l]==80&&O[O.l+1]==75)return[0,0];O.chk(q,"Header Signature: "),O.l+=16;var F=O.read_shift(2,"u");return[O.read_shift(2,"u"),F]}function h(O,F){var C=9;switch(O.l+=2,C=O.read_shift(2)){case 9:if(F!=3)throw new Error("Sector Shift: Expected 9 saw "+C);break;case 12:if(F!=4)throw new Error("Sector Shift: Expected 12 saw "+C);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+C)}O.chk("0600","Mini Sector Shift: "),O.chk("000000000000","Reserved: ")}function m(O,F){for(var C=Math.ceil(O.length/F)-1,P=[],R=1;R<C;++R)P[R-1]=O.slice(R*F,(R+1)*F);return P[C-1]=O.slice(C*F),P}function g(O,F,C){for(var P=0,R=0,B=0,J=0,ie=0,X=C.length,Z=[],te=[];P<X;++P)Z[P]=te[P]=P,F[P]=C[P];for(;ie<te.length;++ie)P=te[ie],R=O[P].L,B=O[P].R,J=O[P].C,Z[P]===P&&(R!==-1&&Z[R]!==R&&(Z[P]=Z[R]),B!==-1&&Z[B]!==B&&(Z[P]=Z[B])),J!==-1&&(Z[J]=P),R!==-1&&P!=Z[P]&&(Z[R]=Z[P],te.lastIndexOf(R)<ie&&te.push(R)),B!==-1&&P!=Z[P]&&(Z[B]=Z[P],te.lastIndexOf(B)<ie&&te.push(B));for(P=1;P<X;++P)Z[P]===P&&(B!==-1&&Z[B]!==B?Z[P]=Z[B]:R!==-1&&Z[R]!==R&&(Z[P]=Z[R]));for(P=1;P<X;++P)if(O[P].type!==0){if(ie=P,ie!=Z[ie])do ie=Z[ie],F[P]=F[ie]+"/"+F[P];while(ie!==0&&Z[ie]!==-1&&ie!=Z[ie]);Z[P]=-1}for(F[0]+="/",P=1;P<X;++P)O[P].type!==2&&(F[P]+="/")}function p(O,F,C){for(var P=O.start,R=O.size,B=[],J=P;C&&R>0&&J>=0;)B.push(F.slice(J*D,J*D+D)),R-=D,J=Ri(C,J*4);return B.length===0?oe(0):dr(B).slice(0,O.size)}function v(O,F,C,P,R){var B=L;if(O===L){if(F!==0)throw new Error("DIFAT chain shorter than expected")}else if(O!==-1){var J=C[O],ie=(P>>>2)-1;if(!J)return;for(var X=0;X<ie&&(B=Ri(J,X*4))!==L;++X)R.push(B);v(Ri(J,P-4),F-1,C,P,R)}}function b(O,F,C,P,R){var B=[],J=[];R||(R=[]);var ie=P-1,X=0,Z=0;for(X=F;X>=0;){R[X]=!0,B[B.length]=X,J.push(O[X]);var te=C[Math.floor(X*4/P)];if(Z=X*4&ie,P<4+Z)throw new Error("FAT boundary crossed: "+X+" 4 "+P);if(!O[te])break;X=Ri(O[te],Z)}return{nodes:B,data:aw([J])}}function w(O,F,C,P){var R=O.length,B=[],J=[],ie=[],X=[],Z=P-1,te=0,Y=0,he=0,ge=0;for(te=0;te<R;++te)if(ie=[],he=te+F,he>=R&&(he-=R),!J[he]){X=[];var pe=[];for(Y=he;Y>=0;){pe[Y]=!0,J[Y]=!0,ie[ie.length]=Y,X.push(O[Y]);var xe=C[Math.floor(Y*4/P)];if(ge=Y*4&Z,P<4+ge)throw new Error("FAT boundary crossed: "+Y+" 4 "+P);if(!O[xe]||(Y=Ri(O[xe],ge),pe[Y]))break}B[he]={nodes:ie,data:aw([X])}}return B}function x(O,F,C,P,R,B,J,ie){for(var X=0,Z=P.length?2:0,te=F[O].data,Y=0,he=0,ge;Y<te.length;Y+=128){var pe=te.slice(Y,Y+128);ln(pe,64),he=pe.read_shift(2),ge=Vg(pe,0,he-Z),P.push(ge);var xe={name:ge,type:pe.read_shift(1),color:pe.read_shift(1),L:pe.read_shift(4,"i"),R:pe.read_shift(4,"i"),C:pe.read_shift(4,"i"),clsid:pe.read_shift(16),state:pe.read_shift(4,"i"),start:0,size:0},Ie=pe.read_shift(2)+pe.read_shift(2)+pe.read_shift(2)+pe.read_shift(2);Ie!==0&&(xe.ct=_(pe,pe.l-8));var et=pe.read_shift(2)+pe.read_shift(2)+pe.read_shift(2)+pe.read_shift(2);et!==0&&(xe.mt=_(pe,pe.l-8)),xe.start=pe.read_shift(4,"i"),xe.size=pe.read_shift(4,"i"),xe.size<0&&xe.start<0&&(xe.size=xe.type=0,xe.start=L,xe.name=""),xe.type===5?(X=xe.start,R>0&&X!==L&&(F[X].name="!StreamData")):xe.size>=4096?(xe.storage="fat",F[xe.start]===void 0&&(F[xe.start]=b(C,xe.start,F.fat_addrs,F.ssz)),F[xe.start].name=xe.name,xe.content=F[xe.start].data.slice(0,xe.size)):(xe.storage="minifat",xe.size<0?xe.size=0:X!==L&&xe.start!==L&&F[X]&&(xe.content=p(xe,F[X].data,(F[ie]||{}).data))),xe.content&&ln(xe.content,0),B[ge]=xe,J.push(xe)}}function _(O,F){return new Date((un(O,F+4)/1e7*Math.pow(2,32)+un(O,F)/1e7-11644473600)*1e3)}function y(O,F){return c(),f(l.readFileSync(O),F)}function E(O,F){var C=F&&F.type;switch(C||lt&&Buffer.isBuffer(O)&&(C="buffer"),C||"base64"){case"file":return y(O,F);case"base64":return f(Rn(Da(O)),F);case"binary":return f(Rn(O),F)}return f(O,F)}function S(O,F){var C=F||{},P=C.root||"Root Entry";if(O.FullPaths||(O.FullPaths=[]),O.FileIndex||(O.FileIndex=[]),O.FullPaths.length!==O.FileIndex.length)throw new Error("inconsistent CFB structure");O.FullPaths.length===0&&(O.FullPaths[0]=P+"/",O.FileIndex[0]={name:P,type:5}),C.CLSID&&(O.FileIndex[0].clsid=C.CLSID),A(O)}function A(O){var F="Sh33tJ5";if(!wt.find(O,"/"+F)){var C=oe(4);C[0]=55,C[1]=C[3]=50,C[2]=54,O.FileIndex.push({name:F,type:2,content:C,size:4,L:69,R:69,C:69}),O.FullPaths.push(O.FullPaths[0]+F),T(O)}}function T(O,F){S(O);for(var C=!1,P=!1,R=O.FullPaths.length-1;R>=0;--R){var B=O.FileIndex[R];switch(B.type){case 0:P?C=!0:(O.FileIndex.pop(),O.FullPaths.pop());break;case 1:case 2:case 5:P=!0,isNaN(B.R*B.L*B.C)&&(C=!0),B.R>-1&&B.L>-1&&B.R==B.L&&(C=!0);break;default:C=!0;break}}if(!(!C&&!F)){var J=new Date(1987,1,19),ie=0,X=Object.create?Object.create(null):{},Z=[];for(R=0;R<O.FullPaths.length;++R)X[O.FullPaths[R]]=!0,O.FileIndex[R].type!==0&&Z.push([O.FullPaths[R],O.FileIndex[R]]);for(R=0;R<Z.length;++R){var te=n(Z[R][0]);P=X[te],P||(Z.push([te,{name:a(te).replace("/",""),type:1,clsid:K,ct:J,mt:J,content:null}]),X[te]=!0)}for(Z.sort(function(ge,pe){return r(ge[0],pe[0])}),O.FullPaths=[],O.FileIndex=[],R=0;R<Z.length;++R)O.FullPaths[R]=Z[R][0],O.FileIndex[R]=Z[R][1];for(R=0;R<Z.length;++R){var Y=O.FileIndex[R],he=O.FullPaths[R];if(Y.name=a(he).replace("/",""),Y.L=Y.R=Y.C=-(Y.color=1),Y.size=Y.content?Y.content.length:0,Y.start=0,Y.clsid=Y.clsid||K,R===0)Y.C=Z.length>1?1:-1,Y.size=0,Y.type=5;else if(he.slice(-1)=="/"){for(ie=R+1;ie<Z.length&&n(O.FullPaths[ie])!=he;++ie);for(Y.C=ie>=Z.length?-1:ie,ie=R+1;ie<Z.length&&n(O.FullPaths[ie])!=n(he);++ie);Y.R=ie>=Z.length?-1:ie,Y.type=1}else n(O.FullPaths[R+1]||"")==n(he)&&(Y.R=R+1),Y.type=2}}}function N(O,F){var C=F||{};if(C.fileType=="mad")return ae(O,C);switch(T(O),C.fileType){case"zip":return mn(O,C)}var P=function(ge){for(var pe=0,xe=0,Ie=0;Ie<ge.FileIndex.length;++Ie){var et=ge.FileIndex[Ie];if(et.content){var ot=et.content.length;ot>0&&(ot<4096?pe+=ot+63>>6:xe+=ot+511>>9)}}for(var Et=ge.FullPaths.length+3>>2,da=pe+7>>3,tr=pe+127>>7,ha=da+xe+Et+tr,jn=ha+127>>7,Si=jn<=109?0:Math.ceil((jn-109)/127);ha+jn+Si+127>>7>jn;)Si=++jn<=109?0:Math.ceil((jn-109)/127);var xr=[1,Si,jn,tr,Et,xe,pe,0];return ge.FileIndex[0].size=pe<<6,xr[7]=(ge.FileIndex[0].start=xr[0]+xr[1]+xr[2]+xr[3]+xr[4]+xr[5])+(xr[6]+7>>3),xr}(O),R=oe(P[7]<<9),B=0,J=0;{for(B=0;B<8;++B)R.write_shift(1,H[B]);for(B=0;B<8;++B)R.write_shift(2,0);for(R.write_shift(2,62),R.write_shift(2,3),R.write_shift(2,65534),R.write_shift(2,9),R.write_shift(2,6),B=0;B<3;++B)R.write_shift(2,0);for(R.write_shift(4,0),R.write_shift(4,P[2]),R.write_shift(4,P[0]+P[1]+P[2]+P[3]-1),R.write_shift(4,0),R.write_shift(4,4096),R.write_shift(4,P[3]?P[0]+P[1]+P[2]-1:L),R.write_shift(4,P[3]),R.write_shift(-4,P[1]?P[0]-1:L),R.write_shift(4,P[1]),B=0;B<109;++B)R.write_shift(-4,B<P[2]?P[1]+B:-1)}if(P[1])for(J=0;J<P[1];++J){for(;B<236+J*127;++B)R.write_shift(-4,B<P[2]?P[1]+B:-1);R.write_shift(-4,J===P[1]-1?L:J+1)}var ie=function(ge){for(J+=ge;B<J-1;++B)R.write_shift(-4,B+1);ge&&(++B,R.write_shift(-4,L))};for(J=B=0,J+=P[1];B<J;++B)R.write_shift(-4,Q.DIFSECT);for(J+=P[2];B<J;++B)R.write_shift(-4,Q.FATSECT);ie(P[3]),ie(P[4]);for(var X=0,Z=0,te=O.FileIndex[0];X<O.FileIndex.length;++X)te=O.FileIndex[X],te.content&&(Z=te.content.length,!(Z<4096)&&(te.start=J,ie(Z+511>>9)));for(ie(P[6]+7>>3);R.l&511;)R.write_shift(-4,Q.ENDOFCHAIN);for(J=B=0,X=0;X<O.FileIndex.length;++X)te=O.FileIndex[X],te.content&&(Z=te.content.length,!(!Z||Z>=4096)&&(te.start=J,ie(Z+63>>6)));for(;R.l&511;)R.write_shift(-4,Q.ENDOFCHAIN);for(B=0;B<P[4]<<2;++B){var Y=O.FullPaths[B];if(!Y||Y.length===0){for(X=0;X<17;++X)R.write_shift(4,0);for(X=0;X<3;++X)R.write_shift(4,-1);for(X=0;X<12;++X)R.write_shift(4,0);continue}te=O.FileIndex[B],B===0&&(te.start=te.size?te.start-1:L);var he=B===0&&C.root||te.name;if(Z=2*(he.length+1),R.write_shift(64,he,"utf16le"),R.write_shift(2,Z),R.write_shift(1,te.type),R.write_shift(1,te.color),R.write_shift(-4,te.L),R.write_shift(-4,te.R),R.write_shift(-4,te.C),te.clsid)R.write_shift(16,te.clsid,"hex");else for(X=0;X<4;++X)R.write_shift(4,0);R.write_shift(4,te.state||0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,te.start),R.write_shift(4,te.size),R.write_shift(4,0)}for(B=1;B<O.FileIndex.length;++B)if(te=O.FileIndex[B],te.size>=4096)if(R.l=te.start+1<<9,lt&&Buffer.isBuffer(te.content))te.content.copy(R,R.l,0,te.size),R.l+=te.size+511&-512;else{for(X=0;X<te.size;++X)R.write_shift(1,te.content[X]);for(;X&511;++X)R.write_shift(1,0)}for(B=1;B<O.FileIndex.length;++B)if(te=O.FileIndex[B],te.size>0&&te.size<4096)if(lt&&Buffer.isBuffer(te.content))te.content.copy(R,R.l,0,te.size),R.l+=te.size+63&-64;else{for(X=0;X<te.size;++X)R.write_shift(1,te.content[X]);for(;X&63;++X)R.write_shift(1,0)}if(lt)R.l=R.length;else for(;R.l<R.length;)R.write_shift(1,0);return R}function j(O,F){var C=O.FullPaths.map(function(X){return X.toUpperCase()}),P=C.map(function(X){var Z=X.split("/");return Z[Z.length-(X.slice(-1)=="/"?2:1)]}),R=!1;F.charCodeAt(0)===47?(R=!0,F=C[0].slice(0,-1)+F):R=F.indexOf("/")!==-1;var B=F.toUpperCase(),J=R===!0?C.indexOf(B):P.indexOf(B);if(J!==-1)return O.FileIndex[J];var ie=!B.match(Cu);for(B=B.replace(Ll,""),ie&&(B=B.replace(Cu,"!")),J=0;J<C.length;++J)if((ie?C[J].replace(Cu,"!"):C[J]).replace(Ll,"")==B||(ie?P[J].replace(Cu,"!"):P[J]).replace(Ll,"")==B)return O.FileIndex[J];return null}var D=64,L=-2,q="d0cf11e0a1b11ae1",H=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",Q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function fe(O,F,C){c();var P=N(O,C);l.writeFileSync(F,P)}function se(O){for(var F=new Array(O.length),C=0;C<O.length;++C)F[C]=String.fromCharCode(O[C]);return F.join("")}function ve(O,F){var C=N(O,F);switch(F&&F.type||"buffer"){case"file":return c(),l.writeFileSync(F.filename,C),C;case"binary":return typeof C=="string"?C:se(C);case"base64":return kc(typeof C=="string"?C:se(C));case"buffer":if(lt)return Buffer.isBuffer(C)?C:La(C);case"array":return typeof C=="string"?Rn(C):C}return C}var Oe;function M(O){try{var F=O.InflateRaw,C=new F;if(C._processChunk(new Uint8Array([3,0]),C._finishFlushFlag),C.bytesRead)Oe=O;else throw new Error("zlib does not expose bytesRead")}catch(P){console.error("cannot use native zlib: "+(P.message||P))}}function z(O,F){if(!Oe)return _i(O,F);var C=Oe.InflateRaw,P=new C,R=P._processChunk(O.slice(O.l),P._finishFlushFlag);return O.l+=P.bytesRead,R}function W(O){return Oe?Oe.deflateRawSync(O):bi(O)}var I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],_e=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ee(O){var F=(O<<1|O<<11)&139536|(O<<5|O<<15)&558144;return(F>>16|F>>8|F)&255}for(var re=typeof Uint8Array<"u",ce=re?new Uint8Array(256):[],Se=0;Se<256;++Se)ce[Se]=Ee(Se);function ne(O,F){var C=ce[O&255];return F<=8?C>>>8-F:(C=C<<8|ce[O>>8&255],F<=16?C>>>16-F:(C=C<<8|ce[O>>16&255],C>>>24-F))}function Le(O,F){var C=F&7,P=F>>>3;return(O[P]|(C<=6?0:O[P+1]<<8))>>>C&3}function je(O,F){var C=F&7,P=F>>>3;return(O[P]|(C<=5?0:O[P+1]<<8))>>>C&7}function Re(O,F){var C=F&7,P=F>>>3;return(O[P]|(C<=4?0:O[P+1]<<8))>>>C&15}function $e(O,F){var C=F&7,P=F>>>3;return(O[P]|(C<=3?0:O[P+1]<<8))>>>C&31}function V(O,F){var C=F&7,P=F>>>3;return(O[P]|(C<=1?0:O[P+1]<<8))>>>C&127}function Ne(O,F,C){var P=F&7,R=F>>>3,B=(1<<C)-1,J=O[R]>>>P;return C<8-P||(J|=O[R+1]<<8-P,C<16-P)||(J|=O[R+2]<<16-P,C<24-P)||(J|=O[R+3]<<24-P),J&B}function Ve(O,F,C){var P=F&7,R=F>>>3;return P<=5?O[R]|=(C&7)<<P:(O[R]|=C<<P&255,O[R+1]=(C&7)>>8-P),F+3}function ut(O,F,C){var P=F&7,R=F>>>3;return C=(C&1)<<P,O[R]|=C,F+1}function er(O,F,C){var P=F&7,R=F>>>3;return C<<=P,O[R]|=C&255,C>>>=8,O[R+1]=C,F+8}function vr(O,F,C){var P=F&7,R=F>>>3;return C<<=P,O[R]|=C&255,C>>>=8,O[R+1]=C&255,O[R+2]=C>>>8,F+16}function Jr(O,F){var C=O.length,P=2*C>F?2*C:F+5,R=0;if(C>=F)return O;if(lt){var B=zb(P);if(O.copy)O.copy(B);else for(;R<O.length;++R)B[R]=O[R];return B}else if(re){var J=new Uint8Array(P);if(J.set)J.set(O);else for(;R<C;++R)J[R]=O[R];return J}return O.length=P,O}function Gt(O){for(var F=new Array(O),C=0;C<O;++C)F[C]=0;return F}function Zr(O,F,C){var P=1,R=0,B=0,J=0,ie=0,X=O.length,Z=re?new Uint16Array(32):Gt(32);for(B=0;B<32;++B)Z[B]=0;for(B=X;B<C;++B)O[B]=0;X=O.length;var te=re?new Uint16Array(X):Gt(X);for(B=0;B<X;++B)Z[R=O[B]]++,P<R&&(P=R),te[B]=0;for(Z[0]=0,B=1;B<=P;++B)Z[B+16]=ie=ie+Z[B-1]<<1;for(B=0;B<X;++B)ie=O[B],ie!=0&&(te[B]=Z[ie+16]++);var Y=0;for(B=0;B<X;++B)if(Y=O[B],Y!=0)for(ie=ne(te[B],P)>>P-Y,J=(1<<P+4-Y)-1;J>=0;--J)F[ie|J<<Y]=Y&15|B<<4;return P}var yi=re?new Uint16Array(512):Gt(512),Ua=re?new Uint16Array(32):Gt(32);if(!re){for(var An=0;An<512;++An)yi[An]=0;for(An=0;An<32;++An)Ua[An]=0}(function(){for(var O=[],F=0;F<32;F++)O.push(5);Zr(O,Ua,32);var C=[];for(F=0;F<=143;F++)C.push(8);for(;F<=255;F++)C.push(9);for(;F<=279;F++)C.push(7);for(;F<=287;F++)C.push(8);Zr(C,yi,288)})();var tl=function(){for(var F=re?new Uint8Array(32768):[],C=0,P=0;C<_e.length-1;++C)for(;P<_e[C+1];++P)F[P]=C;for(;P<32768;++P)F[P]=29;var R=re?new Uint8Array(259):[];for(C=0,P=0;C<ee.length-1;++C)for(;P<ee[C+1];++P)R[P]=C;function B(ie,X){for(var Z=0;Z<ie.length;){var te=Math.min(65535,ie.length-Z),Y=Z+te==ie.length;for(X.write_shift(1,+Y),X.write_shift(2,te),X.write_shift(2,~te&65535);te-- >0;)X[X.l++]=ie[Z++]}return X.l}function J(ie,X){for(var Z=0,te=0,Y=re?new Uint16Array(32768):[];te<ie.length;){var he=Math.min(65535,ie.length-te);if(he<10){for(Z=Ve(X,Z,+(te+he==ie.length)),Z&7&&(Z+=8-(Z&7)),X.l=Z/8|0,X.write_shift(2,he),X.write_shift(2,~he&65535);he-- >0;)X[X.l++]=ie[te++];Z=X.l*8;continue}Z=Ve(X,Z,+(te+he==ie.length)+2);for(var ge=0;he-- >0;){var pe=ie[te];ge=(ge<<5^pe)&32767;var xe=-1,Ie=0;if((xe=Y[ge])&&(xe|=te&-32768,xe>te&&(xe-=32768),xe<te))for(;ie[xe+Ie]==ie[te+Ie]&&Ie<250;)++Ie;if(Ie>2){pe=R[Ie],pe<=22?Z=er(X,Z,ce[pe+1]>>1)-1:(er(X,Z,3),Z+=5,er(X,Z,ce[pe-23]>>5),Z+=3);var et=pe<8?0:pe-4>>2;et>0&&(vr(X,Z,Ie-ee[pe]),Z+=et),pe=F[te-xe],Z=er(X,Z,ce[pe]>>3),Z-=3;var ot=pe<4?0:pe-2>>1;ot>0&&(vr(X,Z,te-xe-_e[pe]),Z+=ot);for(var Et=0;Et<Ie;++Et)Y[ge]=te&32767,ge=(ge<<5^ie[te])&32767,++te;he-=Ie-1}else pe<=143?pe=pe+48:Z=ut(X,Z,1),Z=er(X,Z,ce[pe]),Y[ge]=te&32767,++te}Z=er(X,Z,0)-1}return X.l=(Z+7)/8|0,X.l}return function(X,Z){return X.length<8?B(X,Z):J(X,Z)}}();function bi(O){var F=oe(50+Math.floor(O.length*1.1)),C=tl(O,F);return F.slice(0,C)}var bs=re?new Uint16Array(32768):Gt(32768),ws=re?new Uint16Array(32768):Gt(32768),wi=re?new Uint16Array(128):Gt(128),Wa=1,_s=1;function Gn(O,F){var C=$e(O,F)+257;F+=5;var P=$e(O,F)+1;F+=5;var R=Re(O,F)+4;F+=4;for(var B=0,J=re?new Uint8Array(19):Gt(19),ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],X=1,Z=re?new Uint8Array(8):Gt(8),te=re?new Uint8Array(8):Gt(8),Y=J.length,he=0;he<R;++he)J[I[he]]=B=je(O,F),X<B&&(X=B),Z[B]++,F+=3;var ge=0;for(Z[0]=0,he=1;he<=X;++he)te[he]=ge=ge+Z[he-1]<<1;for(he=0;he<Y;++he)(ge=J[he])!=0&&(ie[he]=te[ge]++);var pe=0;for(he=0;he<Y;++he)if(pe=J[he],pe!=0){ge=ce[ie[he]]>>8-pe;for(var xe=(1<<7-pe)-1;xe>=0;--xe)wi[ge|xe<<pe]=pe&7|he<<3}var Ie=[];for(X=1;Ie.length<C+P;)switch(ge=wi[V(O,F)],F+=ge&7,ge>>>=3){case 16:for(B=3+Le(O,F),F+=2,ge=Ie[Ie.length-1];B-- >0;)Ie.push(ge);break;case 17:for(B=3+je(O,F),F+=3;B-- >0;)Ie.push(0);break;case 18:for(B=11+V(O,F),F+=7;B-- >0;)Ie.push(0);break;default:Ie.push(ge),X<ge&&(X=ge);break}var et=Ie.slice(0,C),ot=Ie.slice(C);for(he=C;he<286;++he)et[he]=0;for(he=P;he<30;++he)ot[he]=0;return Wa=Zr(et,bs,286),_s=Zr(ot,ws,30),F}function rl(O,F){if(O[0]==3&&!(O[1]&3))return[as(F),2];for(var C=0,P=0,R=zb(F||1<<18),B=0,J=R.length>>>0,ie=0,X=0;!(P&1);){if(P=je(O,C),C+=3,P>>>1)P>>1==1?(ie=9,X=5):(C=Gn(O,C),ie=Wa,X=_s);else{C&7&&(C+=8-(C&7));var Z=O[C>>>3]|O[(C>>>3)+1]<<8;if(C+=32,Z>0)for(!F&&J<B+Z&&(R=Jr(R,B+Z),J=R.length);Z-- >0;)R[B++]=O[C>>>3],C+=8;continue}for(;;){!F&&J<B+32767&&(R=Jr(R,B+32767),J=R.length);var te=Ne(O,C,ie),Y=P>>>1==1?yi[te]:bs[te];if(C+=Y&15,Y>>>=4,!(Y>>>8&255))R[B++]=Y;else{if(Y==256)break;Y-=257;var he=Y<8?0:Y-4>>2;he>5&&(he=0);var ge=B+ee[Y];he>0&&(ge+=Ne(O,C,he),C+=he),te=Ne(O,C,X),Y=P>>>1==1?Ua[te]:ws[te],C+=Y&15,Y>>>=4;var pe=Y<4?0:Y-2>>1,xe=_e[Y];for(pe>0&&(xe+=Ne(O,C,pe),C+=pe),!F&&J<ge&&(R=Jr(R,ge+100),J=R.length);B<ge;)R[B]=R[B-xe],++B}}}return F?[R,C+7>>>3]:[R.slice(0,B),C+7>>>3]}function _i(O,F){var C=O.slice(O.l||0),P=rl(C,F);return O.l+=P[1],P[0]}function Be(O,F){if(O)typeof console<"u"&&console.error(F);else throw new Error(F)}function ht(O,F){var C=O;ln(C,0);var P=[],R=[],B={FileIndex:P,FullPaths:R};S(B,{root:F.root});for(var J=C.length-4;(C[J]!=80||C[J+1]!=75||C[J+2]!=5||C[J+3]!=6)&&J>=0;)--J;C.l=J+4,C.l+=4;var ie=C.read_shift(2);C.l+=6;var X=C.read_shift(4);for(C.l=X,J=0;J<ie;++J){C.l+=20;var Z=C.read_shift(4),te=C.read_shift(4),Y=C.read_shift(2),he=C.read_shift(2),ge=C.read_shift(2);C.l+=8;var pe=C.read_shift(4),xe=o(C.slice(C.l+Y,C.l+Y+he));C.l+=Y+he+ge;var Ie=C.l;C.l=pe+4,ft(C,Z,te,B,xe),C.l=Ie}return B}function ft(O,F,C,P,R){O.l+=2;var B=O.read_shift(2),J=O.read_shift(2),ie=s(O);if(B&8257)throw new Error("Unsupported ZIP encryption");for(var X=O.read_shift(4),Z=O.read_shift(4),te=O.read_shift(4),Y=O.read_shift(2),he=O.read_shift(2),ge="",pe=0;pe<Y;++pe)ge+=String.fromCharCode(O[O.l++]);if(he){var xe=o(O.slice(O.l,O.l+he));(xe[21589]||{}).mt&&(ie=xe[21589].mt),((R||{})[21589]||{}).mt&&(ie=R[21589].mt)}O.l+=he;var Ie=O.slice(O.l,O.l+Z);switch(J){case 8:Ie=z(O,te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+J)}var et=!1;B&8&&(X=O.read_shift(4),X==134695760&&(X=O.read_shift(4),et=!0),Z=O.read_shift(4),te=O.read_shift(4)),Z!=F&&Be(et,"Bad compressed size: "+F+" != "+Z),te!=C&&Be(et,"Bad uncompressed size: "+C+" != "+te),Ce(P,ge,Ie,{unsafe:!0,mt:ie})}function mn(O,F){var C=F||{},P=[],R=[],B=oe(1),J=C.compression?8:0,ie=0,X=0,Z=0,te=0,Y=0,he=O.FullPaths[0],ge=he,pe=O.FileIndex[0],xe=[],Ie=0;for(X=1;X<O.FullPaths.length;++X)if(ge=O.FullPaths[X].slice(he.length),pe=O.FileIndex[X],!(!pe.size||!pe.content||ge=="Sh33tJ5")){var et=te,ot=oe(ge.length);for(Z=0;Z<ge.length;++Z)ot.write_shift(1,ge.charCodeAt(Z)&127);ot=ot.slice(0,ot.l),xe[Y]=bZ.buf(pe.content,0);var Et=pe.content;J==8&&(Et=W(Et)),B=oe(30),B.write_shift(4,67324752),B.write_shift(2,20),B.write_shift(2,ie),B.write_shift(2,J),pe.mt?i(B,pe.mt):B.write_shift(4,0),B.write_shift(-4,xe[Y]),B.write_shift(4,Et.length),B.write_shift(4,pe.content.length),B.write_shift(2,ot.length),B.write_shift(2,0),te+=B.length,P.push(B),te+=ot.length,P.push(ot),te+=Et.length,P.push(Et),B=oe(46),B.write_shift(4,33639248),B.write_shift(2,0),B.write_shift(2,20),B.write_shift(2,ie),B.write_shift(2,J),B.write_shift(4,0),B.write_shift(-4,xe[Y]),B.write_shift(4,Et.length),B.write_shift(4,pe.content.length),B.write_shift(2,ot.length),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(4,0),B.write_shift(4,et),Ie+=B.l,R.push(B),Ie+=ot.length,R.push(ot),++Y}return B=oe(22),B.write_shift(4,101010256),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(2,Y),B.write_shift(2,Y),B.write_shift(4,Ie),B.write_shift(4,te),B.write_shift(2,0),dr([dr(P),dr(R),B])}var Vt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Vn(O,F){if(O.ctype)return O.ctype;var C=O.name||"",P=C.match(/\.([^\.]+)$/);return P&&Vt[P[1]]||F&&(P=(C=F).match(/[\.\\]([^\.\\])+$/),P&&Vt[P[1]])?Vt[P[1]]:"application/octet-stream"}function It(O){for(var F=kc(O),C=[],P=0;P<F.length;P+=76)C.push(F.slice(P,P+76));return C.join(`\r
`)+`\r
`}function kr(O){var F=O.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Z){var te=Z.charCodeAt(0).toString(16).toUpperCase();return"="+(te.length==1?"0"+te:te)});F=F.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),F.charAt(0)==`
`&&(F="=0D"+F.slice(1)),F=F.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var C=[],P=F.split(`\r
`),R=0;R<P.length;++R){var B=P[R];if(B.length==0){C.push("");continue}for(var J=0;J<B.length;){var ie=76,X=B.slice(J,J+ie);X.charAt(ie-1)=="="?ie--:X.charAt(ie-2)=="="?ie-=2:X.charAt(ie-3)=="="&&(ie-=3),X=B.slice(J,J+ie),J+=ie,J<B.length&&(X+="="),C.push(X)}}return C.join(`\r
`)}function G(O){for(var F=[],C=0;C<O.length;++C){for(var P=O[C];C<=O.length&&P.charAt(P.length-1)=="=";)P=P.slice(0,P.length-1)+O[++C];F.push(P)}for(var R=0;R<F.length;++R)F[R]=F[R].replace(/[=][0-9A-Fa-f]{2}/g,function(B){return String.fromCharCode(parseInt(B.slice(1),16))});return Rn(F.join(`\r
`))}function Te(O,F,C){for(var P="",R="",B="",J,ie=0;ie<10;++ie){var X=F[ie];if(!X||X.match(/^\s*$/))break;var Z=X.match(/^(.*?):\s*([^\s].*)$/);if(Z)switch(Z[1].toLowerCase()){case"content-location":P=Z[2].trim();break;case"content-type":B=Z[2].trim();break;case"content-transfer-encoding":R=Z[2].trim();break}}switch(++ie,R.toLowerCase()){case"base64":J=Rn(Da(F.slice(ie).join("")));break;case"quoted-printable":J=G(F.slice(ie));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+R)}var te=Ce(O,P.slice(C.length),J,{unsafe:!0});B&&(te.ctype=B)}function We(O,F){if(se(O.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var C=F&&F.root||"",P=(lt&&Buffer.isBuffer(O)?O.toString("binary"):se(O)).split(`\r
`),R=0,B="";for(R=0;R<P.length;++R)if(B=P[R],!!/^Content-Location:/i.test(B)&&(B=B.slice(B.indexOf("file")),C||(C=B.slice(0,B.lastIndexOf("/")+1)),B.slice(0,C.length)!=C))for(;C.length>0&&(C=C.slice(0,C.length-1),C=C.slice(0,C.lastIndexOf("/")+1),B.slice(0,C.length)!=C););var J=(P[1]||"").match(/boundary="(.*?)"/);if(!J)throw new Error("MAD cannot find boundary");var ie="--"+(J[1]||""),X=[],Z=[],te={FileIndex:X,FullPaths:Z};S(te);var Y,he=0;for(R=0;R<P.length;++R){var ge=P[R];ge!==ie&&ge!==ie+"--"||(he++&&Te(te,P.slice(Y,R),C),Y=R)}return te}function ae(O,F){var C=F||{},P=C.boundary||"SheetJS";P="------="+P;for(var R=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+P.slice(2)+'"',"","",""],B=O.FullPaths[0],J=B,ie=O.FileIndex[0],X=1;X<O.FullPaths.length;++X)if(J=O.FullPaths[X].slice(B.length),ie=O.FileIndex[X],!(!ie.size||!ie.content||J=="Sh33tJ5")){J=J.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ie){return"_x"+Ie.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ie){return"_u"+Ie.charCodeAt(0).toString(16)+"_"});for(var Z=ie.content,te=lt&&Buffer.isBuffer(Z)?Z.toString("binary"):se(Z),Y=0,he=Math.min(1024,te.length),ge=0,pe=0;pe<=he;++pe)(ge=te.charCodeAt(pe))>=32&&ge<128&&++Y;var xe=Y>=he*4/5;R.push(P),R.push("Content-Location: "+(C.root||"file:///C:/SheetJS/")+J),R.push("Content-Transfer-Encoding: "+(xe?"quoted-printable":"base64")),R.push("Content-Type: "+Vn(ie,J)),R.push(""),R.push(xe?kr(te):It(te))}return R.push(P+`--\r
`),R.join(`\r
`)}function Pe(O){var F={};return S(F,O),F}function Ce(O,F,C,P){var R=P&&P.unsafe;R||S(O);var B=!R&&wt.find(O,F);if(!B){var J=O.FullPaths[0];F.slice(0,J.length)==J?J=F:(J.slice(-1)!="/"&&(J+="/"),J=(J+F).replace("//","/")),B={name:a(F),type:2},O.FileIndex.push(B),O.FullPaths.push(J),R||wt.utils.cfb_gc(O)}return B.content=C,B.size=C?C.length:0,P&&(P.CLSID&&(B.clsid=P.CLSID),P.mt&&(B.mt=P.mt),P.ct&&(B.ct=P.ct)),B}function He(O,F){S(O);var C=wt.find(O,F);if(C){for(var P=0;P<O.FileIndex.length;++P)if(O.FileIndex[P]==C)return O.FileIndex.splice(P,1),O.FullPaths.splice(P,1),!0}return!1}function Ct(O,F,C){S(O);var P=wt.find(O,F);if(P){for(var R=0;R<O.FileIndex.length;++R)if(O.FileIndex[R]==P)return O.FileIndex[R].name=a(C),O.FullPaths[R]=C,!0}return!1}function Je(O){T(O,!0)}return t.find=j,t.read=E,t.parse=f,t.write=ve,t.writeFile=fe,t.utils={cfb_new:Pe,cfb_add:Ce,cfb_del:He,cfb_mov:Ct,cfb_gc:Je,ReadShift:Ul,CheckField:KT,prep_blob:ln,bconcat:dr,use_zlib:M,_deflateRaw:bi,_inflateRaw:_i,consts:Q},t}();function wZ(e){return typeof e=="string"?lh(e):Array.isArray(e)?VJ(e):e}function Jc(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=lh(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Dc(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([wZ(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Xc(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function gr(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Jb(e,t){for(var r=[],n=gr(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function zg(e){for(var t=[],r=gr(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function fh(e){for(var t=[],r=gr(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function _Z(e){for(var t=[],r=gr(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Qf=new Date(1899,11,30,0,0,0);function Kr(e,t){var r=e.getTime(),n=Qf.getTime()+(e.getTimezoneOffset()-Qf.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var kT=new Date,SZ=Qf.getTime()+(kT.getTimezoneOffset()-Qf.getTimezoneOffset())*6e4,Zb=kT.getTimezoneOffset();function CT(e){var t=new Date;return t.setTime(e*24*60*60*1e3+SZ),t.getTimezoneOffset()!==Zb&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Zb)*6e4),t}var Qb=new Date("2017-02-19T19:06:09.000Z"),DT=isNaN(Qb.getFullYear())?new Date("2/19/17"):Qb,EZ=DT.getFullYear()==2017;function Br(e,t){var r=new Date(e);if(EZ)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(DT.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function dh(e,t){if(lt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Yr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Yr(e[r]));return t}function Ft(e,t){for(var r="";r.length<t;)r+=e;return r}function ja(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var TZ=["january","february","march","april","may","june","july","august","september","october","november","december"];function Cc(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&TZ.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Qe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return lt?n=La(r):n=KJ(r),wt.utils.cfb_add(e,t,n)}wt.utils.cfb_add(e,t,r)}else e.file(t,r)}function Hg(){return wt.utils.cfb_new()}var qt=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,OZ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},qg=zg(OZ),Gg=/[&<>'"]/g,AZ=/[\u0000-\u0008\u000b-\u001f]/g;function vt(e){var t=e+"";return t.replace(Gg,function(r){return qg[r]}).replace(AZ,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function ew(e){return vt(e).replace(/ /g,"_x0020_")}var MT=/[\u0000-\u001f]/g;function jZ(e){var t=e+"";return t.replace(Gg,function(r){return qg[r]}).replace(/\n/g,"<br/>").replace(MT,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function NZ(e){var t=e+"";return t.replace(Gg,function(r){return qg[r]}).replace(MT,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function PZ(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function kZ(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function g0(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function tw(e){var t=as(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function rw(e){return La(e,"binary").toString("utf8")}var Mu="foo bar bazâð£",Bl=lt&&(rw(Mu)==g0(Mu)&&rw||tw(Mu)==g0(Mu)&&tw)||g0,Dc=lt?function(e){return La(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},CZ=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),IT=/(^\s|\s$|\n)/;function hr(e,t){return"<"+e+(t.match(IT)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Mc(e){return gr(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ye(e,t,r){return"<"+e+(r!=null?Mc(r):"")+(t!=null?(t.match(IT)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function wp(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function DZ(e,t){switch(typeof e){case"string":var r=ye("vt:lpwstr",vt(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ye((e|0)==e?"vt:i4":"vt:r8",vt(String(e)));case"boolean":return ye("vt:bool",e?"true":"false")}if(e instanceof Date)return ye("vt:filetime",wp(e));throw new Error("Unable to serialize "+e)}var ar={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Xo=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],cn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function MZ(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function IZ(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var nw=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},aw=lt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:La(t)})):nw(e)}:nw,iw=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Al(e,a)));return n.join("").replace(Ll,"")},Vg=lt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ll,""):iw(e,t,r)}:iw,sw=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},$T=lt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):sw(e,t,r)}:sw,ow=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Bs(e,a)));return n.join("")},Zc=lt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):ow(t,r,n)}:ow,FT=function(e,t){var r=un(e,t);return r>0?Zc(e,t+4,t+4+r-1):""},RT=FT,LT=function(e,t){var r=un(e,t);return r>0?Zc(e,t+4,t+4+r-1):""},BT=LT,UT=function(e,t){var r=2*un(e,t);return r>0?Zc(e,t+4,t+4+r-1):""},WT=UT,zT=function(t,r){var n=un(t,r);return n>0?Vg(t,r+4,r+4+n):""},HT=zT,qT=function(e,t){var r=un(e,t);return r>0?Zc(e,t+4,t+4+r):""},GT=qT,VT=function(e,t){return MZ(e,t)},ed=VT,Kg=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};lt&&(RT=function(t,r){if(!Buffer.isBuffer(t))return FT(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},BT=function(t,r){if(!Buffer.isBuffer(t))return LT(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},WT=function(t,r){if(!Buffer.isBuffer(t))return UT(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},HT=function(t,r){if(!Buffer.isBuffer(t))return zT(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},GT=function(t,r){if(!Buffer.isBuffer(t))return qT(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},ed=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):VT(t,r)},Kg=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Bs=function(e,t){return e[t]},Al=function(e,t){return e[t+1]*256+e[t]},$Z=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},un=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ri=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},FZ=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Ul(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,lt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Al(this,c)),c+=2;e*=2;break;case"utf8":r=Zc(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Vg(this,this.l,this.l+e);break;case"wstr":return Ul.call(this,e,"dbcs");case"lpstr-ansi":r=RT(this,this.l),e=4+un(this,this.l);break;case"lpstr-cp":r=BT(this,this.l),e=4+un(this,this.l);break;case"lpwstr":r=WT(this,this.l),e=4+2*un(this,this.l);break;case"lpp4":e=4+un(this,this.l),r=HT(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+un(this,this.l),r=GT(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Bs(this,this.l+e++))!==0;)i.push(ku(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Al(this,this.l+e))!==0;)i.push(ku(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Bs(this,c),this.l=c+1,o=Ul.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(ku(Al(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Bs(this,c),this.l=c+1,o=Ul.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(ku(Bs(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=Bs(this,this.l),this.l++,n;case 2:return n=(t==="i"?$Z:Al)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Ri:FZ)(this,this.l),this.l+=4,n):(a=un(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=ed(this,this.l):a=ed([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=$T(this,this.l,e);break}}return this.l+=e,r}var RZ=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},LZ=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},BZ=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function UZ(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)BZ(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,RZ(this,t,this.l);break;case 8:if(n=8,r==="f"){IZ(this,t,this.l);break}case 16:break;case-4:n=4,LZ(this,t,this.l);break}return this.l+=n,this}function KT(e,t){var r=$T(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ln(e,t){e.l=t,e.read_shift=Ul,e.chk=KT,e.write_shift=UZ}function oa(e,t){e.l+=t}function oe(e){var t=as(e);return ln(t,0),t}function Vr(){var e=[],t=lt?256:2048,r=function(c){var f=oe(c);return ln(f,0),f},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),dr(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function me(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=Mae[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&Kg(r)&&e.push(r)}}function Wl(e,t,r){var n=Yr(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function lw(e,t,r){var n=Yr(e);return n.s=Wl(n.s,t.s,r),n.e=Wl(n.e,t.s,r),n}function zl(e,t){if(e.cRel&&e.c<0)for(e=Yr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Yr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=xt(e);return!e.cRel&&e.cRel!=null&&(r=HZ(r)),!e.rRel&&e.rRel!=null&&(r=WZ(r)),r}function v0(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Nr(e.s.c)+":"+(e.e.cRel?"":"$")+Nr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+pr(e.s.r)+":"+(e.e.rRel?"":"$")+pr(e.e.r):zl(e.s,t.biff)+":"+zl(e.e,t.biff)}function Yg(e){return parseInt(zZ(e),10)-1}function pr(e){return""+(e+1)}function WZ(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function zZ(e){return e.replace(/\$(\d+)$/,"$1")}function Xg(e){for(var t=qZ(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Nr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function HZ(e){return e.replace(/^([A-Z])/,"$$$1")}function qZ(e){return e.replace(/^\$([A-Z])/,"$1")}function GZ(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ir(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function xt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function hn(e){var t=e.indexOf(":");return t==-1?{s:ir(e),e:ir(e)}:{s:ir(e.slice(0,t)),e:ir(e.slice(t+1))}}function Ht(e,t){return typeof t>"u"||typeof t=="number"?Ht(e.s,e.e):(typeof e!="string"&&(e=xt(e)),typeof t!="string"&&(t=xt(t)),e==t?e:e+":"+t)}function Pt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function cw(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=ui(e.z,r?Kr(t):t)}catch{}try{return e.w=ui((e.XF||{}).numFmtId||(r?14:0),r?Kr(t):t)}catch{return""+t}}function Ma(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Qc[e.v]||e.v:t==null?cw(e,e.v):cw(e,t))}function ms(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function YT(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?ir(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=Pt(i["!ref"]);c.s.c=f.s.c,c.s.r=f.s.r,c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),s==-1&&(c.e.r=s=f.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if(!(typeof t[d][h]>"u")){var m={v:t[d][h]},g=s+d,p=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>p&&(c.s.c=p),c.e.r<g&&(c.e.r=g),c.e.c<p&&(c.e.c=p),t[d][h]&&typeof t[d][h]=="object"&&!Array.isArray(t[d][h])&&!(t[d][h]instanceof Date))m=t[d][h];else if(Array.isArray(m.v)&&(m.f=t[d][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Rt[14],n.cellDates?(m.t="d",m.w=ui(m.z,Kr(m.v))):(m.t="n",m.v=Kr(m.v),m.w=ui(m.z,m.v))):m.t="s";if(a)i[g]||(i[g]=[]),i[g][p]&&i[g][p].z&&(m.z=i[g][p].z),i[g][p]=m;else{var v=xt({c:p,r:g});i[v]&&i[v].z&&(m.z=i[v].z),i[v]=m}}}return c.s.c<1e7&&(i["!ref"]=Ht(c)),i}function Jo(e,t){return YT(null,e,t)}function VZ(e){return e.read_shift(4,"i")}function zn(e,t){return t||(t=oe(4)),t.write_shift(4,e),t}function Pr(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function sr(e,t){var r=!1;return t==null&&(r=!0,t=oe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function KZ(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function YZ(e,t){return t||(t=oe(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Jg(e,t){var r=e.l,n=e.read_shift(1),a=Pr(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(KZ(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function XZ(e,t){var r=!1;return t==null&&(r=!0,t=oe(15+4*e.t.length)),t.write_shift(1,0),sr(e.t,t),r?t.slice(0,t.l):t}var JZ=Jg;function ZZ(e,t){var r=!1;return t==null&&(r=!0,t=oe(23+4*e.t.length)),t.write_shift(1,1),sr(e.t,t),t.write_shift(4,1),YZ({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function On(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function ps(e,t){return t==null&&(t=oe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function gs(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function vs(e,t){return t==null&&(t=oe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var QZ=Pr,XT=sr;function Zg(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function td(e,t){var r=!1;return t==null&&(r=!0,t=oe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var eQ=Pr,_p=Zg,Qg=td;function JT(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?ed([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ri(t,0)>>2;return r?a/100:a}function ZT(e,t){t==null&&(t=oe(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function QT(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function tQ(e,t){return t||(t=oe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var xs=QT,Zo=tQ;function Qo(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function is(e,t){return(t||oe(8)).write_shift(8,e,"f")}function rQ(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=fQ[a];c&&(t.rgb=bw(c));break;case 2:t.rgb=bw([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function rd(e,t){if(t||(t=oe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function nQ(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function aQ(e,t){t||(t=oe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var eO=2,nn=3,Iu=11,nd=19,$u=64,iQ=65,sQ=71,oQ=4108,lQ=4126,fr=80,uw={1:{n:"CodePage",t:eO},2:{n:"Category",t:fr},3:{n:"PresentationFormat",t:fr},4:{n:"ByteCount",t:nn},5:{n:"LineCount",t:nn},6:{n:"ParagraphCount",t:nn},7:{n:"SlideCount",t:nn},8:{n:"NoteCount",t:nn},9:{n:"HiddenCount",t:nn},10:{n:"MultimediaClipCount",t:nn},11:{n:"ScaleCrop",t:Iu},12:{n:"HeadingPairs",t:oQ},13:{n:"TitlesOfParts",t:lQ},14:{n:"Manager",t:fr},15:{n:"Company",t:fr},16:{n:"LinksUpToDate",t:Iu},17:{n:"CharacterCount",t:nn},19:{n:"SharedDoc",t:Iu},22:{n:"HyperlinksChanged",t:Iu},23:{n:"AppVersion",t:nn,p:"version"},24:{n:"DigSig",t:iQ},26:{n:"ContentType",t:fr},27:{n:"ContentStatus",t:fr},28:{n:"Language",t:fr},29:{n:"Version",t:fr},255:{},2147483648:{n:"Locale",t:nd},2147483651:{n:"Behavior",t:nd},1919054434:{}},fw={1:{n:"CodePage",t:eO},2:{n:"Title",t:fr},3:{n:"Subject",t:fr},4:{n:"Author",t:fr},5:{n:"Keywords",t:fr},6:{n:"Comments",t:fr},7:{n:"Template",t:fr},8:{n:"LastAuthor",t:fr},9:{n:"RevNumber",t:fr},10:{n:"EditTime",t:$u},11:{n:"LastPrinted",t:$u},12:{n:"CreatedDate",t:$u},13:{n:"ModifiedDate",t:$u},14:{n:"PageCount",t:nn},15:{n:"WordCount",t:nn},16:{n:"CharCount",t:nn},17:{n:"Thumbnail",t:sQ},18:{n:"Application",t:fr},19:{n:"DocSecurity",t:nn},255:{},2147483648:{n:"Locale",t:nd},2147483651:{n:"Behavior",t:nd},1919054434:{}};function cQ(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var uQ=cQ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),fQ=Yr(uQ),Qc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},dQ={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Fu={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function tO(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function rO(e,t){var r=_Z(dQ),n=[],a;n[n.length]=qt,n[n.length]=ye("Types",null,{xmlns:ar.CT,"xmlns:xsd":ar.xsd,"xmlns:xsi":ar.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return ye("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(a=e[l][0],n[n.length]=ye("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Fu[l][t.bookType]||Fu[l].xlsx}))},s=function(l){(e[l]||[]).forEach(function(c){n[n.length]=ye("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Fu[l][t.bookType]||Fu[l].xlsx})})},o=function(l){(e[l]||[]).forEach(function(c){n[n.length]=ye("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var it={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function nO(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Js(e){var t=[qt,ye("Relationships",null,{xmlns:ar.RELS})];return gr(e["!id"]).forEach(function(r){t[t.length]=ye("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function gt(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[it.HLINK,it.XPATH,it.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function hQ(e){var t=[qt];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function dw(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function mQ(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function pQ(e){var t=[qt];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(dw(e[r][0],e[r][1])),t.push(mQ("",e[r][0]));return t.push(dw("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function aO(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Yf.version+"</meta:generator></office:meta></office:document-meta>"}var Xi=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function x0(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=vt(t),n[n.length]=r?ye(e,t,r):hr(e,t))}function iO(e,t){var r=t||{},n=[qt,ye("cp:coreProperties",null,{"xmlns:cp":ar.CORE_PROPS,"xmlns:dc":ar.dc,"xmlns:dcterms":ar.dcterms,"xmlns:dcmitype":ar.dcmitype,"xmlns:xsi":ar.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&x0("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:wp(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&x0("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:wp(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Xi.length;++i){var s=Xi[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&x0(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Zs=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],sO=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function oO(e){var t=[],r=ye;return e||(e={}),e.Application="SheetJS",t[t.length]=qt,t[t.length]=ye("Properties",null,{xmlns:ar.EXT_PROPS,"xmlns:vt":ar.vt}),Zs.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=vt(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+vt(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function lO(e){var t=[qt,ye("Properties",null,{xmlns:ar.CUST_PROPS,"xmlns:vt":ar.vt})];if(!e)return t.join("");var r=1;return gr(e).forEach(function(a){++r,t[t.length]=ye("property",DZ(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:vt(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var hw={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function gQ(e,t){var r=[];return gr(hw).map(function(n){for(var a=0;a<Xi.length;++a)if(Xi[a][1]==n)return Xi[a];for(a=0;a<Zs.length;++a)if(Zs[a][1]==n)return Zs[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(hr(hw[n[1]]||n[1],a))}}),ye("DocumentProperties",r.join(""),{xmlns:cn.o})}function vQ(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&gr(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<Xi.length;++s)if(i==Xi[s][1])return;for(s=0;s<Zs.length;++s)if(i==Zs[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),a.push(ye(ew(i),o,{"dt:dt":l}))}}),t&&gr(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(ye(ew(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+cn.o+'">'+a.join("")+"</"+n+">"}function xQ(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=oe(8);return s.write_shift(4,n),s.write_shift(4,a),s}function mw(e,t){var r=oe(4),n=oe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=oe(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=xQ(t);break;case 31:case 80:for(n=oe(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return dr([r,n])}var cO=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function yQ(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function pw(e,t,r){var n=oe(8),a=[],i=[],s=8,o=0,l=oe(8),c=oe(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),a.push(c),s+=8+l.length,!t){c=oe(8),c.write_shift(4,0),a.unshift(c);var f=[oe(4)];for(f[0].write_shift(4,e.length),o=0;o<e.length;++o){var d=e[o][0];for(l=oe(8+2*(d.length+1)+(d.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);f.push(l)}l=dr(f),i.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(cO.indexOf(e[o][0])>-1||sO.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],m=0;if(t){m=+t[e[o][0]];var g=r[m];if(g.p=="version"&&typeof h=="string"){var p=h.split(".");h=(+p[0]<<16)+(+p[1]||0)}l=mw(g.t,h)}else{var v=yQ(h);v==-1&&(v=31,h=String(h)),l=mw(v,h)}i.push(l),c=oe(8),c.write_shift(4,t?m:2+o),a.push(c),s+=8+l.length}var b=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,b),b+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),dr([n].concat(a).concat(i))}function gw(e,t,r,n,a,i){var s=oe(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,wt.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var l=pw(e,r,n);if(o.push(l),a){var c=pw(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(c)}return dr(o)}function bQ(e,t){t||(t=oe(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function wQ(e,t){return e.read_shift(t)===1}function Fr(e,t){return t||(t=oe(2)),t.write_shift(2,+!!e),t}function uO(e){return e.read_shift(2,"u")}function bn(e,t){return t||(t=oe(2)),t.write_shift(2,e),t}function fO(e,t,r){return r||(r=oe(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function dO(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function _Q(e){var t=e.t||"",r=oe(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=oe(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return dr(a)}function SQ(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function EQ(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):SQ(e,n,r)}function TQ(e,t,r){if(r.biff>5)return EQ(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function hO(e,t,r){return r||(r=oe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function vw(e,t){t||(t=oe(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function OQ(e){var t=oe(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),vw(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&vw(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function ss(e,t,r,n){return n||(n=oe(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function AQ(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function jQ(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function mO(e,t){return t||(t=oe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function ev(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=oe(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function NQ(e,t){var r=!t||t.biff==8,n=oe(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function PQ(e,t){var r=!t||t.biff>=8?2:1,n=oe(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function kQ(e,t){var r=oe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=_Q(e[a]);var i=dr([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function CQ(){var e=oe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function DQ(e){var t=oe(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function MQ(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=oe(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function IQ(e,t,r,n){var a=oe(10);return ss(e,t,n,a),a.write_shift(4,r),a}function $Q(e,t,r,n,a){var i=!a||a.biff==8,s=oe(8+ +i+(1+i)*r.length);return ss(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function FQ(e,t,r,n){var a=r&&r.biff==5;n||(n=oe(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function RQ(e,t){var r=t.biff==8||!t.biff?4:2,n=oe(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function xw(e,t,r,n){var a=r&&r.biff==5;n||(n=oe(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function LQ(e){var t=oe(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function BQ(e,t,r,n,a,i){var s=oe(8);return ss(e,t,n,s),fO(r,i,s),s}function UQ(e,t,r,n){var a=oe(14);return ss(e,t,n,a),is(r,a),a}function WQ(e,t,r){if(r.biff<8)return zQ(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(AQ(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function zQ(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=dO(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function HQ(e){var t=oe(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)mO(e[r],t);return t}function qQ(e){var t=oe(24),r=ir(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return dr([t,OQ(e[1])])}function GQ(e){var t=e[1].Tooltip,r=oe(10+2*(t.length+1));r.write_shift(2,2048);var n=ir(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function VQ(e){return e||(e=oe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function KQ(e,t,r){if(!r.cellStyles)return oa(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function YQ(e,t){var r=oe(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function XQ(e){for(var t=oe(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function JQ(e,t,r){var n=oe(15);return tu(n,e,t),n.write_shift(8,r,"f"),n}function ZQ(e,t,r){var n=oe(9);return tu(n,e,t),n.write_shift(2,r),n}var QQ=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=zg({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],f=as(1);switch(l.type){case"base64":f=Rn(Da(o));break;case"binary":f=Rn(o);break;case"buffer":case"array":f=o;break}ln(f,0);var d=f.read_shift(1),h=!!(d&136),m=!1,g=!1;switch(d){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var p=0,v=521;d==2&&(p=f.read_shift(2)),f.l+=3,d!=2&&(p=f.read_shift(4)),p>1048576&&(p=1e6),d!=2&&(v=f.read_shift(2));var b=f.read_shift(2),w=l.codepage||1252;d!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(w=e[f[f.l]]),f.l+=1,f.l+=2),g&&(f.l+=36);for(var x=[],_={},y=Math.min(f.length,d==2?521:v-10-(m?264:0)),E=g?32:11;f.l<y&&f[f.l]!=13;)switch(_={},_.name=Fi.utils.decode(w,f.slice(f.l,f.l+E)).replace(/[\u0000\r\n].*$/g,""),f.l+=E,_.type=String.fromCharCode(f.read_shift(1)),d!=2&&!g&&(_.offset=f.read_shift(4)),_.len=f.read_shift(1),d==2&&(_.offset=f.read_shift(2)),_.dec=f.read_shift(1),_.name.length&&x.push(_),d!=2&&(f.l+=g?13:14),_.type){case"B":(!m||_.len!=8)&&l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(f[f.l]!==13&&(f.l=v-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=v;var S=0,A=0;for(c[0]=[],A=0;A!=x.length;++A)c[0][A]=x[A].name;for(;p-- >0;){if(f[f.l]===42){f.l+=b;continue}for(++f.l,c[++S]=[],A=0,A=0;A!=x.length;++A){var T=f.slice(f.l,f.l+x[A].len);f.l+=x[A].len,ln(T,0);var N=Fi.utils.decode(w,T);switch(x[A].type){case"C":N.trim().length&&(c[S][A]=N.replace(/\s+$/,""));break;case"D":N.length===8?c[S][A]=new Date(+N.slice(0,4),+N.slice(4,6)-1,+N.slice(6,8)):c[S][A]=N;break;case"F":c[S][A]=parseFloat(N.trim());break;case"+":case"I":c[S][A]=g?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(N.trim().toUpperCase()){case"Y":case"T":c[S][A]=!0;break;case"N":case"F":c[S][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+N+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[S][A]="##MEMO##"+(g?parseInt(N.trim(),10):T.read_shift(4));break;case"N":N=N.replace(/\u0000/g,"").trim(),N&&N!="."&&(c[S][A]=+N||0);break;case"@":c[S][A]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":c[S][A]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":c[S][A]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[S][A]=-T.read_shift(-8,"f");break;case"B":if(m&&x[A].len==8){c[S][A]=T.read_shift(8,"f");break}case"G":case"P":T.l+=x[A].len;break;case"0":if(x[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+x[A].type)}}}if(d!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=x,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var f=Jo(r(o,c),c);return f["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,f}function a(o,l){try{return ms(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Pc(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var f=Vr(),d=ld(o,{header:1,raw:!0,cellDates:!0}),h=d[0],m=d.slice(1),g=o["!cols"]||[],p=0,v=0,b=0,w=1;for(p=0;p<h.length;++p){if(((g[p]||{}).DBF||{}).name){h[p]=g[p].DBF.name,++b;continue}if(h[p]!=null){if(++b,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(v=0;v<1024;++v)if(h.indexOf(h[p]+"_"+v)==-1){h[p]+="_"+v;break}}}}var x=Pt(o["!ref"]),_=[],y=[],E=[];for(p=0;p<=x.e.c-x.s.c;++p){var S="",A="",T=0,N=[];for(v=0;v<m.length;++v)m[v][p]!=null&&N.push(m[v][p]);if(N.length==0||h[p]==null){_[p]="?";continue}for(v=0;v<N.length;++v){switch(typeof N[v]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=N[v]instanceof Date?"D":"C";break;default:A="C"}T=Math.max(T,String(N[v]).length),S=S&&S!=A?"C":A}T>250&&(T=250),A=((g[p]||{}).DBF||{}).type,A=="C"&&g[p].DBF.len>T&&(T=g[p].DBF.len),S=="B"&&A=="N"&&(S="N",E[p]=g[p].DBF.dec,T=g[p].DBF.len),y[p]=S=="C"||A=="N"?T:i[S]||0,w+=y[p],_[p]=S}var j=f.next(32);for(j.write_shift(4,318902576),j.write_shift(4,m.length),j.write_shift(2,296+32*b),j.write_shift(2,w),p=0;p<4;++p)j.write_shift(4,0);for(j.write_shift(4,0|(+t[gT]||3)<<8),p=0,v=0;p<h.length;++p)if(h[p]!=null){var D=f.next(32),L=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);D.write_shift(1,L,"sbcs"),D.write_shift(1,_[p]=="?"?"C":_[p],"sbcs"),D.write_shift(4,v),D.write_shift(1,y[p]||i[_[p]]||0),D.write_shift(1,E[p]||0),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(1,0),D.write_shift(4,0),D.write_shift(4,0),v+=y[p]||i[_[p]]||0}var q=f.next(264);for(q.write_shift(4,13),p=0;p<65;++p)q.write_shift(4,0);for(p=0;p<m.length;++p){var H=f.next(w);for(H.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(_[v]){case"L":H.write_shift(1,m[p][v]==null?63:m[p][v]?84:70);break;case"B":H.write_shift(8,m[p][v]||0,"f");break;case"N":var K="0";for(typeof m[p][v]=="number"&&(K=m[p][v].toFixed(E[v]||0)),b=0;b<y[v]-K.length;++b)H.write_shift(1,32);H.write_shift(1,K,"sbcs");break;case"D":m[p][v]?(H.write_shift(4,("0000"+m[p][v].getFullYear()).slice(-4),"sbcs"),H.write_shift(2,("00"+(m[p][v].getMonth()+1)).slice(-2),"sbcs"),H.write_shift(2,("00"+m[p][v].getDate()).slice(-2),"sbcs")):H.write_shift(8,"00000000","sbcs");break;case"C":var Q=String(m[p][v]!=null?m[p][v]:"").slice(0,y[v]);for(H.write_shift(1,Q,"sbcs"),b=0;b<y[v]-Q.length;++b)H.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),eee=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+gr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var g=e[m];return typeof g=="number"?Wb(g):g},n=function(h,m,g){var p=m.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?h:Wb(p)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return i(Da(h),m);case"binary":return i(h,m);case"buffer":return i(lt&&Buffer.isBuffer(h)?h.toString("binary"):Xc(h),m);case"array":return i(dh(h),m)}throw new Error("Unrecognized type "+m.type)}function i(h,m){var g=h.split(/[\n\r]+/),p=-1,v=-1,b=0,w=0,x=[],_=[],y=null,E={},S=[],A=[],T=[],N=0,j;for(+m.codepage>=0&&Pc(+m.codepage);b!==g.length;++b){N=0;var D=g[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),L=D.replace(/;;/g,"\0").split(";").map(function(I){return I.replace(/\u0000/g,";")}),q=L[0],H;if(D.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&_.push(D.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,Q=!1,fe=!1,se=!1,ve=-1,Oe=-1;for(w=1;w<L.length;++w)switch(L[w].charAt(0)){case"A":break;case"X":v=parseInt(L[w].slice(1))-1,Q=!0;break;case"Y":for(p=parseInt(L[w].slice(1))-1,Q||(v=0),j=x.length;j<=p;++j)x[j]=[];break;case"K":H=L[w].slice(1),H.charAt(0)==='"'?H=H.slice(1,H.length-1):H==="TRUE"?H=!0:H==="FALSE"?H=!1:isNaN(ja(H))?isNaN(Cc(H).getDate())||(H=Br(H)):(H=ja(H),y!==null&&jT(y)&&(H=CT(H))),K=!0;break;case"E":se=!0;var M=Zee(L[w].slice(1),{r:p,c:v});x[p][v]=[x[p][v],M];break;case"S":fe=!0,x[p][v]=[x[p][v],"S5S"];break;case"G":break;case"R":ve=parseInt(L[w].slice(1))-1;break;case"C":Oe=parseInt(L[w].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+D)}if(K&&(x[p][v]&&x[p][v].length==2?x[p][v][0]=H:x[p][v]=H,y=null),fe){if(se)throw new Error("SYLK shared formula cannot have own formula");var z=ve>-1&&x[ve][Oe];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");x[p][v][1]=Qee(z[1],{r:p-ve,c:v-Oe})}break;case"F":var W=0;for(w=1;w<L.length;++w)switch(L[w].charAt(0)){case"X":v=parseInt(L[w].slice(1))-1,++W;break;case"Y":for(p=parseInt(L[w].slice(1))-1,j=x.length;j<=p;++j)x[j]=[];break;case"M":N=parseInt(L[w].slice(1))/20;break;case"F":break;case"G":break;case"P":y=_[parseInt(L[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=L[w].slice(1).split(" "),j=parseInt(T[0],10);j<=parseInt(T[1],10);++j)N=parseInt(T[2],10),A[j-1]=N===0?{hidden:!0}:{wch:N},tv(A[j-1]);break;case"C":v=parseInt(L[w].slice(1))-1,A[v]||(A[v]={});break;case"R":p=parseInt(L[w].slice(1))-1,S[p]||(S[p]={}),N>0?(S[p].hpt=N,S[p].hpx=yO(N)):N===0&&(S[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+D)}W<1&&(y=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+D)}}return S.length>0&&(E["!rows"]=S),A.length>0&&(E["!cols"]=A),m&&m.sheetRows&&(x=x.slice(0,m.sheetRows)),[x,E]}function s(h,m){var g=a(h,m),p=g[0],v=g[1],b=Jo(p,m);return gr(v).forEach(function(w){b[w]=v[w]}),b}function o(h,m){return ms(s(h,m),m)}function l(h,m,g,p){var v="C;Y"+(g+1)+";X"+(p+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+nv(h.f,{r:g,c:p}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,m){m.forEach(function(g,p){var v="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=ad(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=id(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function f(h,m){m.forEach(function(g,p){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*sd(g.hpx)+";"),v.length>2&&h.push(v+"R"+(p+1))})}function d(h,m){var g=["ID;PWXL;N;E"],p=[],v=Pt(h["!ref"]),b,w=Array.isArray(h),x=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&f(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var _=v.s.r;_<=v.e.r;++_)for(var y=v.s.c;y<=v.e.c;++y){var E=xt({r:_,c:y});b=w?(h[_]||[])[y]:h[E],!(!b||b.v==null&&(!b.f||b.F))&&p.push(l(b,h,_,y))}return g.join(x)+x+p.join(x)+x+"E"+x}return{to_workbook:o,to_sheet:s,from_sheet:d}}(),tee=function(){function e(i,s){switch(s.type){case"base64":return t(Da(i),s);case"binary":return t(i,s);case"buffer":return t(lt&&Buffer.isBuffer(i)?i.toString("binary"):Xc(i),s);case"array":return t(dh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,f=0,d=[];f!==o.length;++f){if(o[f].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var h=o[f].trim().split(","),m=h[0],g=h[1];++f;for(var p=o[f]||"";(p.match(/["]/g)||[]).length&1&&f<o.length-1;)p+=`
`+o[++f];switch(p=p.trim(),+m){case-1:if(p==="BOT"){d[++l]=[],c=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?d[l][c]=!0:p==="FALSE"?d[l][c]=!1:isNaN(ja(g))?isNaN(Cc(g).getDate())?d[l][c]=g:d[l][c]=Br(g):d[l][c]=ja(g),++c;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),d[l][c++]=p!==""?p:null;break}if(p==="EOD")break}}return s&&s.sheetRows&&(d=d.slice(0,s.sheetRows)),d}function r(i,s){return Jo(e(i,s),s)}function n(i,s){return ms(r(i,s),s)}var a=function(){var i=function(l,c,f,d,h){l.push(c),l.push(f+","+d),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,f,d){l.push(c+","+f),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],f=Pt(l["!ref"]),d,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,f.e.r-f.s.r+1,""),i(c,"TUPLES",0,f.e.c-f.s.c+1,""),i(c,"DATA",0,0,"");for(var m=f.s.r;m<=f.e.r;++m){s(c,-1,0,"BOT");for(var g=f.s.c;g<=f.e.c;++g){var p=xt({r:m,c:g});if(d=h?(l[m]||[])[g]:l[p],!d){s(c,1,0,"");continue}switch(d.t){case"n":var v=d.w;!v&&d.v!=null&&(v=d.v),v==null?d.f&&!d.F?s(c,1,0,"="+d.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=ui(d.z||Rt[14],Kr(Br(d.v)))),s(c,0,d.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var b=`\r
`,w=c.join(b);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),pO=function(){function e(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(d,h){for(var m=d.split(`
`),g=-1,p=-1,v=0,b=[];v!==m.length;++v){var w=m[v].trim().split(":");if(w[0]==="cell"){var x=ir(w[1]);if(b.length<=x.r)for(g=b.length;g<=x.r;++g)b[g]||(b[g]=[]);switch(g=x.r,p=x.c,w[2]){case"t":b[g][p]=e(w[3]);break;case"v":b[g][p]=+w[3];break;case"vtf":var _=w[w.length-1];case"vtc":switch(w[3]){case"nl":b[g][p]=!!+w[4];break;default:b[g][p]=+w[4];break}w[2]=="vtf"&&(b[g][p]=[b[g][p],_])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function n(d,h){return Jo(r(d,h),h)}function a(d,h){return ms(n(d,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var h=[],m=[],g,p="",v=hn(d["!ref"]),b=Array.isArray(d),w=v.s.r;w<=v.e.r;++w)for(var x=v.s.c;x<=v.e.c;++x)if(p=xt({r:w,c:x}),g=b?(d[w]||[])[x]:d[p],!(!g||g.v==null||g.t==="z")){switch(m=["cell",p,"t"],g.t){case"s":case"str":m.push(t(g.v));break;case"n":g.f?(m[2]="vtf",m[3]="n",m[4]=g.v,m[5]=t(g.f)):(m[2]="v",m[3]=g.v);break;case"b":m[2]="vt"+(g.f?"f":"c"),m[3]="nl",m[4]=g.v?"1":"0",m[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var _=Kr(Br(g.v));m[2]="vtc",m[3]="nd",m[4]=""+_,m[5]=g.w||ui(g.z||Rt[14],_);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function f(d){return[i,s,o,s,c(d),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:f}}(),ree=function(){function e(f,d,h,m,g){g.raw?d[h][m]=f:f===""||(f==="TRUE"?d[h][m]=!0:f==="FALSE"?d[h][m]=!1:isNaN(ja(f))?isNaN(Cc(f).getDate())?d[h][m]=f:d[h][m]=Br(f):d[h][m]=ja(f))}function t(f,d){var h=d||{},m=[];if(!f||f.length===0)return m;for(var g=f.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var v=10,b=0,w=0;w<=p;++w)b=g[w].indexOf(" "),b==-1?b=g[w].length:b++,v=Math.max(v,b);for(w=0;w<=p;++w){m[w]=[];var x=0;for(e(g[w].slice(0,v).trim(),m,w,x,h),x=1;x<=(g[w].length-v)/10+1;++x)e(g[w].slice(v+(x-1)*10,v+x*10).trim(),m,w,x,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(f){for(var d={},h=!1,m=0,g=0;m<f.length;++m)(g=f.charCodeAt(m))==34?h=!h:!h&&g in r&&(d[g]=(d[g]||0)+1);g=[];for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&g.push([d[m],m]);if(!g.length){d=n;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&g.push([d[m],m])}return g.sort(function(p,v){return p[0]-v[0]||n[p[1]]-n[v[1]]}),r[g.pop()[1]]||44}function i(f,d){var h=d||{},m="",g=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(m=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(m=f.charAt(4),f=f.slice(6)):m=a(f.slice(0,1024)):h&&h.FS?m=h.FS:m=a(f.slice(0,1024));var v=0,b=0,w=0,x=0,_=0,y=m.charCodeAt(0),E=!1,S=0,A=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?xZ(h.dateNF):null;function N(){var j=f.slice(x,_),D={};if(j.charAt(0)=='"'&&j.charAt(j.length-1)=='"'&&(j=j.slice(1,-1).replace(/""/g,'"')),j.length===0)D.t="z";else if(h.raw)D.t="s",D.v=j;else if(j.trim().length===0)D.t="s",D.v=j;else if(j.charCodeAt(0)==61)j.charCodeAt(1)==34&&j.charCodeAt(j.length-1)==34?(D.t="s",D.v=j.slice(2,-1).replace(/""/g,'"')):ete(j)?(D.t="n",D.f=j.slice(1)):(D.t="s",D.v=j);else if(j=="TRUE")D.t="b",D.v=!0;else if(j=="FALSE")D.t="b",D.v=!1;else if(!isNaN(w=ja(j)))D.t="n",h.cellText!==!1&&(D.w=j),D.v=w;else if(!isNaN(Cc(j).getDate())||T&&j.match(T)){D.z=h.dateNF||Rt[14];var L=0;T&&j.match(T)&&(j=yZ(j,h.dateNF,j.match(T)||[]),L=1),h.cellDates?(D.t="d",D.v=Br(j,L)):(D.t="n",D.v=Kr(Br(j,L))),h.cellText!==!1&&(D.w=ui(D.z,D.v instanceof Date?Kr(D.v):D.v)),h.cellNF||delete D.z}else D.t="s",D.v=j;if(D.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][b]=D):g[xt({c:b,r:v})]=D),x=_+1,A=f.charCodeAt(x),p.e.c<b&&(p.e.c=b),p.e.r<v&&(p.e.r=v),S==y)++b;else if(b=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;_<f.length;++_)switch(S=f.charCodeAt(_)){case 34:A===34&&(E=!E);break;case y:case 10:case 13:if(!E&&N())break e;break}return _-x>0&&N(),g["!ref"]=Ht(p),g}function s(f,d){return!(d&&d.PRN)||d.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,d):Jo(t(f,d),d)}function o(f,d){var h="",m=d.type=="string"?[0,0,0,0]:mie(f,d);switch(d.type){case"base64":h=Da(f);break;case"binary":h=f;break;case"buffer":d.codepage==65001?h=f.toString("utf8"):d.codepage&&typeof Fi<"u"?h=Fi.utils.decode(d.codepage,f):h=lt&&Buffer.isBuffer(f)?f.toString("binary"):Xc(f);break;case"array":h=dh(f);break;case"string":h=f;break;default:throw new Error("Unrecognized type "+d.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Bl(h.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?h=Bl(h):d.type=="binary"&&typeof Fi<"u"&&d.codepage&&(h=Fi.utils.decode(d.codepage,Fi.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?pO.to_sheet(d.type=="string"?h:Bl(h),d):s(h,d)}function l(f,d){return ms(o(f,d),d)}function c(f){for(var d=[],h=Pt(f["!ref"]),m,g=Array.isArray(f),p=h.s.r;p<=h.e.r;++p){for(var v=[],b=h.s.c;b<=h.e.c;++b){var w=xt({r:p,c:b});if(m=g?(f[p]||[])[b]:f[w],!m||m.v==null){v.push("          ");continue}for(var x=(m.w||(Ma(m),m.w)||"").slice(0,10);x.length<10;)x+=" ";v.push(x+(b===0?" ":""))}d.push(v.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}(),yw=function(){function e(M,z,W){if(M){ln(M,M.l||0);for(var I=W.Enum||ve;M.l<M.length;){var ee=M.read_shift(2),_e=I[ee]||I[65535],Ee=M.read_shift(2),re=M.l+Ee,ce=_e.f&&_e.f(M,Ee,W);if(M.l=re,z(ce,_e,ee))return}}}function t(M,z){switch(z.type){case"base64":return r(Rn(Da(M)),z);case"binary":return r(Rn(M),z);case"buffer":case"array":return r(M,z)}throw"Unsupported type "+z.type}function r(M,z){if(!M)return M;var W=z||{},I=W.dense?[]:{},ee="Sheet1",_e="",Ee=0,re={},ce=[],Se=[],ne={s:{r:0,c:0},e:{r:0,c:0}},Le=W.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)W.Enum=ve,e(M,function(V,Ne,Ve){switch(Ve){case 0:W.vers=V,V>=4096&&(W.qpro=!0);break;case 6:ne=V;break;case 204:V&&(_e=V);break;case 222:_e=V;break;case 15:case 51:W.qpro||(V[1].v=V[1].v.slice(1));case 13:case 14:case 16:Ve==14&&(V[2]&112)==112&&(V[2]&15)>1&&(V[2]&15)<15&&(V[1].z=W.dateNF||Rt[14],W.cellDates&&(V[1].t="d",V[1].v=CT(V[1].v))),W.qpro&&V[3]>Ee&&(I["!ref"]=Ht(ne),re[ee]=I,ce.push(ee),I=W.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},Ee=V[3],ee=_e||"Sheet"+(Ee+1),_e="");var ut=W.dense?(I[V[0].r]||[])[V[0].c]:I[xt(V[0])];if(ut){ut.t=V[1].t,ut.v=V[1].v,V[1].z!=null&&(ut.z=V[1].z),V[1].f!=null&&(ut.f=V[1].f);break}W.dense?(I[V[0].r]||(I[V[0].r]=[]),I[V[0].r][V[0].c]=V[1]):I[xt(V[0])]=V[1];break}},W);else if(M[2]==26||M[2]==14)W.Enum=Oe,M[2]==14&&(W.qpro=!0,M.l=0),e(M,function(V,Ne,Ve){switch(Ve){case 204:ee=V;break;case 22:V[1].v=V[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(V[3]>Ee&&(I["!ref"]=Ht(ne),re[ee]=I,ce.push(ee),I=W.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},Ee=V[3],ee="Sheet"+(Ee+1)),Le>0&&V[0].r>=Le)break;W.dense?(I[V[0].r]||(I[V[0].r]=[]),I[V[0].r][V[0].c]=V[1]):I[xt(V[0])]=V[1],ne.e.c<V[0].c&&(ne.e.c=V[0].c),ne.e.r<V[0].r&&(ne.e.r=V[0].r);break;case 27:V[14e3]&&(Se[V[14e3][0]]=V[14e3][1]);break;case 1537:Se[V[0]]=V[1],V[0]==Ee&&(ee=V[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(I["!ref"]=Ht(ne),re[_e||ee]=I,ce.push(_e||ee),!Se.length)return{SheetNames:ce,Sheets:re};for(var je={},Re=[],$e=0;$e<Se.length;++$e)re[ce[$e]]?(Re.push(Se[$e]||ce[$e]),je[Se[$e]]=re[Se[$e]]||re[ce[$e]]):(Re.push(Se[$e]),je[Se[$e]]={"!ref":"A1"});return{SheetNames:Re,Sheets:je}}function n(M,z){var W=z||{};if(+W.codepage>=0&&Pc(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var I=Vr(),ee=Pt(M["!ref"]),_e=Array.isArray(M),Ee=[];be(I,0,i(1030)),be(I,6,l(ee));for(var re=Math.min(ee.e.r,8191),ce=ee.s.r;ce<=re;++ce)for(var Se=pr(ce),ne=ee.s.c;ne<=ee.e.c;++ne){ce===ee.s.r&&(Ee[ne]=Nr(ne));var Le=Ee[ne]+Se,je=_e?(M[ce]||[])[ne]:M[Le];if(!(!je||je.t=="z"))if(je.t=="n")(je.v|0)==je.v&&je.v>=-32768&&je.v<=32767?be(I,13,m(ce,ne,je.v)):be(I,14,p(ce,ne,je.v));else{var Re=Ma(je);be(I,15,d(ce,ne,Re.slice(0,239)))}}return be(I,1),I.end()}function a(M,z){var W=z||{};if(+W.codepage>=0&&Pc(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var I=Vr();be(I,0,s(M));for(var ee=0,_e=0;ee<M.SheetNames.length;++ee)(M.Sheets[M.SheetNames[ee]]||{})["!ref"]&&be(I,27,se(M.SheetNames[ee],_e++));var Ee=0;for(ee=0;ee<M.SheetNames.length;++ee){var re=M.Sheets[M.SheetNames[ee]];if(!(!re||!re["!ref"])){for(var ce=Pt(re["!ref"]),Se=Array.isArray(re),ne=[],Le=Math.min(ce.e.r,8191),je=ce.s.r;je<=Le;++je)for(var Re=pr(je),$e=ce.s.c;$e<=ce.e.c;++$e){je===ce.s.r&&(ne[$e]=Nr($e));var V=ne[$e]+Re,Ne=Se?(re[je]||[])[$e]:re[V];if(!(!Ne||Ne.t=="z"))if(Ne.t=="n")be(I,23,N(je,$e,Ee,Ne.v));else{var Ve=Ma(Ne);be(I,22,S(je,$e,Ee,Ve.slice(0,239)))}}++Ee}}return be(I,1),I.end()}function i(M){var z=oe(2);return z.write_shift(2,M),z}function s(M){var z=oe(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var W=0,I=0,ee=0,_e=0;_e<M.SheetNames.length;++_e){var Ee=M.SheetNames[_e],re=M.Sheets[Ee];if(!(!re||!re["!ref"])){++ee;var ce=hn(re["!ref"]);W<ce.e.r&&(W=ce.e.r),I<ce.e.c&&(I=ce.e.c)}}return W>8191&&(W=8191),z.write_shift(2,W),z.write_shift(1,ee),z.write_shift(1,I),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function o(M,z,W){var I={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&W.qpro?(I.s.c=M.read_shift(1),M.l++,I.s.r=M.read_shift(2),I.e.c=M.read_shift(1),M.l++,I.e.r=M.read_shift(2),I):(I.s.c=M.read_shift(2),I.s.r=M.read_shift(2),z==12&&W.qpro&&(M.l+=2),I.e.c=M.read_shift(2),I.e.r=M.read_shift(2),z==12&&W.qpro&&(M.l+=2),I.s.c==65535&&(I.s.c=I.e.c=I.s.r=I.e.r=0),I)}function l(M){var z=oe(8);return z.write_shift(2,M.s.c),z.write_shift(2,M.s.r),z.write_shift(2,M.e.c),z.write_shift(2,M.e.r),z}function c(M,z,W){var I=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(I[0].c=M.read_shift(1),I[3]=M.read_shift(1),I[0].r=M.read_shift(2),M.l+=2):(I[2]=M.read_shift(1),I[0].c=M.read_shift(2),I[0].r=M.read_shift(2)),I}function f(M,z,W){var I=M.l+z,ee=c(M,z,W);if(ee[1].t="s",W.vers==20768){M.l++;var _e=M.read_shift(1);return ee[1].v=M.read_shift(_e,"utf8"),ee}return W.qpro&&M.l++,ee[1].v=M.read_shift(I-M.l,"cstr"),ee}function d(M,z,W){var I=oe(7+W.length);I.write_shift(1,255),I.write_shift(2,z),I.write_shift(2,M),I.write_shift(1,39);for(var ee=0;ee<I.length;++ee){var _e=W.charCodeAt(ee);I.write_shift(1,_e>=128?95:_e)}return I.write_shift(1,0),I}function h(M,z,W){var I=c(M,z,W);return I[1].v=M.read_shift(2,"i"),I}function m(M,z,W){var I=oe(7);return I.write_shift(1,255),I.write_shift(2,z),I.write_shift(2,M),I.write_shift(2,W,"i"),I}function g(M,z,W){var I=c(M,z,W);return I[1].v=M.read_shift(8,"f"),I}function p(M,z,W){var I=oe(13);return I.write_shift(1,255),I.write_shift(2,z),I.write_shift(2,M),I.write_shift(8,W,"f"),I}function v(M,z,W){var I=M.l+z,ee=c(M,z,W);if(ee[1].v=M.read_shift(8,"f"),W.qpro)M.l=I;else{var _e=M.read_shift(2);_(M.slice(M.l,M.l+_e),ee),M.l+=_e}return ee}function b(M,z,W){var I=z&32768;return z&=-32769,z=(I?M:0)+(z>=8192?z-16384:z),(I?"":"$")+(W?Nr(z):pr(z))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},x=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(M,z){ln(M,0);for(var W=[],I=0,ee="",_e="",Ee="",re="";M.l<M.length;){var ce=M[M.l++];switch(ce){case 0:W.push(M.read_shift(8,"f"));break;case 1:_e=b(z[0].c,M.read_shift(2),!0),ee=b(z[0].r,M.read_shift(2),!1),W.push(_e+ee);break;case 2:{var Se=b(z[0].c,M.read_shift(2),!0),ne=b(z[0].r,M.read_shift(2),!1);_e=b(z[0].c,M.read_shift(2),!0),ee=b(z[0].r,M.read_shift(2),!1),W.push(Se+ne+":"+_e+ee)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(M.read_shift(2));break;case 6:{for(var Le="";ce=M[M.l++];)Le+=String.fromCharCode(ce);W.push('"'+Le.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:re=W.pop(),Ee=W.pop(),W.push(["AND","OR"][ce-20]+"("+Ee+","+re+")");break;default:if(ce<32&&x[ce])re=W.pop(),Ee=W.pop(),W.push(Ee+x[ce]+re);else if(w[ce]){if(I=w[ce][1],I==69&&(I=M[M.l++]),I>W.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+W.join("|")+"|");return}var je=W.slice(-I);W.length-=I,W.push(w[ce][0]+"("+je.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}W.length==1?z[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function y(M){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=M.read_shift(2),z[3]=M[M.l++],z[0].c=M[M.l++],z}function E(M,z){var W=y(M);return W[1].t="s",W[1].v=M.read_shift(z-4,"cstr"),W}function S(M,z,W,I){var ee=oe(6+I.length);ee.write_shift(2,M),ee.write_shift(1,W),ee.write_shift(1,z),ee.write_shift(1,39);for(var _e=0;_e<I.length;++_e){var Ee=I.charCodeAt(_e);ee.write_shift(1,Ee>=128?95:Ee)}return ee.write_shift(1,0),ee}function A(M,z){var W=y(M);W[1].v=M.read_shift(2);var I=W[1].v>>1;if(W[1].v&1)switch(I&7){case 0:I=(I>>3)*5e3;break;case 1:I=(I>>3)*500;break;case 2:I=(I>>3)/20;break;case 3:I=(I>>3)/200;break;case 4:I=(I>>3)/2e3;break;case 5:I=(I>>3)/2e4;break;case 6:I=(I>>3)/16;break;case 7:I=(I>>3)/64;break}return W[1].v=I,W}function T(M,z){var W=y(M),I=M.read_shift(4),ee=M.read_shift(4),_e=M.read_shift(2);if(_e==65535)return I===0&&ee===3221225472?(W[1].t="e",W[1].v=15):I===0&&ee===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var Ee=_e&32768;return _e=(_e&32767)-16446,W[1].v=(1-Ee*2)*(ee*Math.pow(2,_e+32)+I*Math.pow(2,_e)),W}function N(M,z,W,I){var ee=oe(14);if(ee.write_shift(2,M),ee.write_shift(1,W),ee.write_shift(1,z),I==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var _e=0,Ee=0,re=0,ce=0;return I<0&&(_e=1,I=-I),Ee=Math.log2(I)|0,I/=Math.pow(2,Ee-31),ce=I>>>0,ce&2147483648||(I/=2,++Ee,ce=I>>>0),I-=ce,ce|=2147483648,ce>>>=0,I*=Math.pow(2,32),re=I>>>0,ee.write_shift(4,re),ee.write_shift(4,ce),Ee+=16383+(_e?32768:0),ee.write_shift(2,Ee),ee}function j(M,z){var W=T(M);return M.l+=z-14,W}function D(M,z){var W=y(M),I=M.read_shift(4);return W[1].v=I>>6,W}function L(M,z){var W=y(M),I=M.read_shift(8,"f");return W[1].v=I,W}function q(M,z){var W=L(M);return M.l+=z-10,W}function H(M,z){return M[M.l+z-1]==0?M.read_shift(z,"cstr"):""}function K(M,z){var W=M[M.l++];W>z-1&&(W=z-1);for(var I="";I.length<W;)I+=String.fromCharCode(M[M.l++]);return I}function Q(M,z,W){if(!(!W.qpro||z<21)){var I=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var ee=M.read_shift(z-21,"cstr");return[I,ee]}}function fe(M,z){for(var W={},I=M.l+z;M.l<I;){var ee=M.read_shift(2);if(ee==14e3){for(W[ee]=[0,""],W[ee][0]=M.read_shift(2);M[M.l];)W[ee][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return W}function se(M,z){var W=oe(5+M.length);W.write_shift(2,14e3),W.write_shift(2,z);for(var I=0;I<M.length;++I){var ee=M.charCodeAt(I);W[W.l++]=ee>127?95:ee}return W[W.l++]=0,W}var ve={0:{n:"BOF",f:uO},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:H},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},Oe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:E},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:j},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:fe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:H},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),nee=/^\s|\s$|[\t\n\r]/;function gO(e,t){if(!t.bookSST)return"";var r=[qt];r[r.length]=ye("sst",null,{xmlns:Xo[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(nee)&&(i+=' xml:space="preserve"'),i+=">"+vt(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function aee(e){return[e.read_shift(4),e.read_shift(4)]}function iee(e,t){return t||(t=oe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var see=XZ;function oee(e){var t=Vr();me(t,159,iee(e));for(var r=0;r<e.length;++r)me(t,19,see(e[r]));return me(t,160),t.end()}function lee(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function vO(e){var t=0,r,n=lee(e),a=n.length+1,i,s,o,l,c;for(r=as(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var cee=function(){function e(a,i){switch(i.type){case"base64":return t(Da(a),i);case"binary":return t(a,i);case"buffer":return t(lt&&Buffer.isBuffer(a)?a.toString("binary"):Xc(a),i);case"array":return t(dh(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(f,d){Array.isArray(o)&&(o[d]=[]);for(var h=/\\\w+\b/g,m=0,g,p=-1;g=h.exec(f);){switch(g[0]){case"\\cell":var v=f.slice(m,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++p,v.length){var b={v,t:"s"};Array.isArray(o)?o[d][p]=b:o[xt({r:d,c:p})]=b}break}m=h.lastIndex}p>c.e.c&&(c.e.c=p)}),o["!ref"]=Ht(c),o}function r(a,i){return ms(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=Pt(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var f=s.s.c;f<=s.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=s.s.c;f<=s.e.c;++f){var d=xt({r:c,c:f});o=l?(a[c]||[])[f]:a[d],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Ma(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function bw(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var uee=6,Na=uee;function ad(e){return Math.floor((e+Math.round(128/Na)/256)*Na)}function id(e){return Math.floor((e-5)/Na*100+.5)/100}function Sp(e){return Math.round((e*Na+5)/Na*256)/256}function tv(e){e.width?(e.wpx=ad(e.width),e.wch=id(e.wpx),e.MDW=Na):e.wpx?(e.wch=id(e.wpx),e.width=Sp(e.wch),e.MDW=Na):typeof e.wch=="number"&&(e.width=Sp(e.wch),e.wpx=ad(e.width),e.MDW=Na),e.customWidth&&delete e.customWidth}var fee=96,xO=fee;function sd(e){return e*96/xO}function yO(e){return e*xO/96}function dee(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ye("numFmt",null,{numFmtId:n,formatCode:vt(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ye("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function hee(e){var t=[];return t[t.length]=ye("cellXfs",null),e.forEach(function(r){t[t.length]=ye("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ye("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function bO(e,t){var r=[qt,ye("styleSheet",null,{xmlns:Xo[0],"xmlns:vt":ar.vt})],n;return e.SSF&&(n=dee(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=hee(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function mee(e,t){var r=e.read_shift(2),n=Pr(e);return[r,n]}function pee(e,t,r){r||(r=oe(6+4*t.length)),r.write_shift(2,e),sr(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function gee(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=nQ(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=rQ(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Pr(e),n}function vee(e,t){t||(t=oe(25+4*32)),t.write_shift(2,e.sz*20),aQ(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),rd(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),sr(e.name,t),t.length>t.l?t.slice(0,t.l):t}var xee=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],y0,yee=oa;function ww(e,t){t||(t=oe(4*3+8*7+16*1)),y0||(y0=zg(xee));var r=y0[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(rd({auto:1},t),rd({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function bee(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function wO(e,t,r){r||(r=oe(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function yl(e,t){return t||(t=oe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var wee=oa;function _ee(e,t){return t||(t=oe(51)),t.write_shift(1,0),yl(null,t),yl(null,t),yl(null,t),yl(null,t),yl(null,t),t.length>t.l?t.slice(0,t.l):t}function See(e,t){return t||(t=oe(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),td(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Eee(e,t,r){var n=oe(2052);return n.write_shift(4,e),td(t,n),td(r,n),n.length>n.l?n.slice(0,n.l):n}function Tee(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(me(e,615,zn(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&me(e,44,pee(a,t[a]))}),me(e,616))}}function Oee(e){var t=1;me(e,611,zn(t)),me(e,43,vee({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),me(e,612)}function Aee(e){var t=2;me(e,603,zn(t)),me(e,45,ww({patternType:"none"})),me(e,45,ww({patternType:"gray125"})),me(e,604)}function jee(e){var t=1;me(e,613,zn(t)),me(e,46,_ee()),me(e,614)}function Nee(e){var t=1;me(e,626,zn(t)),me(e,47,wO({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),me(e,627)}function Pee(e,t){me(e,617,zn(t.length)),t.forEach(function(r){me(e,47,wO(r,0))}),me(e,618)}function kee(e){var t=1;me(e,619,zn(t)),me(e,48,See({xfId:0,builtinId:0,name:"Normal"})),me(e,620)}function Cee(e){var t=0;me(e,505,zn(t)),me(e,506)}function Dee(e){var t=0;me(e,508,Eee(t,"TableStyleMedium9","PivotStyleMedium4")),me(e,509)}function Mee(e,t){var r=Vr();return me(r,278),Tee(r,e.SSF),Oee(r),Aee(r),jee(r),Nee(r),Pee(r,t.cellXfs),kee(r),Cee(r),Dee(r),me(r,279),r.end()}function _O(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[qt];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Iee(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Pr(e)}}function $ee(e){var t=oe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),sr(e.name,t),t.slice(0,t.l)}function Fee(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Ree(e){var t=oe(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Lee(e,t){var r=oe(8+2*t.length);return r.write_shift(4,e),sr(t,r),r.slice(0,r.l)}function Bee(e){return e.l+=4,e.read_shift(4)!=0}function Uee(e,t){var r=oe(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Wee(){var e=Vr();return me(e,332),me(e,334,zn(1)),me(e,335,$ee({name:"XLDAPR",version:12e4,flags:3496657072})),me(e,336),me(e,339,Lee(1,"XLDAPR")),me(e,52),me(e,35,zn(514)),me(e,4096,zn(0)),me(e,4097,bn(1)),me(e,36),me(e,53),me(e,340),me(e,337,Uee(1)),me(e,51,Ree([[1,0]])),me(e,338),me(e,333),e.end()}function SO(){var e=[qt];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function zee(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=xt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Hs=1024;function EO(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[ye("xml",null,{"xmlns:v":cn.v,"xmlns:o":cn.o,"xmlns:x":cn.x,"xmlns:mv":cn.mv}).replace(/\/>/,">"),ye("o:shapelayout",ye("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ye("v:shapetype",[ye("v:stroke",null,{joinstyle:"miter"}),ye("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Hs<e*1e3;)Hs+=1e3;return t.forEach(function(i){var s=ir(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?ye("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=ye("v:fill",l,o),f={on:"t",obscured:"t"};++Hs,a=a.concat(["<v:shape"+Mc({id:"_x0000_s"+Hs,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,ye("v:shadow",null,f),ye("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",hr("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),hr("x:AutoFill","False"),hr("x:Row",String(s.r)),hr("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function TO(e){var t=[qt,ye("comments",null,{xmlns:Xo[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=vt(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(vt(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(hr("t",vt(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(hr("t",vt(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Hee(e,t,r){var n=[qt,ye("ThreadedComments",null,{xmlns:ar.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=l.id:l.parentId=i,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(ye("threadedComment",hr("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function qee(e){var t=[qt,ye("personList",null,{xmlns:ar.TCMNT,"xmlns:x":Xo[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ye("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Gee(e){var t={};t.iauthor=e.read_shift(4);var r=xs(e);return t.rfx=r.s,t.ref=xt(r.s),e.l+=16,t}function Vee(e,t){return t==null&&(t=oe(36)),t.write_shift(4,e[1].iauthor),Zo(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Kee=Pr;function Yee(e){return sr(e.slice(0,54))}function Xee(e){var t=Vr(),r=[];return me(t,628),me(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),me(t,632,Yee(a.a)))})}),me(t,631),me(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:ir(n[0]),e:ir(n[0])};me(t,635,Vee([i,a])),a.t&&a.t.length>0&&me(t,637,ZZ(a)),me(t,636),delete a.iauthor})}),me(t,634),me(t,629),t.end()}function Jee(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&wt.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var OO=["xlsb","xlsm","xlam","biff8","xla"],Zee=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,f=s.length>0?parseInt(s,10)|0:0;return o?f+=t.c:--f,l?c+=t.r:--c,a+(o?"":"$")+Nr(f)+(l?"":"$")+pr(c)}return function(a,i){return t=i,a.replace(e,r)}}(),rv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,nv=function(){return function(t,r){return t.replace(rv,function(n,a,i,s,o,l){var c=Xg(s)-(i?0:r.c),f=Yg(l)-(o?0:r.r),d=f==0?"":o?f+1:"["+f+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+d+"C"+h})}}();function Qee(e,t){return e.replace(rv,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Nr(Xg(i)+t.c))+(s=="$"?s+o:pr(Yg(o)+t.r))})}function ete(e){return e.length!=1}function Ut(e){e.l+=1}function fi(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function AO(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return jO(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=fi(e),o=fi(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function jO(e){var t=fi(e),r=fi(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function tte(e,t,r){if(r.biff<8)return jO(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=fi(e),s=fi(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function NO(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return rte(e);var n=e.read_shift(r&&r.biff==12?4:2),a=fi(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function rte(e){var t=fi(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function nte(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function ate(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return ite(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function ite(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function ste(e,t,r){var n=(e[e.l++]&96)>>5,a=AO(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function ote(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=AO(e,i,r);return[n,a,s]}function lte(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function cte(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function ute(e,t,r){var n=(e[e.l++]&96)>>5,a=tte(e,t-1,r);return[n,a]}function fte(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function _w(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function dte(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function hte(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function mte(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function pte(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function gte(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function PO(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function vte(e){return e.read_shift(2),PO(e)}function xte(e){return e.read_shift(2),PO(e)}function yte(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=NO(e,0,r);return[n,a]}function bte(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=ate(e,0,r);return[n,a]}function wte(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=NO(e,0,r);return[n,a,i]}function _te(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[_re[a],DO[a],n]}function Ste(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Ete(e);return[a,(i[0]===0?DO:wre)[i[1]]]}function Ete(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Tte(e,t,r){e.l+=r&&r.biff==2?3:4}function Ote(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Ate(e){return e.l++,Qc[e.read_shift(1)]}function jte(e){return e.l++,e.read_shift(2)}function Nte(e){return e.l++,e.read_shift(1)!==0}function Pte(e){return e.l++,Qo(e)}function kte(e,t,r){return e.l++,dO(e,t-1,r)}function Cte(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=wQ(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Qc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Qo(e);break;case 2:r[1]=TQ(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Dte(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?xs:jQ)(e));return a}function Mte(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Cte(e,r.biff);return s}function Ite(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function $te(e,t,r){if(r.biff==5)return Fte(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Fte(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Rte(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Lte(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Bte(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Ute(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Wte=oa,zte=oa,Hte=oa;function eu(e,t,r){return e.l+=2,[nte(e)]}function av(e){return e.l+=6,[]}var qte=eu,Gte=av,Vte=av,Kte=eu;function kO(e){return e.l+=2,[uO(e),e.read_shift(2)&1]}var Yte=eu,Xte=kO,Jte=av,Zte=eu,Qte=eu,ere=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function tre(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=ere[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function rre(e){return e.l+=2,[e.read_shift(4)]}function nre(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function are(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function ire(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function sre(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ore(e){return e.l+=4,[0,0]}var Sw={1:{n:"PtgExp",f:Ote},2:{n:"PtgTbl",f:Hte},3:{n:"PtgAdd",f:Ut},4:{n:"PtgSub",f:Ut},5:{n:"PtgMul",f:Ut},6:{n:"PtgDiv",f:Ut},7:{n:"PtgPower",f:Ut},8:{n:"PtgConcat",f:Ut},9:{n:"PtgLt",f:Ut},10:{n:"PtgLe",f:Ut},11:{n:"PtgEq",f:Ut},12:{n:"PtgGe",f:Ut},13:{n:"PtgGt",f:Ut},14:{n:"PtgNe",f:Ut},15:{n:"PtgIsect",f:Ut},16:{n:"PtgUnion",f:Ut},17:{n:"PtgRange",f:Ut},18:{n:"PtgUplus",f:Ut},19:{n:"PtgUminus",f:Ut},20:{n:"PtgPercent",f:Ut},21:{n:"PtgParen",f:Ut},22:{n:"PtgMissArg",f:Ut},23:{n:"PtgStr",f:kte},26:{n:"PtgSheet",f:nre},27:{n:"PtgEndSheet",f:are},28:{n:"PtgErr",f:Ate},29:{n:"PtgBool",f:Nte},30:{n:"PtgInt",f:jte},31:{n:"PtgNum",f:Pte},32:{n:"PtgArray",f:fte},33:{n:"PtgFunc",f:_te},34:{n:"PtgFuncVar",f:Ste},35:{n:"PtgName",f:Ite},36:{n:"PtgRef",f:yte},37:{n:"PtgArea",f:ste},38:{n:"PtgMemArea",f:Rte},39:{n:"PtgMemErr",f:Wte},40:{n:"PtgMemNoMem",f:zte},41:{n:"PtgMemFunc",f:Lte},42:{n:"PtgRefErr",f:Bte},43:{n:"PtgAreaErr",f:lte},44:{n:"PtgRefN",f:bte},45:{n:"PtgAreaN",f:ute},46:{n:"PtgMemAreaN",f:ire},47:{n:"PtgMemNoMemN",f:sre},57:{n:"PtgNameX",f:$te},58:{n:"PtgRef3d",f:wte},59:{n:"PtgArea3d",f:ote},60:{n:"PtgRefErr3d",f:Ute},61:{n:"PtgAreaErr3d",f:cte},255:{}},lre={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},cre={1:{n:"PtgElfLel",f:kO},2:{n:"PtgElfRw",f:Zte},3:{n:"PtgElfCol",f:qte},6:{n:"PtgElfRwV",f:Qte},7:{n:"PtgElfColV",f:Kte},10:{n:"PtgElfRadical",f:Yte},11:{n:"PtgElfRadicalS",f:Jte},13:{n:"PtgElfColS",f:Gte},15:{n:"PtgElfColSV",f:Vte},16:{n:"PtgElfRadicalLel",f:Xte},25:{n:"PtgList",f:tre},29:{n:"PtgSxName",f:rre},255:{}},ure={0:{n:"PtgAttrNoop",f:ore},1:{n:"PtgAttrSemi",f:gte},2:{n:"PtgAttrIf",f:mte},4:{n:"PtgAttrChoose",f:dte},8:{n:"PtgAttrGoto",f:hte},16:{n:"PtgAttrSum",f:Tte},32:{n:"PtgAttrBaxcel",f:_w},33:{n:"PtgAttrBaxcel",f:_w},64:{n:"PtgAttrSpace",f:vte},65:{n:"PtgAttrSpaceSemi",f:xte},128:{n:"PtgAttrIfError",f:pte},255:{}};function fre(e,t,r,n){if(n.biff<8)return oa(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Mte(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Dte(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(oa(e,t)),i}function dre(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=Sw[i]||Sw[lre[i]],(i===24||i===25)&&(a=(i===24?cre:ure)[e[e.l+1]]),!a||!a.f?oa(e,t):s.push([a.n,a.f(e,t,r)]);return s}function hre(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var mre={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function pre(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function CO(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Ew(e,t,r){var n=CO(e,t,r);return n=="#REF"?n:pre(n,r)}function Po(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,f,d=0,h=0,m,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,v="",b=0,w=e[0].length;b<w;++b){var x=e[0][b];switch(x[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),p>=0){switch(e[0][p][1][0]){case 0:v=Ft(" ",e[0][p][1][1]);break;case 1:v=Ft("\r",e[0][p][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}c=c+v,p=-1}o.push(c+mre[x[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Wl(x[1][1],s,a),o.push(zl(f,i));break;case"PtgRefN":f=r?Wl(x[1][1],r,a):x[1][1],o.push(zl(f,i));break;case"PtgRef3d":d=x[1][1],f=Wl(x[1][2],s,a),g=Ew(n,d,a),o.push(g+"!"+zl(f,i));break;case"PtgFunc":case"PtgFuncVar":var _=x[1][0],y=x[1][1];_||(_=0),_&=127;var E=_==0?[]:o.slice(-_);o.length-=_,y==="User"&&(y=E.shift()),o.push(y+"("+E.join(",")+")");break;case"PtgBool":o.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(x[1]);break;case"PtgNum":o.push(String(x[1]));break;case"PtgStr":o.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(x[1]);break;case"PtgAreaN":m=lw(x[1][1],r?{s:r}:s,a),o.push(v0(m,a));break;case"PtgArea":m=lw(x[1][1],s,a),o.push(v0(m,a));break;case"PtgArea3d":d=x[1][1],m=x[1][2],g=Ew(n,d,a),o.push(g+"!"+v0(m,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=x[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],A=S?S.Name:"SH33TJSNAME"+String(h);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),o.push(A);break;case"PtgNameX":var T=x[1][1];h=x[1][2];var N;if(a.biff<=5)T<0&&(T=-T),n[T]&&(N=n[T][h]);else{var j="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][h]&&n[T][h].itab>0&&(j=n.SheetNames[n[T][h].itab-1]+"!"):j=n.SheetNames[h-1]+"!"),n[T]&&n[T][h])j+=n[T][h].Name;else if(n[0]&&n[0][h])j+=n[0][h].Name;else{var D=(CO(n,T,a)||"").split(";;");D[h-1]?j=D[h-1]:j+="SH33TJSERRX"}o.push(j);break}N||(N={Name:"SH33TJSERRY"}),o.push(N.Name);break;case"PtgParen":var L="(",q=")";if(p>=0){switch(v="",e[0][p][1][0]){case 2:L=Ft(" ",e[0][p][1][1])+L;break;case 3:L=Ft("\r",e[0][p][1][1])+L;break;case 4:q=Ft(" ",e[0][p][1][1])+q;break;case 5:q=Ft("\r",e[0][p][1][1])+q;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}o.push(L+o.pop()+q);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":f={c:x[1][1],r:x[1][0]};var H={c:r.c,r:r.r};if(n.sharedf[xt(f)]){var K=n.sharedf[xt(f)];o.push(Po(K,s,H,n,a))}else{var Q=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(f.c<c[0].s.c||f.c>c[0].e.c)&&!(f.r<c[0].s.r||f.r>c[0].e.r)){o.push(Po(c[1],s,H,n,a)),Q=!0;break}Q||o.push(x[1])}break;case"PtgArray":o.push("{"+hre(x[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(x));default:throw new Error("Unrecognized Formula Token: "+String(x))}var fe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&fe.indexOf(e[0][b][0])==-1){x=e[0][p];var se=!0;switch(x[1][0]){case 4:se=!1;case 0:v=Ft(" ",x[1][1]);break;case 5:se=!1;case 1:v=Ft("\r",x[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}o.push((se?v:"")+o.pop()+(se?"":v)),p=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function gre(e){if(e==null){var t=oe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return is(e);return is(0)}function vre(e,t,r,n,a){var i=ss(t,r,a),s=gre(e.v),o=oe(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=oe(e.bf.length),f=0;f<e.bf.length;++f)c[f]=e.bf[f];var d=dr([i,s,o,c]);return d}function hh(e,t,r){var n=e.read_shift(4),a=dre(e,n,r),i=e.read_shift(4),s=i>0?fre(e,i,a,r):null;return[a,s]}var xre=hh,mh=hh,yre=hh,bre=hh,wre={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},DO={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},_re={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Sre(e){var t="of:="+e.replace(rv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Ere(e){return e.replace(/\./,"!")}var Hl=typeof Map<"u";function iv(e,t,r){var n=0,a=e.length;if(r){if(Hl?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Hl?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Hl?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function ph(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Na=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=id(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Sp(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function MO(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function xi(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){NT(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Tre(e,t,r){if(e&&e["!ref"]){var n=Pt(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Ore(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Ht(e[r])+'"/>';return t+"</mergeCells>"}function Are(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,s.codeName=Dc(vt(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+ye("outlinePr",null,c)}!i&&!o||(a[a.length]=ye("sheetPr",o,s))}var jre=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Nre=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Pre(e){var t={sheet:1};return jre.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Nre.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=vO(e.password).toString(16).toUpperCase()),ye("sheetProtection",null,t)}function kre(e){return MO(e),ye("pageMargins",null,e)}function Cre(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=ye("col",null,ph(a,n)));return r[r.length]="</cols>",r.join("")}function Dre(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Ht(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=hn(a);s.s.r==s.e.r&&(s.e.r=hn(t["!ref"]).e.r,a=Ht(s));for(var o=0;o<i.length;++o){var l=i[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ye("autoFilter",null,{ref:a})}function Mre(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ye("sheetViews",ye("sheetView",null,a),{})}function Ire(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Qc[e.v];break;case"d":n&&n.cellDates?a=Br(e.v,-1).toISOString():(e=Yr(e),e.t="n",a=""+(e.v=Kr(Br(e.v)))),typeof e.z>"u"&&(e.z=Rt[14]);break;default:a=e.v;break}var o=hr("v",vt(a)),l={r:t},c=xi(n.cellXfs,e,n);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=hr("v",""+iv(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=ye("f",vt(e.f),f)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),ye("c",o,l)}function $re(e,t,r,n){var a=[],i=[],s=Pt(e["!ref"]),o="",l,c="",f=[],d=0,h=0,m=e["!rows"],g=Array.isArray(e),p={r:c},v,b=-1;for(h=s.s.c;h<=s.e.c;++h)f[h]=Nr(h);for(d=s.s.r;d<=s.e.r;++d){for(i=[],c=pr(d),h=s.s.c;h<=s.e.c;++h){l=f[h]+c;var w=g?(e[d]||[])[h]:e[l];w!==void 0&&(o=Ire(w,l,e,t))!=null&&i.push(o)}(i.length>0||m&&m[d])&&(p={r:c},m&&m[d]&&(v=m[d],v.hidden&&(p.hidden=1),b=-1,v.hpx?b=sd(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(p.ht=b,p.customHeight=1),v.level&&(p.outlineLevel=v.level)),a[a.length]=ye("row",i.join(""),p))}if(m)for(;d<m.length;++d)m&&m[d]&&(p={r:d+1},v=m[d],v.hidden&&(p.hidden=1),b=-1,v.hpx?b=sd(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(p.ht=b,p.customHeight=1),v.level&&(p.outlineLevel=v.level),a[a.length]=ye("row","",p));return a.join("")}function IO(e,t,r,n){var a=[qt,ye("worksheet",null,{xmlns:Xo[0],"xmlns:r":ar.r})],i=r.SheetNames[e],s=0,o="",l=r.Sheets[i];l==null&&(l={});var c=l["!ref"]||"A1",f=Pt(c);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),c=Ht(f)}n||(n={}),l["!comments"]=[];var d=[];Are(l,r,e,t,a),a[a.length]=ye("dimension",null,{ref:c}),a[a.length]=Mre(l,t,e,r),t.sheetFormat&&(a[a.length]=ye("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=Cre(l,l["!cols"])),a[s=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=$re(l,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),l["!protect"]&&(a[a.length]=Pre(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=Dre(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=Ore(l["!merges"]));var h=-1,m,g=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(p){p[1].Target&&(m={ref:p[0]},p[1].Target.charAt(0)!="#"&&(g=gt(n,-1,vt(p[1].Target).replace(/#.*$/,""),it.HLINK),m["r:id"]="rId"+g),(h=p[1].Target.indexOf("#"))>-1&&(m.location=vt(p[1].Target.slice(h+1))),p[1].Tooltip&&(m.tooltip=vt(p[1].Tooltip)),a[a.length]=ye("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=kre(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=hr("ignoredErrors",ye("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(g=gt(n,-1,"../drawings/drawing"+(e+1)+".xml",it.DRAW),a[a.length]=ye("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=d),l["!comments"].length>0&&(g=gt(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",it.VML),a[a.length]=ye("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Fre(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function Rre(e,t,r){var n=oe(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=sd(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var d=-1,h=-1,m=f<<10;m<f+1<<10;++m){c.c=m;var g=Array.isArray(r)?(r[c.r]||[])[c.c]:r[xt(c)];g&&(d<0&&(d=m),h=m)}d<0||(++o,n.write_shift(4,d),n.write_shift(4,h))}var p=n.l;return n.l=l,n.write_shift(4,o),n.l=p,n.length>n.l?n.slice(0,n.l):n}function Lre(e,t,r,n){var a=Rre(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&me(e,0,a)}var Bre=xs,Ure=Zo;function Wre(){}function zre(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=QZ(e),r}function Hre(e,t,r){r==null&&(r=oe(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return rd({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),XT(e,r),r.slice(0,r.l)}function qre(e){var t=On(e);return[t]}function Gre(e,t,r){return r==null&&(r=oe(8)),ps(t,r)}function Vre(e){var t=gs(e);return[t]}function Kre(e,t,r){return r==null&&(r=oe(4)),vs(t,r)}function Yre(e){var t=On(e),r=e.read_shift(1);return[t,r,"b"]}function Xre(e,t,r){return r==null&&(r=oe(9)),ps(t,r),r.write_shift(1,e.v?1:0),r}function Jre(e){var t=gs(e),r=e.read_shift(1);return[t,r,"b"]}function Zre(e,t,r){return r==null&&(r=oe(5)),vs(t,r),r.write_shift(1,e.v?1:0),r}function Qre(e){var t=On(e),r=e.read_shift(1);return[t,r,"e"]}function ene(e,t,r){return r==null&&(r=oe(9)),ps(t,r),r.write_shift(1,e.v),r}function tne(e){var t=gs(e),r=e.read_shift(1);return[t,r,"e"]}function rne(e,t,r){return r==null&&(r=oe(8)),vs(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function nne(e){var t=On(e),r=e.read_shift(4);return[t,r,"s"]}function ane(e,t,r){return r==null&&(r=oe(12)),ps(t,r),r.write_shift(4,t.v),r}function ine(e){var t=gs(e),r=e.read_shift(4);return[t,r,"s"]}function sne(e,t,r){return r==null&&(r=oe(8)),vs(t,r),r.write_shift(4,t.v),r}function one(e){var t=On(e),r=Qo(e);return[t,r,"n"]}function lne(e,t,r){return r==null&&(r=oe(16)),ps(t,r),is(e.v,r),r}function cne(e){var t=gs(e),r=Qo(e);return[t,r,"n"]}function une(e,t,r){return r==null&&(r=oe(12)),vs(t,r),is(e.v,r),r}function fne(e){var t=On(e),r=JT(e);return[t,r,"n"]}function dne(e,t,r){return r==null&&(r=oe(12)),ps(t,r),ZT(e.v,r),r}function hne(e){var t=gs(e),r=JT(e);return[t,r,"n"]}function mne(e,t,r){return r==null&&(r=oe(8)),vs(t,r),ZT(e.v,r),r}function pne(e){var t=On(e),r=Jg(e);return[t,r,"is"]}function gne(e){var t=On(e),r=Pr(e);return[t,r,"str"]}function vne(e,t,r){return r==null&&(r=oe(12+4*e.v.length)),ps(t,r),sr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function xne(e){var t=gs(e),r=Pr(e);return[t,r,"str"]}function yne(e,t,r){return r==null&&(r=oe(8+4*e.v.length)),vs(t,r),sr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function bne(e,t,r){var n=e.l+t,a=On(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=mh(e,n-e.l,r);s[3]=Po(o,null,a,r.supbooks,r)}else e.l=n;return s}function wne(e,t,r){var n=e.l+t,a=On(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=mh(e,n-e.l,r);s[3]=Po(o,null,a,r.supbooks,r)}else e.l=n;return s}function _ne(e,t,r){var n=e.l+t,a=On(e);a.r=r["!row"];var i=Qo(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=mh(e,n-e.l,r);s[3]=Po(o,null,a,r.supbooks,r)}else e.l=n;return s}function Sne(e,t,r){var n=e.l+t,a=On(e);a.r=r["!row"];var i=Pr(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=mh(e,n-e.l,r);s[3]=Po(o,null,a,r.supbooks,r)}else e.l=n;return s}var Ene=xs,Tne=Zo;function One(e,t){return t==null&&(t=oe(4)),t.write_shift(4,e),t}function Ane(e,t){var r=e.l+t,n=xs(e),a=Zg(e),i=Pr(e),s=Pr(e),o=Pr(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function jne(e,t){var r=oe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Zo({s:ir(e[0]),e:ir(e[0])},r),Qg("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return sr(a||"",r),sr(e[1].Tooltip||"",r),sr("",r),r.slice(0,r.l)}function Nne(){}function Pne(e,t,r){var n=e.l+t,a=QT(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=xre(e,n-e.l,r);s[1]=o}else e.l=n;return s}function kne(e,t,r){var n=e.l+t,a=xs(e),i=[a];if(r.cellFormula){var s=bre(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function Cne(e,t,r){r==null&&(r=oe(18));var n=ph(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var $O=["left","right","top","bottom","header","footer"];function Dne(e){var t={};return $O.forEach(function(r){t[r]=Qo(e)}),t}function Mne(e,t){return t==null&&(t=oe(6*8)),MO(e),$O.forEach(function(r){is(e[r],t)}),t}function Ine(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function $ne(e,t,r){r==null&&(r=oe(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Fne(e){var t=oe(24);return t.write_shift(4,4),t.write_shift(4,1),Zo(e,t),t}function Rne(e,t){return t==null&&(t=oe(16*4+2)),t.write_shift(2,e.password?vO(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Lne(){}function Bne(){}function Une(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Yr(t),t.z=t.z||Rt[14],t.v=Kr(Br(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r,c:n};switch(l.s=xi(a.cellXfs,t,a),t.l&&i["!links"].push([xt(l),t.l]),t.c&&i["!comments"].push([xt(l),t.c]),t.t){case"s":case"str":return a.bookSST?(o=iv(a.Strings,t.v,a.revStrings),l.t="s",l.v=o,s?me(e,18,sne(t,l)):me(e,7,ane(t,l))):(l.t="str",s?me(e,17,yne(t,l)):me(e,6,vne(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?me(e,13,mne(t,l)):me(e,2,dne(t,l)):s?me(e,16,une(t,l)):me(e,5,lne(t,l)),!0;case"b":return l.t="b",s?me(e,15,Zre(t,l)):me(e,4,Xre(t,l)),!0;case"e":return l.t="e",s?me(e,14,rne(t,l)):me(e,3,ene(t,l)),!0}return s?me(e,12,Kre(t,l)):me(e,1,Gre(t,l)),!0}function Wne(e,t,r,n){var a=Pt(t["!ref"]||"A1"),i,s="",o=[];me(e,145);var l=Array.isArray(t),c=a.e.r;t["!rows"]&&(c=Math.max(a.e.r,t["!rows"].length-1));for(var f=a.s.r;f<=c;++f){s=pr(f),Lre(e,t,a,f);var d=!1;if(f<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){f===a.s.r&&(o[h]=Nr(h)),i=o[h]+s;var m=l?(t[f]||[])[h]:t[i];if(!m){d=!1;continue}d=Une(e,m,f,h,n,t,d)}}me(e,146)}function zne(e,t){!t||!t["!merges"]||(me(e,177,One(t["!merges"].length)),t["!merges"].forEach(function(r){me(e,176,Tne(r))}),me(e,178))}function Hne(e,t){!t||!t["!cols"]||(me(e,390),t["!cols"].forEach(function(r,n){r&&me(e,60,Cne(n,r))}),me(e,391))}function qne(e,t){!t||!t["!ref"]||(me(e,648),me(e,649,Fne(Pt(t["!ref"]))),me(e,650))}function Gne(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=gt(r,-1,n[1].Target.replace(/#.*$/,""),it.HLINK);me(e,494,jne(n,a))}}),delete t["!links"]}function Vne(e,t,r,n){if(t["!comments"].length>0){var a=gt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",it.VML);me(e,551,Qg("rId"+a)),t["!legacy"]=a}}function Kne(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Ht(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=hn(i);o.s.r==o.e.r&&(o.e.r=hn(t["!ref"]).e.r,i=Ht(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),me(e,161,Zo(Pt(i))),me(e,162)}}function Yne(e,t,r){me(e,133),me(e,137,$ne(t,r)),me(e,138),me(e,134)}function Xne(e,t){t["!protect"]&&me(e,535,Rne(t["!protect"]))}function Jne(e,t,r,n){var a=Vr(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var l=Pt(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],me(a,129),(r.vbaraw||s["!outline"])&&me(a,147,Hre(o,s["!outline"])),me(a,148,Ure(l)),Yne(a,s,r.Workbook),Hne(a,s),Wne(a,s,e,t),Xne(a,s),Kne(a,s,r,e),zne(a,s),Gne(a,s,n),s["!margins"]&&me(a,476,Mne(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&qne(a,s),Vne(a,s,e,n),me(a,130),a.end()}function Zne(e,t){e.l+=10;var r=Pr(e);return{name:r}}var Qne=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function eae(e){return!e.Workbook||!e.Workbook.WBProps?"false":kZ(e.Workbook.WBProps.date1904)?"true":"false"}var tae="][*?/\\".split("");function FO(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return tae.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function rae(e,t,r){e.forEach(function(n,a){FO(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function nae(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];rae(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Tre(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function RO(e){var t=[qt];t[t.length]=ye("workbook",null,{xmlns:Xo[0],"xmlns:r":ar.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Qne.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ye("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:vt(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=ye("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=ye("definedName",vt(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function aae(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=_p(e),r.name=Pr(e),r}function iae(e,t){return t||(t=oe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Qg(e.strRelID,t),sr(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function sae(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Pr(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function oae(e,t){t||(t=oe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),XT(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function lae(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=eQ(e),s=yre(e,0,r),o=Zg(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function cae(e,t){me(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};me(e,156,iae(a))}me(e,144)}function uae(e,t){t||(t=oe(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return sr("SheetJS",t),sr(Yf.version,t),sr(Yf.version,t),sr("7262",t),t.length>t.l?t.slice(0,t.l):t}function fae(e,t){t||(t=oe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function dae(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(me(e,135),me(e,158,fae(a)),me(e,136))}}function hae(e,t){var r=Vr();return me(r,131),me(r,128,uae()),me(r,153,oae(e.Workbook&&e.Workbook.WBProps||null)),dae(r,e),cae(r,e),me(r,132),r.end()}function mae(e,t,r){return(t.slice(-4)===".bin"?hae:RO)(e)}function pae(e,t,r,n,a){return(t.slice(-4)===".bin"?Jne:IO)(e,r,n,a)}function gae(e,t,r){return(t.slice(-4)===".bin"?Mee:bO)(e,r)}function vae(e,t,r){return(t.slice(-4)===".bin"?oee:gO)(e,r)}function xae(e,t,r){return(t.slice(-4)===".bin"?Xee:TO)(e)}function yae(e){return(e.slice(-4)===".bin"?Wee:SO)()}function bae(e,t){var r=[];return e.Props&&r.push(gQ(e.Props,t)),e.Custprops&&r.push(vQ(e.Props,e.Custprops)),r.join("")}function wae(){return""}function _ae(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(ye("NumberFormat",null,{"ss:Format":vt(Rt[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(ye("Style",i.join(""),s))}),ye("Styles",r.join(""))}function LO(e){return ye("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+nv(e.Ref,{r:0,c:0})})}function Sae(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(LO(a)))}return ye("Names",r.join(""))}function Eae(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(LO(o)))}return i.join("")}function Tae(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(ye("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(ye("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(ye("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(ye("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(hr("ProtectContents","True")),e["!protect"].objects&&a.push(hr("ProtectObjects","True")),e["!protect"].scenarios&&a.push(hr("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(hr("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(hr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":ye("WorksheetOptions",a.join(""),{xmlns:cn.x})}function Oae(e){return e.map(function(t){var r=PZ(t.t||""),n=ye("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ye("Comment",n,{"ss:Author":t.a})}).join("")}function Aae(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+vt(nv(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=ir(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=vt(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=vt(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],f=0;f!=c.length;++f)c[f].s.c!=s.c||c[f].s.r!=s.r||(c[f].e.c>c[f].s.c&&(o["ss:MergeAcross"]=c[f].e.c-c[f].s.c),c[f].e.r>c[f].s.r&&(o["ss:MergeDown"]=c[f].e.r-c[f].s.r));var d="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":d="Number",h=String(e.v);break;case"b":d="Boolean",h=e.v?"1":"0";break;case"e":d="Error",h=Qc[e.v];break;case"d":d="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Rt[14]);break;case"s":d="String",h=NZ(e.v||"");break}var m=xi(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=s.c+1;var g=e.v!=null?h:"",p=e.t=="z"?"":'<Data ss:Type="'+d+'">'+g+"</Data>";return(e.c||[]).length>0&&(p+=Oae(e.c)),ye("Cell",p,o)}function jae(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=yO(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Nae(e,t,r,n){if(!e["!ref"])return"";var a=Pt(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(v,b){tv(v);var w=!!v.width,x=ph(b,v),_={"ss:Index":b+1};w&&(_["ss:Width"]=ad(x.width)),v.hidden&&(_["ss:Hidden"]="1"),o.push(ye("Column",null,_))});for(var l=Array.isArray(e),c=a.s.r;c<=a.e.r;++c){for(var f=[jae(c,(e["!rows"]||[])[c])],d=a.s.c;d<=a.e.c;++d){var h=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>d)&&!(i[s].s.r>c)&&!(i[s].e.c<d)&&!(i[s].e.r<c)){(i[s].s.c!=d||i[s].s.r!=c)&&(h=!0);break}if(!h){var m={r:c,c:d},g=xt(m),p=l?(e[c]||[])[d]:e[g];f.push(Aae(p,g,e,t,r,n,m))}}f.push("</Row>"),f.length>2&&o.push(f.join(""))}return o.join("")}function Pae(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?Eae(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?Nae(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(Tae(i,t,e,r)),n.join("")}function kae(e,t){t||(t={}),e.SSF||(e.SSF=Yr(Rt)),e.SSF&&(uh(),ch(e.SSF),t.revssf=fh(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],xi(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(bae(e,t)),r.push(wae()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ye("Worksheet",Pae(n,t,e),{"ss:Name":vt(e.SheetNames[n])}));return r[2]=_ae(e,t),r[3]=Sae(e),qt+ye("Workbook",r.join(""),{xmlns:cn.ss,"xmlns:o":cn.o,"xmlns:x":cn.x,"xmlns:ss":cn.ss,"xmlns:dt":cn.dt,"xmlns:html":cn.html})}var b0={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Cae(e,t){var r=[],n=[],a=[],i=0,s,o=Jb(uw,"n"),l=Jb(fw,"n");if(e.Props)for(s=gr(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=gr(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var c=[];for(i=0;i<a.length;++i)cO.indexOf(a[i][0])>-1||sO.indexOf(a[i][0])>-1||a[i][1]!=null&&c.push(a[i]);n.length&&wt.utils.cfb_add(t,"/SummaryInformation",gw(n,b0.SI,l,fw)),(r.length||c.length)&&wt.utils.cfb_add(t,"/DocumentSummaryInformation",gw(r,b0.DSI,o,uw,c.length?c:null,b0.UDI))}function Dae(e,t){var r=t||{},n=wt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return wt.utils.cfb_add(n,a,BO(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Cae(e,n),r.biff==8&&e.vbaraw&&Jee(n,wt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Mae={0:{f:Fre},1:{f:qre},2:{f:fne},3:{f:Qre},4:{f:Yre},5:{f:one},6:{f:gne},7:{f:nne},8:{f:Sne},9:{f:_ne},10:{f:bne},11:{f:wne},12:{f:Vre},13:{f:hne},14:{f:tne},15:{f:Jre},16:{f:cne},17:{f:xne},18:{f:ine},19:{f:Jg},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:lae},40:{},42:{},43:{f:gee},44:{f:mee},45:{f:yee},46:{f:wee},47:{f:bee},48:{},49:{f:VZ},50:{},51:{f:Fee},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:KQ},62:{f:pne},63:{f:zee},64:{f:Lne},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:oa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Ine},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:zre},148:{f:Bre,p:16},151:{f:Nne},152:{},153:{f:sae},154:{},155:{},156:{f:aae},157:{},158:{},159:{T:1,f:aee},160:{T:-1},161:{T:1,f:xs},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Ene},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Iee},336:{T:-1},337:{f:Bee,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:_p},357:{},358:{},359:{},360:{T:1},361:{},362:{f:WQ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Pne},427:{f:kne},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Dne},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Wre},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Ane},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:_p},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Kee},633:{T:1},634:{T:-1},635:{T:1,f:Gee},636:{T:-1},637:{f:JZ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Zne},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Bne},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function be(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&Kg(r)&&e.push(r)}}function Iae(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return be(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var f=e.next(4);for(f.write_shift(2,i),f.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<a;){for(f=e.next(4),f.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;f.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}function tu(e,t,r){return e||(e=oe(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function $ae(e,t,r,n){var a=oe(9);return tu(a,e,t),fO(r,n||"b",a),a}function Fae(e,t,r){var n=oe(8+2*r.length);return tu(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Rae(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Kr(Br(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?be(e,2,ZQ(r,n,a)):be(e,3,JQ(r,n,a));return;case"b":case"e":be(e,5,$ae(r,n,t.v,t.t));return;case"s":case"str":be(e,4,Fae(r,n,(t.v||"").slice(0,255)));return}be(e,1,tu(null,r,n))}function Lae(e,t,r,n){var a=Array.isArray(t),i=Pt(t["!ref"]||"A1"),s,o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=Ht(i)}for(var c=i.s.r;c<=i.e.r;++c){o=pr(c);for(var f=i.s.c;f<=i.e.c;++f){c===i.s.r&&(l[f]=Nr(f)),s=l[f]+o;var d=a?(t[c]||[])[f]:t[s];d&&Rae(e,d,c,f)}}}function Bae(e,t){for(var r=t||{},n=Vr(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return be(n,r.biff==4?1033:r.biff==3?521:9,ev(e,16,r)),Lae(n,e.Sheets[e.SheetNames[a]],a,r),be(n,10),n.end()}function Uae(e,t,r){be(e,49,MQ({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function Wae(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&be(e,1054,FQ(a,t[a],r))})}function zae(e,t){var r=oe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),be(e,2151,r),r=oe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),mO(Pt(t["!ref"]||"A1"),r),r.write_shift(4,4),be(e,2152,r)}function Hae(e,t){for(var r=0;r<16;++r)be(e,224,xw({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){be(e,224,xw(n,0,t))})}function qae(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];be(e,440,qQ(n)),n[1].Tooltip&&be(e,2048,GQ(n))}delete t["!links"]}function Gae(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&be(e,125,YQ(ph(a,n),a))})}}function Vae(e,t,r,n,a){var i=16+xi(a.cellXfs,t,a);if(t.v==null&&!t.bf){be(e,513,ss(r,n,i));return}if(t.bf)be(e,6,vre(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?Kr(Br(t.v)):t.v;be(e,515,UQ(r,n,s,i));break;case"b":case"e":be(e,517,BQ(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=iv(a.Strings,t.v,a.revStrings);be(e,253,IQ(r,n,o,i))}else be(e,516,$Q(r,n,(t.v||"").slice(0,255),i,a));break;default:be(e,513,ss(r,n,i))}}function Kae(e,t,r){var n=Vr(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},l=Array.isArray(i),c=t.biff==8,f,d="",h=[],m=Pt(i["!ref"]||"A1"),g=c?65536:16384;if(m.e.c>255||m.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,g-1)}be(n,2057,ev(r,16,t)),be(n,13,bn(1)),be(n,12,bn(100)),be(n,15,Fr(!0)),be(n,17,Fr(!1)),be(n,16,is(.001)),be(n,95,Fr(!0)),be(n,42,Fr(!1)),be(n,43,Fr(!1)),be(n,130,bn(1)),be(n,128,LQ()),be(n,131,Fr(!1)),be(n,132,Fr(!1)),c&&Gae(n,i["!cols"]),be(n,512,RQ(m,t)),c&&(i["!links"]=[]);for(var p=m.s.r;p<=m.e.r;++p){d=pr(p);for(var v=m.s.c;v<=m.e.c;++v){p===m.s.r&&(h[v]=Nr(v)),f=h[v]+d;var b=l?(i[p]||[])[v]:i[f];b&&(Vae(n,b,p,v,t),c&&b.l&&i["!links"].push([f,b.l]))}}var w=o.CodeName||o.name||a;return c&&be(n,574,DQ((s.Views||[])[0])),c&&(i["!merges"]||[]).length&&be(n,229,HQ(i["!merges"])),c&&qae(n,i),be(n,442,hO(w)),c&&zae(n,i),be(n,10),n.end()}function Yae(e,t,r){var n=Vr(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,l=r.biff==5;if(be(n,2057,ev(e,5,r)),r.bookType=="xla"&&be(n,135),be(n,225,o?bn(1200):null),be(n,193,bQ(2)),l&&be(n,191),l&&be(n,192),be(n,226),be(n,92,NQ("SheetJS",r)),be(n,66,bn(o?1200:1252)),o&&be(n,353,bn(0)),o&&be(n,448),be(n,317,XQ(e.SheetNames.length)),o&&e.vbaraw&&be(n,211),o&&e.vbaraw){var c=s.CodeName||"ThisWorkbook";be(n,442,hO(c))}be(n,156,bn(17)),be(n,25,Fr(!1)),be(n,18,Fr(!1)),be(n,19,bn(0)),o&&be(n,431,Fr(!1)),o&&be(n,444,bn(0)),be(n,61,CQ()),be(n,64,Fr(!1)),be(n,141,bn(0)),be(n,34,Fr(eae(e)=="true")),be(n,14,Fr(!0)),o&&be(n,439,Fr(!1)),be(n,218,bn(0)),Uae(n,e,r),Wae(n,e.SSF,r),Hae(n,r),o&&be(n,352,Fr(!1));var f=n.end(),d=Vr();o&&be(d,140,VQ()),o&&r.Strings&&Iae(d,252,kQ(r.Strings)),be(d,10);var h=d.end(),m=Vr(),g=0,p=0;for(p=0;p<e.SheetNames.length;++p)g+=(o?12:11)+(o?2:1)*e.SheetNames[p].length;var v=f.length+g+h.length;for(p=0;p<e.SheetNames.length;++p){var b=i[p]||{};be(m,133,PQ({pos:v,hs:b.Hidden||0,dt:0,name:e.SheetNames[p]},r)),v+=t[p].length}var w=m.end();if(g!=w.length)throw new Error("BS8 "+g+" != "+w.length);var x=[];return f.length&&x.push(f),w.length&&x.push(w),h.length&&x.push(h),dr(x)}function Xae(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Yr(Rt)),e&&e.SSF&&(uh(),ch(e.SSF),r.revssf=fh(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,sv(r),r.cellXfs=[],xi(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Kae(a,r,e);return n.unshift(Yae(e,n,r)),dr(n)}function BO(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=hn(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Xae(e,t);case 4:case 3:case 2:return Bae(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Jae(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var f=xt({r,c:s}),d=n.dense?(e[r]||[])[s]:e[f],h=d&&d.v!=null&&(d.h||jZ(d.w||(Ma(d),d.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":d&&(m["data-t"]=d&&d.t||"z",d.v!=null&&(m["data-v"]=d.v),d.z!=null&&(m["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+f,i.push(ye("td",h,m))}}var g="<tr>";return g+i.join("")+"</tr>"}var Zae='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Qae="</body></html>";function eie(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function UO(e,t){var r=t||{},n=r.header!=null?r.header:Zae,a=r.footer!=null?r.footer:Qae,i=[n],s=hn(e["!ref"]);r.dense=Array.isArray(e),i.push(eie(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(Jae(e,s,o,r));return i.push("</table>"+a),i.join("")}function WO(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?ir(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var f=hn(e["!ref"]);c.s.r=Math.min(c.s.r,f.s.r),c.s.c=Math.min(c.s.c,f.s.c),c.e.r=Math.max(c.e.r,f.e.r),c.e.c=Math.max(c.e.c,f.e.c),a==-1&&(c.e.r=a=f.e.r+1)}var d=[],h=0,m=e["!rows"]||(e["!rows"]=[]),g=0,p=0,v=0,b=0,w=0,x=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&p<l;++g){var _=o[g];if(Tw(_)){if(n.display)continue;m[p]={hidden:!0}}var y=_.children;for(v=b=0;v<y.length;++v){var E=y[v];if(!(n.display&&Tw(E))){var S=E.hasAttribute("data-v")?E.getAttribute("data-v"):E.hasAttribute("v")?E.getAttribute("v"):CZ(E.innerHTML),A=E.getAttribute("data-z")||E.getAttribute("z");for(h=0;h<d.length;++h){var T=d[h];T.s.c==b+i&&T.s.r<p+a&&p+a<=T.e.r&&(b=T.e.c+1-i,h=-1)}x=+E.getAttribute("colspan")||1,((w=+E.getAttribute("rowspan")||1)>1||x>1)&&d.push({s:{r:p+a,c:b+i},e:{r:p+a+(w||1)-1,c:b+i+(x||1)-1}});var N={t:"s",v:S},j=E.getAttribute("data-t")||E.getAttribute("t")||"";S!=null&&(S.length==0?N.t=j||"z":n.raw||S.trim().length==0||j=="s"||(S==="TRUE"?N={t:"b",v:!0}:S==="FALSE"?N={t:"b",v:!1}:isNaN(ja(S))?isNaN(Cc(S).getDate())||(N={t:"d",v:Br(S)},n.cellDates||(N={t:"n",v:Kr(N.v)}),N.z=n.dateNF||Rt[14]):N={t:"n",v:ja(S)})),N.z===void 0&&A!=null&&(N.z=A);var D="",L=E.getElementsByTagName("A");if(L&&L.length)for(var q=0;q<L.length&&!(L[q].hasAttribute("href")&&(D=L[q].getAttribute("href"),D.charAt(0)!="#"));++q);D&&D.charAt(0)!="#"&&(N.l={Target:D}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][b+i]=N):e[xt({c:b+i,r:p+a})]=N,c.e.c<b+i&&(c.e.c=b+i),b+=x}}++p}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,p-1+a),e["!ref"]=Ht(c),p>=l&&(e["!fullref"]=Ht((c.e.r=o.length-g+p-1+a,c))),e}function zO(e,t){var r=t||{},n=r.dense?[]:{};return WO(n,e,t)}function tie(e,t){return ms(zO(e,t),t)}function Tw(e){var t="",r=rie(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function rie(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var nie=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Mc({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return qt+t}}(),Ow=function(){var e=function(i){return vt(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var l=[];l.push('      <table:table table:name="'+vt(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,f=0,d=hn(i["!ref"]||"A1"),h=i["!merges"]||[],m=0,g=Array.isArray(i);if(i["!cols"])for(f=0;f<=d.e.c;++f)l.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var p="",v=i["!rows"]||[];for(c=0;c<d.s.r;++c)p=v[c]?' table:style-name="ro'+v[c].ods+'"':"",l.push("        <table:table-row"+p+`></table:table-row>
`);for(;c<=d.e.r;++c){for(p=v[c]?' table:style-name="ro'+v[c].ods+'"':"",l.push("        <table:table-row"+p+`>
`),f=0;f<d.s.c;++f)l.push(t);for(;f<=d.e.c;++f){var b=!1,w={},x="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>f)&&!(h[m].s.r>c)&&!(h[m].e.c<f)&&!(h[m].e.r<c)){(h[m].s.c!=f||h[m].s.r!=c)&&(b=!0),w["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,w["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(b){l.push(r);continue}var _=xt({r:c,c:f}),y=g?(i[c]||[])[f]:i[_];if(y&&y.f&&(w["table:formula"]=vt(Sre(y.f)),y.F&&y.F.slice(0,_.length)==_)){var E=hn(y.F);w["table:number-matrix-columns-spanned"]=E.e.c-E.s.c+1,w["table:number-matrix-rows-spanned"]=E.e.r-E.s.r+1}if(!y){l.push(t);continue}switch(y.t){case"b":x=y.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=y.v?"true":"false";break;case"n":x=y.w||String(y.v||0),w["office:value-type"]="float",w["office:value"]=y.v||0;break;case"s":case"str":x=y.v==null?"":y.v,w["office:value-type"]="string";break;case"d":x=y.w||Br(y.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Br(y.v).toISOString(),w["table:style-name"]="ce1";break;default:l.push(t);continue}var S=e(x);if(y.l&&y.l.Target){var A=y.l.Target;A=A.charAt(0)=="#"?"#"+Ere(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),S=ye("text:a",S,{"xlink:href":A.replace(/&/g,"&amp;")})}l.push("          "+ye("table:table-cell",ye("text:p",S,{}),w)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var f=0;f<c["!cols"].length;++f)if(c["!cols"][f]){var d=c["!cols"][f];if(d.width==null&&d.wpx==null&&d.wch==null)continue;tv(d),d.ods=o;var h=c["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var f=0;f<c["!rows"].length;++f)if(c["!rows"][f]){c["!rows"][f].ods=l;var d=c["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var l=[qt],c=Mc({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Mc({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+f+`>
`),l.push(aO().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),a(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var d=0;d!=s.SheetNames.length;++d)l.push(n(s.Sheets[s.SheetNames[d]],s,d));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function HO(e,t){if(t.bookType=="fods")return Ow(e,t);var r=Hg(),n="",a=[],i=[];return n="mimetype",Qe(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Qe(r,n,Ow(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Qe(r,n,nie(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Qe(r,n,qt+aO()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Qe(r,n,pQ(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Qe(r,n,hQ(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function od(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function aie(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Rn(Dc(e))}function iie(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function di(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function sie(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function Ic(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function mt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Qs(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Yt(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Ic(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Ic(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function cr(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(mt(n*8+a.type)),a.type==2&&t.push(mt(a.data.length)),t.push(a.data))})}),di(t)}function kn(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Ic(e,n),i=Yt(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:Qs(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=Yt(o.data),c=Qs(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=Qs(i[3][0].data)>>>0>0),r.push(s)}return r}function Is(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:mt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:mt(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:mt(s.data.length)}],n[2].push({data:cr(s.meta),type:2})});var i=cr(n);t.push(mt(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),di(t)}function oie(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Ic(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[di(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var f=di(a);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function Cn(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(oie(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return di(t)}function $s(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=mt(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return di(t)}function w0(e,t){var r=new Uint8Array(32),n=od(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,sie(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function _0(e,t){var r=new Uint8Array(32),n=od(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function qa(e){var t=Yt(e);return Ic(t[1][0].data)}function lie(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&Qs(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=od(e[7][0].data),f=0,d=[],h=od(e[4][0].data),m=0,g=[],p=0;p<t.length;++p){if(t[p]==null){c.setUint16(p*2,65535,!0),h.setUint16(p*2,65535);continue}c.setUint16(p*2,f,!0),h.setUint16(p*2,m,!0);var v,b;switch(typeof t[p]){case"string":v=w0({t:"s",v:t[p]},r),b=_0({t:"s",v:t[p]},r);break;case"number":v=w0({t:"n",v:t[p]},r),b=_0({t:"n",v:t[p]},r);break;case"boolean":v=w0({t:"b",v:t[p]},r),b=_0({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}d.push(v),f+=v.length,g.push(b),m+=b.length,++l}for(e[2][0].data=mt(l);p<e[7][0].data.length/2;++p)c.setUint16(p*2,65535,!0),h.setUint16(p*2,65535,!0);return e[6][0].data=di(d),e[3][0].data=di(g),l}function cie(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=hn(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Ht(n)));var i=ld(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(z){return z.forEach(function(W){typeof W=="string"&&s.push(W)})});var o={},l=[],c=wt.read(t.numbers,{type:"base64"});c.FileIndex.map(function(z,W){return[z,c.FullPaths[W]]}).forEach(function(z){var W=z[0],I=z[1];if(W.type==2&&W.name.match(/\.iwa/)){var ee=W.content,_e=Cn(ee),Ee=kn(_e);Ee.forEach(function(re){l.push(re.id),o[re.id]={deps:[],location:I,type:Qs(re.messages[0].meta[1][0].data)}})}}),l.sort(function(z,W){return z-W});var f=l.filter(function(z){return z>1}).map(function(z){return[z,mt(z)]});c.FileIndex.map(function(z,W){return[z,c.FullPaths[W]]}).forEach(function(z){var W=z[0];if(z[1],!!W.name.match(/\.iwa/)){var I=kn(Cn(W.content));I.forEach(function(ee){ee.messages.forEach(function(_e){f.forEach(function(Ee){ee.messages.some(function(re){return Qs(re.meta[1][0].data)!=11006&&iie(re.data,Ee[1])})&&o[Ee[0]].deps.push(ee.id)})})})}});for(var d=wt.find(c,o[1].location),h=kn(Cn(d.content)),m,g=0;g<h.length;++g){var p=h[g];p.id==1&&(m=p)}var v=qa(Yt(m.messages[0].data)[1][0].data);for(d=wt.find(c,o[v].location),h=kn(Cn(d.content)),g=0;g<h.length;++g)p=h[g],p.id==v&&(m=p);for(v=qa(Yt(m.messages[0].data)[2][0].data),d=wt.find(c,o[v].location),h=kn(Cn(d.content)),g=0;g<h.length;++g)p=h[g],p.id==v&&(m=p);for(v=qa(Yt(m.messages[0].data)[2][0].data),d=wt.find(c,o[v].location),h=kn(Cn(d.content)),g=0;g<h.length;++g)p=h[g],p.id==v&&(m=p);var b=Yt(m.messages[0].data);{b[6][0].data=mt(n.e.r+1),b[7][0].data=mt(n.e.c+1);var w=qa(b[46][0].data),x=wt.find(c,o[w].location),_=kn(Cn(x.content));{for(var y=0;y<_.length&&_[y].id!=w;++y);if(_[y].id!=w)throw"Bad ColumnRowUIDMapArchive";var E=Yt(_[y].messages[0].data);E[1]=[],E[2]=[],E[3]=[];for(var S=0;S<=n.e.c;++S){var A=[];A[1]=A[2]=[{type:0,data:mt(S+420690)}],E[1].push({type:2,data:cr(A)}),E[2].push({type:0,data:mt(S)}),E[3].push({type:0,data:mt(S)})}E[4]=[],E[5]=[],E[6]=[];for(var T=0;T<=n.e.r;++T)A=[],A[1]=A[2]=[{type:0,data:mt(T+726270)}],E[4].push({type:2,data:cr(A)}),E[5].push({type:0,data:mt(T)}),E[6].push({type:0,data:mt(T)});_[y].messages[0].data=cr(E)}x.content=$s(Is(_)),x.size=x.content.length,delete b[46];var N=Yt(b[4][0].data);{N[7][0].data=mt(n.e.r+1);var j=Yt(N[1][0].data),D=qa(j[2][0].data);x=wt.find(c,o[D].location),_=kn(Cn(x.content));{if(_[0].id!=D)throw"Bad HeaderStorageBucket";var L=Yt(_[0].messages[0].data);for(T=0;T<i.length;++T){var q=Yt(L[2][0].data);q[1][0].data=mt(T),q[4][0].data=mt(i[T].length),L[2][T]={type:L[2][0].type,data:cr(q)}}_[0].messages[0].data=cr(L)}x.content=$s(Is(_)),x.size=x.content.length;var H=qa(N[2][0].data);x=wt.find(c,o[H].location),_=kn(Cn(x.content));{if(_[0].id!=H)throw"Bad HeaderStorageBucket";for(L=Yt(_[0].messages[0].data),S=0;S<=n.e.c;++S)q=Yt(L[2][0].data),q[1][0].data=mt(S),q[4][0].data=mt(n.e.r+1),L[2][S]={type:L[2][0].type,data:cr(q)};_[0].messages[0].data=cr(L)}x.content=$s(Is(_)),x.size=x.content.length;var K=qa(N[4][0].data);(function(){for(var z=wt.find(c,o[K].location),W=kn(Cn(z.content)),I,ee=0;ee<W.length;++ee){var _e=W[ee];_e.id==K&&(I=_e)}var Ee=Yt(I.messages[0].data);{Ee[3]=[];var re=[];s.forEach(function(ne,Le){re[1]=[{type:0,data:mt(Le)}],re[2]=[{type:0,data:mt(1)}],re[3]=[{type:2,data:aie(ne)}],Ee[3].push({type:2,data:cr(re)})})}I.messages[0].data=cr(Ee);var ce=Is(W),Se=$s(ce);z.content=Se,z.size=z.content.length})();var Q=Yt(N[3][0].data);{var fe=Q[1][0];delete Q[2];var se=Yt(fe.data);{var ve=qa(se[2][0].data);(function(){for(var z=wt.find(c,o[ve].location),W=kn(Cn(z.content)),I,ee=0;ee<W.length;++ee){var _e=W[ee];_e.id==ve&&(I=_e)}var Ee=Yt(I.messages[0].data);{delete Ee[6],delete Q[7];var re=new Uint8Array(Ee[5][0].data);Ee[5]=[];for(var ce=0,Se=0;Se<=n.e.r;++Se){var ne=Yt(re);ce+=lie(ne,i[Se],s),ne[1][0].data=mt(Se),Ee[5].push({data:cr(ne),type:2})}Ee[1]=[{type:0,data:mt(n.e.c+1)}],Ee[2]=[{type:0,data:mt(n.e.r+1)}],Ee[3]=[{type:0,data:mt(ce)}],Ee[4]=[{type:0,data:mt(n.e.r+1)}]}I.messages[0].data=cr(Ee);var Le=Is(W),je=$s(Le);z.content=je,z.size=z.content.length})()}fe.data=cr(se)}N[3][0].data=cr(Q)}b[4][0].data=cr(N)}m.messages[0].data=cr(b);var Oe=Is(h),M=$s(Oe);return d.content=M,d.size=d.content.length,c}function uie(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function sv(e){uie([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function fie(e,t){return t.bookType=="ods"?HO(e,t):t.bookType=="numbers"?cie(e,t):t.bookType=="xlsb"?die(e,t):hie(e,t)}function die(e,t){Hs=1024,e&&!e.SSF&&(e.SSF=Yr(Rt)),e&&e.SSF&&(uh(),ch(e.SSF),t.revssf=fh(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hl?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=OO.indexOf(t.bookType)>-1,a=tO();sv(t=t||{});var i=Hg(),s="",o=0;if(t.cellXfs=[],xi(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Qe(i,s,iO(e.Props,t)),a.coreprops.push(s),gt(t.rels,2,s,it.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,Qe(i,s,oO(e.Props)),a.extprops.push(s),gt(t.rels,3,s,it.EXT_PROPS),e.Custprops!==e.Props&&gr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Qe(i,s,lO(e.Custprops)),a.custprops.push(s),gt(t.rels,4,s,it.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},d=e.Sheets[e.SheetNames[o-1]],h=(d||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Qe(i,s,pae(o-1,s,t,e,f)),a.sheets.push(s),gt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,it.WS[0])}if(d){var m=d["!comments"],g=!1,p="";m&&m.length>0&&(p="xl/comments"+o+"."+r,Qe(i,p,xae(m,p)),a.comments.push(p),gt(f,-1,"../comments"+o+"."+r,it.CMNT),g=!0),d["!legacy"]&&g&&Qe(i,"xl/drawings/vmlDrawing"+o+".vml",EO(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&Qe(i,nO(s),Js(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Qe(i,s,vae(t.Strings,s,t)),a.strs.push(s),gt(t.wbrels,-1,"sharedStrings."+r,it.SST)),s="xl/workbook."+r,Qe(i,s,mae(e,s)),a.workbooks.push(s),gt(t.rels,1,s,it.WB),s="xl/theme/theme1.xml",Qe(i,s,_O(e.Themes,t)),a.themes.push(s),gt(t.wbrels,-1,"theme/theme1.xml",it.THEME),s="xl/styles."+r,Qe(i,s,gae(e,s,t)),a.styles.push(s),gt(t.wbrels,-1,"styles."+r,it.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Qe(i,s,e.vbaraw),a.vba.push(s),gt(t.wbrels,-1,"vbaProject.bin",it.VBA)),s="xl/metadata."+r,Qe(i,s,yae(s)),a.metadata.push(s),gt(t.wbrels,-1,"metadata."+r,it.XLMETA),Qe(i,"[Content_Types].xml",rO(a,t)),Qe(i,"_rels/.rels",Js(t.rels)),Qe(i,"xl/_rels/workbook."+r+".rels",Js(t.wbrels)),delete t.revssf,delete t.ssf,i}function hie(e,t){Hs=1024,e&&!e.SSF&&(e.SSF=Yr(Rt)),e&&e.SSF&&(uh(),ch(e.SSF),t.revssf=fh(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hl?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=OO.indexOf(t.bookType)>-1,a=tO();sv(t=t||{});var i=Hg(),s="",o=0;if(t.cellXfs=[],xi(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Qe(i,s,iO(e.Props,t)),a.coreprops.push(s),gt(t.rels,2,s,it.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,Qe(i,s,oO(e.Props)),a.extprops.push(s),gt(t.rels,3,s,it.EXT_PROPS),e.Custprops!==e.Props&&gr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Qe(i,s,lO(e.Custprops)),a.custprops.push(s),gt(t.rels,4,s,it.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Qe(i,s,IO(o-1,t,e,d)),a.sheets.push(s),gt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,it.WS[0])}if(h){var g=h["!comments"],p=!1,v="";if(g&&g.length>0){var b=!1;g.forEach(function(w){w[1].forEach(function(x){x.T==!0&&(b=!0)})}),b&&(v="xl/threadedComments/threadedComment"+o+"."+r,Qe(i,v,Hee(g,f,t)),a.threadedcomments.push(v),gt(d,-1,"../threadedComments/threadedComment"+o+"."+r,it.TCMNT)),v="xl/comments"+o+"."+r,Qe(i,v,TO(g)),a.comments.push(v),gt(d,-1,"../comments"+o+"."+r,it.CMNT),p=!0}h["!legacy"]&&p&&Qe(i,"xl/drawings/vmlDrawing"+o+".vml",EO(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&Qe(i,nO(s),Js(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Qe(i,s,gO(t.Strings,t)),a.strs.push(s),gt(t.wbrels,-1,"sharedStrings."+r,it.SST)),s="xl/workbook."+r,Qe(i,s,RO(e)),a.workbooks.push(s),gt(t.rels,1,s,it.WB),s="xl/theme/theme1.xml",Qe(i,s,_O(e.Themes,t)),a.themes.push(s),gt(t.wbrels,-1,"theme/theme1.xml",it.THEME),s="xl/styles."+r,Qe(i,s,bO(e,t)),a.styles.push(s),gt(t.wbrels,-1,"styles."+r,it.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Qe(i,s,e.vbaraw),a.vba.push(s),gt(t.wbrels,-1,"vbaProject.bin",it.VBA)),s="xl/metadata."+r,Qe(i,s,SO()),a.metadata.push(s),gt(t.wbrels,-1,"metadata."+r,it.XLMETA),f.length>1&&(s="xl/persons/person.xml",Qe(i,s,qee(f)),a.people.push(s),gt(t.wbrels,-1,"persons/person.xml",it.PEOPLE)),Qe(i,"[Content_Types].xml",rO(a,t)),Qe(i,"_rels/.rels",Js(t.rels)),Qe(i,"xl/_rels/workbook."+r+".rels",Js(t.wbrels)),delete t.revssf,delete t.ssf,i}function mie(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Da(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function qO(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Jc(t.file,wt.write(e,{type:lt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return wt.write(e,t)}function pie(e,t){var r=Yr(t||{}),n=fie(e,r);return gie(n,r)}function gie(e,t){var r={},n=lt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?wt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(lh(a))}return t.password&&typeof encrypt_agile<"u"?qO(encrypt_agile(a,t.password),t):t.type==="file"?Jc(t.file,a):t.type=="string"?Bl(a):a}function vie(e,t){var r=t||{},n=Dae(e,r);return qO(n,r)}function Xn(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return kc(Dc(n));case"binary":return Dc(n);case"string":return e;case"file":return Jc(t.file,n,"utf8");case"buffer":return lt?La(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Xn(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function xie(e,t){switch(t.type){case"base64":return kc(e);case"binary":return e;case"string":return e;case"file":return Jc(t.file,e,"binary");case"buffer":return lt?La(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Ru(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?kc(r):t.type=="string"?Bl(r):r;case"file":return Jc(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function GO(e,t){GJ(),nae(e);var r=Yr(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=GO(e,r);return r.type="array",lh(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Xn(kae(e,r),r);case"slk":case"sylk":return Xn(eee.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Xn(UO(e.Sheets[e.SheetNames[a]],r),r);case"txt":return xie(VO(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Xn(ov(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Xn(tee.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Ru(QQ.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Xn(ree.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Xn(cee.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Xn(pO.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Xn(HO(e,r),r);case"wk1":return Ru(yw.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Ru(yw.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Ru(BO(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),vie(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return pie(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function yie(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function bie(e,t,r){var n={};return n.type="file",n.file=t,yie(n),GO(e,n)}function wie(e,t,r,n,a,i,s,o){var l=pr(r),c=o.defval,f=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var m=t.s.c;m<=t.e.c;++m){var g=s?e[r][m]:e[n[m]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[m]!=null&&(h[i[m]]=c);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[m]!=null){if(p==null)if(g.t=="e"&&p===null)h[i[m]]=null;else if(c!==void 0)h[i[m]]=c;else if(f&&p===null)h[i[m]]=null;else continue;else h[i[m]]=f&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?p:Ma(g,p,o);p!=null&&(d=!1)}}return{row:h,isempty:d}}function ld(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},f=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof f){case"string":l=Pt(f);break;case"number":l=Pt(e["!ref"]),l.s.r=f;break;default:l=f}n>0&&(a=0);var d=pr(l.s.r),h=[],m=[],g=0,p=0,v=Array.isArray(e),b=l.s.r,w=0,x={};v&&!e[b]&&(e[b]=[]);var _=c.skipHidden&&e["!cols"]||[],y=c.skipHidden&&e["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(_[w]||{}).hidden)switch(h[w]=Nr(w),r=v?e[b][w]:e[h[w]+d],n){case 1:i[w]=w-l.s.c;break;case 2:i[w]=h[w];break;case 3:i[w]=c.header[w-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Ma(r,null,c),p=x[s]||0,!p)x[s]=1;else{do o=s+"_"+p++;while(x[o]);x[s]=p,x[o]=1}i[w]=o}for(b=l.s.r+a;b<=l.e.r;++b)if(!(y[b]||{}).hidden){var E=wie(e,l,b,h,n,i,v,c);(E.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(m[g++]=E.row)}return m.length=g,m}var Aw=/"/g;function _ie(e,t,r,n,a,i,s,o){for(var l=!0,c=[],f="",d=pr(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=o.dense?(e[r]||[])[h]:e[n[h]+d];if(m==null)f="";else if(m.v!=null){l=!1,f=""+(o.rawNumbers&&m.t=="n"?m.v:Ma(m,null,o));for(var g=0,p=0;g!==f.length;++g)if((p=f.charCodeAt(g))===a||p===i||p===34||o.forceQuotes){f='"'+f.replace(Aw,'""')+'"';break}f=="ID"&&(f='"ID"')}else m.f!=null&&!m.F?(l=!1,f="="+m.f,f.indexOf(",")>=0&&(f='"'+f.replace(Aw,'""')+'"')):f="";c.push(f)}return o.blankrows===!1&&l?null:c.join(s)}function ov(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Pt(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),f="",d=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(d[g]=Nr(g));for(var p=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(f=_ie(e,a,v,d,s,l,i,n),f!=null&&(n.strip&&(f=f.replace(c,"")),(f||n.blankrows!==!1)&&r.push((p++?o:"")+f)));return delete n.dense,r.join("")}function VO(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=ov(e,t);return r}function Sie(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Pt(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Nr(o);for(var f=a.s.r;f<=a.e.r;++f)for(i=pr(f),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[f]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function KO(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?ir(n.origin):n.origin;s=l.r,o=l.c}var c,f={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var d=Pt(i["!ref"]);f.e.c=Math.max(f.e.c,d.e.c),f.e.r=Math.max(f.e.r,d.e.r),s==-1&&(s=d.e.r+1,f.e.r=s+t.length-1+a)}else s==-1&&(s=0,f.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(p,v){gr(p).forEach(function(b){(m=h.indexOf(b))==-1&&(h[m=h.length]=b);var w=p[b],x="z",_="",y=xt({c:o+m,r:s+v+a});c=$c(i,y),w&&typeof w=="object"&&!(w instanceof Date)?i[y]=w:(typeof w=="number"?x="n":typeof w=="boolean"?x="b":typeof w=="string"?x="s":w instanceof Date?(x="d",n.cellDates||(x="n",w=Kr(w)),_=n.dateNF||Rt[14]):w===null&&n.nullError&&(x="e",w=0),c?(c.t=x,c.v=w,delete c.w,delete c.R,_&&(c.z=_)):i[y]=c={t:x,v:w},_&&(c.z=_))})}),f.e.c=Math.max(f.e.c,o+h.length-1);var g=pr(s);if(a)for(m=0;m<h.length;++m)i[Nr(m+o)+g]={t:"s",v:h[m]};return i["!ref"]=Ht(f),i}function Eie(e,t){return KO(null,e,t)}function $c(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ir(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?$c(e,xt(t)):$c(e,xt({r:t,c:r||0}))}function Tie(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Oie(){return{SheetNames:[],Sheets:{}}}function Aie(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(FO(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function jie(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Tie(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Nie(e,t){return e.z=t,e}function YO(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Pie(e,t,r){return YO(e,"#"+t,r)}function kie(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Cie(e,t,r,n){for(var a=typeof t!="string"?t:Pt(t),i=typeof t=="string"?t:Ht(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=$c(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var bl={encode_col:Nr,encode_row:pr,encode_cell:xt,encode_range:Ht,decode_col:Xg,decode_row:Yg,split_cell:GZ,decode_cell:ir,decode_range:hn,format_cell:Ma,sheet_add_aoa:YT,sheet_add_json:KO,sheet_add_dom:WO,aoa_to_sheet:Jo,json_to_sheet:Eie,table_to_sheet:zO,table_to_book:tie,sheet_to_csv:ov,sheet_to_txt:VO,sheet_to_json:ld,sheet_to_html:UO,sheet_to_formulae:Sie,sheet_to_row_object_array:ld,sheet_get_cell:$c,book_new:Oie,book_append_sheet:Aie,book_set_sheet_visibility:jie,cell_set_number_format:Nie,cell_set_hyperlink:YO,cell_set_internal_link:Pie,cell_add_comment:kie,sheet_set_array_formula:Cie,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},lv={exports:{}},ru={},gh={exports:{}},XO={};function JO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=JO(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function jw(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=JO(e))&&(n&&(n+=" "),n+=t);return n}const Die=Object.freeze(Object.defineProperty({__proto__:null,clsx:jw,default:jw},Symbol.toStringTag,{value:"Module"})),Mie=Jw(Die);var Lt={},ca={};Object.defineProperty(ca,"__esModule",{value:!0});ca.dontSetMe=Lie;ca.findInArray=Iie;ca.int=Rie;ca.isFunction=$ie;ca.isNum=Fie;function Iie(e,t){for(let r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function $ie(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Fie(e){return typeof e=="number"&&!isNaN(e)}function Rie(e){return parseInt(e,10)}function Lie(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.browserPrefixToKey=QO;ys.browserPrefixToStyle=Bie;ys.default=void 0;ys.getPrefix=ZO;const S0=["Moz","Webkit","O","ms"];function ZO(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const r=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!r||t in r)return"";for(let n=0;n<S0.length;n++)if(QO(t,S0[n])in r)return S0[n];return""}function QO(e,t){return t?"".concat(t).concat(Uie(e)):e}function Bie(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function Uie(e){let t="",r=!0;for(let n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):e[n]==="-"?r=!0:t+=e[n];return t}ys.default=ZO();Object.defineProperty(Lt,"__esModule",{value:!0});Lt.addClassName=rA;Lt.addEvent=Hie;Lt.addUserSelectStyles=tse;Lt.createCSSTransform=Jie;Lt.createSVGTransform=Zie;Lt.getTouch=Qie;Lt.getTouchIdentifier=ese;Lt.getTranslation=cv;Lt.innerHeight=Kie;Lt.innerWidth=Yie;Lt.matchesSelector=tA;Lt.matchesSelectorAndParentsTo=zie;Lt.offsetXYFromParent=Xie;Lt.outerHeight=Gie;Lt.outerWidth=Vie;Lt.removeClassName=nA;Lt.removeEvent=qie;Lt.removeUserSelectStyles=rse;var dn=ca,Nw=Wie(ys);function eA(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(eA=function(n){return n?r:t})(e)}function Wie(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=eA(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}let Lu="";function tA(e,t){return Lu||(Lu=(0,dn.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,dn.isFunction)(e[r])})),(0,dn.isFunction)(e[Lu])?e[Lu](t):!1}function zie(e,t,r){let n=e;do{if(tA(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function Hie(e,t,r,n){if(!e)return;const a={capture:!0,...n};e.addEventListener?e.addEventListener(t,r,a):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function qie(e,t,r,n){if(!e)return;const a={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,r,a):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}function Gie(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,dn.int)(r.borderTopWidth),t+=(0,dn.int)(r.borderBottomWidth),t}function Vie(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,dn.int)(r.borderLeftWidth),t+=(0,dn.int)(r.borderRightWidth),t}function Kie(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,dn.int)(r.paddingTop),t-=(0,dn.int)(r.paddingBottom),t}function Yie(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,dn.int)(r.paddingLeft),t-=(0,dn.int)(r.paddingRight),t}function Xie(e,t,r){const a=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-a.left)/r,s=(e.clientY+t.scrollTop-a.top)/r;return{x:i,y:s}}function Jie(e,t){const r=cv(e,t,"px");return{[(0,Nw.browserPrefixToKey)("transform",Nw.default)]:r}}function Zie(e,t){return cv(e,t,"")}function cv(e,t,r){let{x:n,y:a}=e,i="translate(".concat(n).concat(r,",").concat(a).concat(r,")");if(t){const s="".concat(typeof t.x=="string"?t.x:t.x+r),o="".concat(typeof t.y=="string"?t.y:t.y+r);i="translate(".concat(s,", ").concat(o,")")+i}return i}function Qie(e,t){return e.targetTouches&&(0,dn.findInArray)(e.targetTouches,r=>t===r.identifier)||e.changedTouches&&(0,dn.findInArray)(e.changedTouches,r=>t===r.identifier)}function ese(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function tse(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&rA(e.body,"react-draggable-transparent-selection")}function rse(e){if(e)try{if(e.body&&nA(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function rA(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function nA(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.canDragX=ise;ua.canDragY=sse;ua.createCoreData=lse;ua.createDraggableData=cse;ua.getBoundPosition=nse;ua.getControlPosition=ose;ua.snapToGrid=ase;var en=ca,qs=Lt;function nse(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:n}=e.props;n=typeof n=="string"?n:use(n);const a=uv(e);if(typeof n=="string"){const{ownerDocument:i}=a,s=i.defaultView;let o;if(n==="parent"?o=a.parentNode:o=i.querySelector(n),!(o instanceof s.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');const l=o,c=s.getComputedStyle(a),f=s.getComputedStyle(l);n={left:-a.offsetLeft+(0,en.int)(f.paddingLeft)+(0,en.int)(c.marginLeft),top:-a.offsetTop+(0,en.int)(f.paddingTop)+(0,en.int)(c.marginTop),right:(0,qs.innerWidth)(l)-(0,qs.outerWidth)(a)-a.offsetLeft+(0,en.int)(f.paddingRight)-(0,en.int)(c.marginRight),bottom:(0,qs.innerHeight)(l)-(0,qs.outerHeight)(a)-a.offsetTop+(0,en.int)(f.paddingBottom)-(0,en.int)(c.marginBottom)}}return(0,en.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,en.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,en.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,en.isNum)(n.top)&&(r=Math.max(r,n.top)),[t,r]}function ase(e,t,r){const n=Math.round(t/e[0])*e[0],a=Math.round(r/e[1])*e[1];return[n,a]}function ise(e){return e.props.axis==="both"||e.props.axis==="x"}function sse(e){return e.props.axis==="both"||e.props.axis==="y"}function ose(e,t,r){const n=typeof t=="number"?(0,qs.getTouch)(e,t):null;if(typeof t=="number"&&!n)return null;const a=uv(r),i=r.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,qs.offsetXYFromParent)(n||e,i,r.props.scale)}function lse(e,t,r){const n=!(0,en.isNum)(e.lastX),a=uv(e);return n?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:a,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}}function cse(e,t){const r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function use(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function uv(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var vh={},xh={};Object.defineProperty(xh,"__esModule",{value:!0});xh.default=fse;function fse(){}Object.defineProperty(vh,"__esModule",{value:!0});vh.default=void 0;var E0=hse(U),Wr=fv(Kc),dse=fv(Np),br=Lt,Ga=ua,T0=ca,wl=fv(xh);function fv(e){return e&&e.__esModule?e:{default:e}}function aA(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(aA=function(n){return n?r:t})(e)}function hse(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=aA(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function Ir(e,t,r){return t=mse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mse(e){var t=pse(e,"string");return typeof t=="symbol"?t:String(t)}function pse(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Dn={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Va=Dn.mouse,yh=class extends E0.Component{constructor(){super(...arguments),Ir(this,"dragging",!1),Ir(this,"lastX",NaN),Ir(this,"lastY",NaN),Ir(this,"touchIdentifier",null),Ir(this,"mounted",!1),Ir(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=r;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,br.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,br.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;t.type==="touchstart"&&t.preventDefault();const a=(0,br.getTouchIdentifier)(t);this.touchIdentifier=a;const i=(0,Ga.getControlPosition)(t,a,this);if(i==null)return;const{x:s,y:o}=i,l=(0,Ga.createCoreData)(this,s,o);(0,wl.default)("DraggableCore: handleDragStart: %j",l),(0,wl.default)("calling",this.props.onStart),!(this.props.onStart(t,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,br.addUserSelectStyles)(n),this.dragging=!0,this.lastX=s,this.lastY=o,(0,br.addEvent)(n,Va.move,this.handleDrag),(0,br.addEvent)(n,Va.stop,this.handleDragStop))}),Ir(this,"handleDrag",t=>{const r=(0,Ga.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:a}=r;if(Array.isArray(this.props.grid)){let o=n-this.lastX,l=a-this.lastY;if([o,l]=(0,Ga.snapToGrid)(this.props.grid,o,l),!o&&!l)return;n=this.lastX+o,a=this.lastY+l}const i=(0,Ga.createCoreData)(this,n,a);if((0,wl.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(t,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=n,this.lastY=a}),Ir(this,"handleDragStop",t=>{if(!this.dragging)return;const r=(0,Ga.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:a}=r;if(Array.isArray(this.props.grid)){let l=n-this.lastX||0,c=a-this.lastY||0;[l,c]=(0,Ga.snapToGrid)(this.props.grid,l,c),n=this.lastX+l,a=this.lastY+c}const i=(0,Ga.createCoreData)(this,n,a);if(this.props.onStop(t,i)===!1||this.mounted===!1)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,br.removeUserSelectStyles)(o.ownerDocument),(0,wl.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,wl.default)("DraggableCore: Removing handlers"),(0,br.removeEvent)(o.ownerDocument,Va.move,this.handleDrag),(0,br.removeEvent)(o.ownerDocument,Va.stop,this.handleDragStop))}),Ir(this,"onMouseDown",t=>(Va=Dn.mouse,this.handleDragStart(t))),Ir(this,"onMouseUp",t=>(Va=Dn.mouse,this.handleDragStop(t))),Ir(this,"onTouchStart",t=>(Va=Dn.touch,this.handleDragStart(t))),Ir(this,"onTouchEnd",t=>(Va=Dn.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,br.addEvent)(t,Dn.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:r}=t;(0,br.removeEvent)(r,Dn.mouse.move,this.handleDrag),(0,br.removeEvent)(r,Dn.touch.move,this.handleDrag),(0,br.removeEvent)(r,Dn.mouse.stop,this.handleDragStop),(0,br.removeEvent)(r,Dn.touch.stop,this.handleDragStop),(0,br.removeEvent)(t,Dn.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,br.removeUserSelectStyles)(r)}}findDOMNode(){var t,r;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(r=this.props)===null||r===void 0||(r=r.nodeRef)===null||r===void 0?void 0:r.current:dse.default.findDOMNode(this)}render(){return E0.cloneElement(E0.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};vh.default=yh;Ir(yh,"displayName","DraggableCore");Ir(yh,"propTypes",{allowAnyClick:Wr.default.bool,children:Wr.default.node.isRequired,disabled:Wr.default.bool,enableUserSelectHack:Wr.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Wr.default.arrayOf(Wr.default.number),handle:Wr.default.string,cancel:Wr.default.string,nodeRef:Wr.default.object,onStart:Wr.default.func,onDrag:Wr.default.func,onStop:Wr.default.func,onMouseDown:Wr.default.func,scale:Wr.default.number,className:T0.dontSetMe,style:T0.dontSetMe,transform:T0.dontSetMe});Ir(yh,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),e.default=void 0;var t=h(U),r=f(Kc),n=f(Np),a=f(Mie),i=Lt,s=ua,o=ca,l=f(vh),c=f(xh);function f(w){return w&&w.__esModule?w:{default:w}}function d(w){if(typeof WeakMap!="function")return null;var x=new WeakMap,_=new WeakMap;return(d=function(y){return y?_:x})(w)}function h(w,x){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var _=d(x);if(_&&_.has(w))return _.get(w);var y={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in w)if(S!=="default"&&Object.prototype.hasOwnProperty.call(w,S)){var A=E?Object.getOwnPropertyDescriptor(w,S):null;A&&(A.get||A.set)?Object.defineProperty(y,S,A):y[S]=w[S]}return y.default=w,_&&_.set(w,y),y}function m(){return m=Object.assign?Object.assign.bind():function(w){for(var x=1;x<arguments.length;x++){var _=arguments[x];for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(w[y]=_[y])}return w},m.apply(this,arguments)}function g(w,x,_){return x=p(x),x in w?Object.defineProperty(w,x,{value:_,enumerable:!0,configurable:!0,writable:!0}):w[x]=_,w}function p(w){var x=v(w,"string");return typeof x=="symbol"?x:String(x)}function v(w,x){if(typeof w!="object"||w===null)return w;var _=w[Symbol.toPrimitive];if(_!==void 0){var y=_.call(w,x||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(w)}class b extends t.Component{static getDerivedStateFromProps(x,_){let{position:y}=x,{prevPropsPosition:E}=_;return y&&(!E||y.x!==E.x||y.y!==E.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:y,prevPropsPosition:E}),{x:y.x,y:y.y,prevPropsPosition:{...y}}):null}constructor(x){super(x),g(this,"onDragStart",(_,y)=>{if((0,c.default)("Draggable: onDragStart: %j",y),this.props.onStart(_,(0,s.createDraggableData)(this,y))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(_,y)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",y);const E=(0,s.createDraggableData)(this,y),S={x:E.x,y:E.y,slackX:0,slackY:0};if(this.props.bounds){const{x:T,y:N}=S;S.x+=this.state.slackX,S.y+=this.state.slackY;const[j,D]=(0,s.getBoundPosition)(this,S.x,S.y);S.x=j,S.y=D,S.slackX=this.state.slackX+(T-S.x),S.slackY=this.state.slackY+(N-S.y),E.x=S.x,E.y=S.y,E.deltaX=S.x-this.state.x,E.deltaY=S.y-this.state.y}if(this.props.onDrag(_,E)===!1)return!1;this.setState(S)}),g(this,"onDragStop",(_,y)=>{if(!this.state.dragging||this.props.onStop(_,(0,s.createDraggableData)(this,y))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",y);const S={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:T,y:N}=this.props.position;S.x=T,S.y=N}this.setState(S)}),this.state={dragging:!1,dragged:!1,x:x.position?x.position.x:x.defaultPosition.x,y:x.position?x.position.y:x.defaultPosition.y,prevPropsPosition:{...x.position},slackX:0,slackY:0,isElementSVG:!1},x.position&&!(x.onDrag||x.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var x,_;return(x=(_=this.props)===null||_===void 0||(_=_.nodeRef)===null||_===void 0?void 0:_.current)!==null&&x!==void 0?x:n.default.findDOMNode(this)}render(){const{axis:x,bounds:_,children:y,defaultPosition:E,defaultClassName:S,defaultClassNameDragging:A,defaultClassNameDragged:T,position:N,positionOffset:j,scale:D,...L}=this.props;let q={},H=null;const Q=!!!N||this.state.dragging,fe=N||E,se={x:(0,s.canDragX)(this)&&Q?this.state.x:fe.x,y:(0,s.canDragY)(this)&&Q?this.state.y:fe.y};this.state.isElementSVG?H=(0,i.createSVGTransform)(se,j):q=(0,i.createCSSTransform)(se,j);const ve=(0,a.default)(y.props.className||"",S,{[A]:this.state.dragging,[T]:this.state.dragged});return t.createElement(l.default,m({},L,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(y),{className:ve,style:{...y.props.style,...q},transform:H}))}}e.default=b,g(b,"displayName","Draggable"),g(b,"propTypes",{...l.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),g(b,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(XO);const{default:iA,DraggableCore:gse}=XO;gh.exports=iA;gh.exports.default=iA;gh.exports.DraggableCore=gse;var vse=gh.exports,dv={};dv.__esModule=!0;dv.cloneElement=Sse;var xse=yse(U);function yse(e){return e&&e.__esModule?e:{default:e}}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){bse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bse(e,t,r){return t=wse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wse(e){var t=_se(e,"string");return typeof t=="symbol"?t:String(t)}function _se(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sse(e,t){return t.style&&e.props.style&&(t.style=kw(kw({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),xse.default.cloneElement(e,t)}var nu={};nu.__esModule=!0;nu.resizableProps=void 0;var Xe=Ese(Kc);function Ese(e){return e&&e.__esModule?e:{default:e}}var Tse={axis:Xe.default.oneOf(["both","x","y","none"]),className:Xe.default.string,children:Xe.default.element.isRequired,draggableOpts:Xe.default.shape({allowAnyClick:Xe.default.bool,cancel:Xe.default.string,children:Xe.default.node,disabled:Xe.default.bool,enableUserSelectHack:Xe.default.bool,offsetParent:Xe.default.node,grid:Xe.default.arrayOf(Xe.default.number),handle:Xe.default.string,nodeRef:Xe.default.object,onStart:Xe.default.func,onDrag:Xe.default.func,onStop:Xe.default.func,onMouseDown:Xe.default.func,scale:Xe.default.number}),height:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(a.axis==="both"||a.axis==="y"){var i;return(i=Xe.default.number).isRequired.apply(i,r)}return Xe.default.number.apply(Xe.default,r)},handle:Xe.default.oneOfType([Xe.default.node,Xe.default.func]),handleSize:Xe.default.arrayOf(Xe.default.number),lockAspectRatio:Xe.default.bool,maxConstraints:Xe.default.arrayOf(Xe.default.number),minConstraints:Xe.default.arrayOf(Xe.default.number),onResizeStop:Xe.default.func,onResizeStart:Xe.default.func,onResize:Xe.default.func,resizeHandles:Xe.default.arrayOf(Xe.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:Xe.default.number,width:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(a.axis==="both"||a.axis==="x"){var i;return(i=Xe.default.number).isRequired.apply(i,r)}return Xe.default.number.apply(Xe.default,r)}};nu.resizableProps=Tse;ru.__esModule=!0;ru.default=void 0;var _l=Pse(U),Ose=vse,Ase=dv,jse=nu,Nse=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function sA(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(sA=function(a){return a?r:t})(e)}function Pse(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=sA(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(this,arguments)}function kse(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){Cse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cse(e,t,r){return t=Dse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dse(e){var t=Mse(e,"string");return typeof t=="symbol"?t:String(t)}function Mse(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ise(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Tp(e,t)}function Tp(e,t){return Tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tp(e,t)}var hv=function(e){Ise(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i))||this,n.handleRefs={},n.lastHandleRect=null,n.slack=null,n}var r=t.prototype;return r.componentWillUnmount=function(){this.resetData()},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(a,i){var s=this.props,o=s.minConstraints,l=s.maxConstraints,c=s.lockAspectRatio;if(!o&&!l&&!c)return[a,i];if(c){var f=this.props.width/this.props.height,d=a-this.props.width,h=i-this.props.height;Math.abs(d)>Math.abs(h*f)?i=a/f:a=i*f}var m=a,g=i,p=this.slack||[0,0],v=p[0],b=p[1];return a+=v,i+=b,o&&(a=Math.max(o[0],a),i=Math.max(o[1],i)),l&&(a=Math.min(l[0],a),i=Math.min(l[1],i)),this.slack=[v+(m-a),b+(g-i)],[a,i]},r.resizeHandler=function(a,i){var s=this;return function(o,l){var c=l.node,f=l.deltaX,d=l.deltaY;a==="onResizeStart"&&s.resetData();var h=(s.props.axis==="both"||s.props.axis==="x")&&i!=="n"&&i!=="s",m=(s.props.axis==="both"||s.props.axis==="y")&&i!=="e"&&i!=="w";if(!(!h&&!m)){var g=i[0],p=i[i.length-1],v=c.getBoundingClientRect();if(s.lastHandleRect!=null){if(p==="w"){var b=v.left-s.lastHandleRect.left;f+=b}if(g==="n"){var w=v.top-s.lastHandleRect.top;d+=w}}s.lastHandleRect=v,p==="w"&&(f=-f),g==="n"&&(d=-d);var x=s.props.width+(h?f/s.props.transformScale:0),_=s.props.height+(m?d/s.props.transformScale:0),y=s.runConstraints(x,_);x=y[0],_=y[1];var E=x!==s.props.width||_!==s.props.height,S=typeof s.props[a]=="function"?s.props[a]:null,A=a==="onResize"&&!E;S&&!A&&(o.persist==null||o.persist(),S(o,{node:c,size:{width:x,height:_},handle:i})),a==="onResizeStop"&&s.resetData()}}},r.renderResizeHandle=function(a,i){var s=this.props.handle;if(!s)return _l.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+a,ref:i});if(typeof s=="function")return s(a,i);var o=typeof s.type=="string",l=O0({ref:i},o?{}:{handleAxis:a});return _l.cloneElement(s,l)},r.render=function(){var a=this,i=this.props,s=i.children,o=i.className,l=i.draggableOpts;i.width,i.height,i.handle,i.handleSize,i.lockAspectRatio,i.axis,i.minConstraints,i.maxConstraints,i.onResize,i.onResizeStop,i.onResizeStart;var c=i.resizeHandles;i.transformScale;var f=kse(i,Nse);return(0,Ase.cloneElement)(s,O0(O0({},f),{},{className:(o?o+" ":"")+"react-resizable",children:[].concat(s.props.children,c.map(function(d){var h,m=(h=a.handleRefs[d])!=null?h:a.handleRefs[d]=_l.createRef();return _l.createElement(Ose.DraggableCore,Ep({},l,{nodeRef:m,key:"resizableHandle-"+d,onStop:a.resizeHandler("onResizeStop",d),onStart:a.resizeHandler("onResizeStart",d),onDrag:a.resizeHandler("onResize",d)}),a.renderResizeHandle(d,m))}))}))},t}(_l.Component);ru.default=hv;hv.propTypes=jse.resizableProps;hv.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var bh={};bh.__esModule=!0;bh.default=void 0;var A0=Bse(U),$se=oA(Kc),Fse=oA(ru),Rse=nu,Lse=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function oA(e){return e&&e.__esModule?e:{default:e}}function lA(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(lA=function(a){return a?r:t})(e)}function Bse(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=lA(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Op.apply(this,arguments)}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){Use(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Use(e,t,r){return t=Wse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wse(e){var t=zse(e,"string");return typeof t=="symbol"?t:String(t)}function zse(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hse(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function qse(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ap(e,t)}function Ap(e,t){return Ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ap(e,t)}var cA=function(e){qse(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i))||this,n.state={width:n.props.width,height:n.props.height,propsWidth:n.props.width,propsHeight:n.props.height},n.onResize=function(o,l){var c=l.size;n.props.onResize?(o.persist==null||o.persist(),n.setState(c,function(){return n.props.onResize&&n.props.onResize(o,l)})):n.setState(c)},n}t.getDerivedStateFromProps=function(a,i){return i.propsWidth!==a.width||i.propsHeight!==a.height?{width:a.width,height:a.height,propsWidth:a.width,propsHeight:a.height}:null};var r=t.prototype;return r.render=function(){var a=this.props,i=a.handle,s=a.handleSize;a.onResize;var o=a.onResizeStart,l=a.onResizeStop,c=a.draggableOpts,f=a.minConstraints,d=a.maxConstraints,h=a.lockAspectRatio,m=a.axis;a.width,a.height;var g=a.resizeHandles,p=a.style,v=a.transformScale,b=Hse(a,Lse);return A0.createElement(Fse.default,{axis:m,draggableOpts:c,handle:i,handleSize:s,height:this.state.height,lockAspectRatio:h,maxConstraints:d,minConstraints:f,onResizeStart:o,onResize:this.onResize,onResizeStop:l,resizeHandles:g,transformScale:v,width:this.state.width},A0.createElement("div",Op({},b,{style:cd(cd({},p),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(A0.Component);bh.default=cA;cA.propTypes=cd(cd({},Rse.resizableProps),{},{children:$se.default.element});lv.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};lv.exports.Resizable=ru.default;lv.exports.ResizableBox=bh.default;const Gse=k.createContext({}),uA=!0;function Vse({baseColor:e,highlightColor:t,width:r,height:n,borderRadius:a,circle:i,direction:s,duration:o,enableAnimation:l=uA,customHighlightBackground:c}){const f={};return s==="rtl"&&(f["--animation-direction"]="reverse"),typeof o=="number"&&(f["--animation-duration"]=`${o}s`),l||(f["--pseudo-element-display"]="none"),(typeof r=="string"||typeof r=="number")&&(f.width=r),(typeof n=="string"||typeof n=="number")&&(f.height=n),(typeof a=="string"||typeof a=="number")&&(f.borderRadius=a),i&&(f.borderRadius="50%"),typeof e<"u"&&(f["--base-color"]=e),typeof t<"u"&&(f["--highlight-color"]=t),typeof c=="string"&&(f["--custom-highlight-background"]=c),f}function Ni({count:e=1,wrapper:t,className:r,containerClassName:n,containerTestId:a,circle:i=!1,style:s,...o}){var l,c,f;const d=k.useContext(Gse),h={...o};for(const[x,_]of Object.entries(o))typeof _>"u"&&delete h[x];const m={...d,...h,circle:i},g={...s,...Vse(m)};let p="react-loading-skeleton";r&&(p+=` ${r}`);const v=(l=m.inline)!==null&&l!==void 0?l:!1,b=[],w=Math.ceil(e);for(let x=0;x<w;x++){let _=g;if(w>e&&x===w-1){const E=(c=_.width)!==null&&c!==void 0?c:"100%",S=e%1,A=typeof E=="number"?E*S:`calc(${E} * ${S})`;_={..._,width:A}}const y=k.createElement("span",{className:p,style:_,key:x},"‌");v?b.push(y):b.push(k.createElement(k.Fragment,{key:x},y,k.createElement("br",null)))}return k.createElement("span",{className:n,"data-testid":a,"aria-live":"polite","aria-busy":(f=m.enableAnimation)!==null&&f!==void 0?f:uA},t?b.map((x,_)=>k.createElement(t,{key:_},x)):b)}function Kse({isOpen:e,onClose:t,item:r}){const[n,a]=U.useState("metrics"),[i,s]=U.useState(null),[o,l]=U.useState(!1),c=U.useCallback(async()=>{if(!(!r||r.type!=="ad"))try{l(!0);const{data:g,error:p}=await ze.from("facebook_config").select("*").single();if(p)throw p;if(!(g!=null&&g.access_token))throw new Error("Facebook configuration is missing");const w=`https://graph.facebook.com/v22.0/${r.id}/previews`,x=new URLSearchParams({access_token:g.access_token,ad_format:"DESKTOP_FEED_STANDARD"}),_=await fetch(`${w}?${x.toString()}`);if(!_.ok){const E=await _.text();throw new Error(`Facebook API error (${_.status}): ${E}`)}const y=await _.json();if(y.error)throw new Error(`Facebook API error: ${y.error.message}`);y.data&&y.data.length>0?s(y.data[0].body):s('<div class="p-4 text-gray-500">No hay vista previa disponible para este anuncio.</div>')}catch(g){console.error("Error fetching ad preview:",g),s('<div class="p-4 text-red-500">Error al cargar la vista previa. Por favor, inténtalo de nuevo.</div>')}finally{l(!1)}},[r]);if(U.useEffect(()=>{e&&n==="preview"&&!i&&(r==null?void 0:r.type)==="ad"&&c()},[e,n,i,c,r]),U.useEffect(()=>{e||(s(null),a("metrics"))},[e]),!e||!r)return null;const f=(g,p=!0)=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD",minimumFractionDigits:p?2:0,maximumFractionDigits:p?2:0}).format(g),d=r.dailyData.map(g=>({...g,profitArea:g.profit>=0?[g.spend,g.revenue]:[g.revenue,g.revenue],lossArea:g.profit<0?[g.revenue,g.spend]:[g.spend,g.spend],roasProfitArea:g.roas>=1?[1,g.roas]:[1,1],roasLossArea:g.roas<1?[g.roas,1]:[1,1]})),h=({active:g,payload:p,label:v})=>{if(!g||!p||!p.length)return null;const b=p[0].payload;return u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-gray-200 text-sm max-w-xs",children:[u.jsx("div",{className:"font-bold text-gray-900 mb-3 border-b pb-2",children:v}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:"🛒 Ventas:"}),u.jsx("span",{className:"font-bold text-blue-700",children:b.sales})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:"💰 Ingresos:"}),u.jsxs("span",{className:"font-bold text-emerald-600",children:["$",(b.revenue||0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:"📈 Gasto:"}),u.jsxs("span",{className:"font-bold text-red-600",children:["$",(b.spend||0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsxs("div",{className:"flex justify-between items-center border-t pt-2",children:[u.jsx("span",{className:"text-gray-600",children:"💸 Beneficio:"}),u.jsxs("span",{className:`font-bold ${b.profit>=0?"text-green-600":"text-red-600"}`,children:[b.profit>=0?"+":"","$",(b.profit||0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:"🎯 ROAS:"}),u.jsxs("span",{className:`font-bold px-2 py-1 rounded text-xs ${b.roas>=2?"bg-green-100 text-green-800":b.roas>=1.2?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[(b.roas||0).toFixed(2),"x"]})]}),b.sales>0&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:"🎪 CPA:"}),u.jsxs("span",{className:"font-medium text-purple-600",children:["$",((b.spend||0)/b.sales).toFixed(2)]})]}),b.sales>0&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:"💳 AOV:"}),u.jsxs("span",{className:"font-medium text-indigo-600",children:["$",((b.revenue||0)/b.sales).toFixed(2)]})]})]})]})},m=()=>{if(!r||r.dailyData.length===0)return"";const g=r.dailyData.map(b=>b.date).sort(),p=g[0],v=g[g.length-1];return p===v?p:`${p} - ${v}`};return r.dailyData.length>7,u.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:u.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-6xl w-full m-4 max-h-[90vh] overflow-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white p-4 border-b border-gray-200 flex justify-between items-center z-10",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center mb-1 text-sm",children:[r.type==="campaign"&&u.jsxs("span",{className:"font-medium text-indigo-600 flex items-center",children:[u.jsx(Lh,{className:"h-4 w-4 mr-1"}),r.name]}),r.type==="adset"&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500",children:r.parentName}),u.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),u.jsxs("span",{className:"font-medium text-indigo-600 flex items-center",children:[u.jsx(Lh,{className:"h-4 w-4 mr-1"}),r.name]})]}),r.type==="ad"&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 truncate max-w-[200px]",title:r.grandParentName,children:r.grandParentName}),u.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),u.jsx("span",{className:"text-gray-500 truncate max-w-[200px]",title:r.parentName,children:r.parentName}),u.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),u.jsxs("span",{className:"font-medium text-indigo-600 flex items-center",children:[u.jsx(Lh,{className:"h-4 w-4 mr-1"}),r.name]})]})]}),u.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center",children:[r.status==="ACTIVE"&&u.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 mr-2"}),r.status==="PAUSED"&&u.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500 mr-2"}),r.name]}),u.jsx("p",{className:"text-xs text-gray-500",children:r.id})]}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:u.jsx(C_,{className:"h-6 w-6"})})]}),u.jsx("div",{className:"border-b border-gray-200",children:u.jsxs("nav",{className:"flex -mb-px",children:[u.jsx("button",{onClick:()=>a("metrics"),className:`py-3 px-4 font-medium text-sm border-b-2 ${n==="metrics"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Métricas y Análisis"}),r.type==="ad"&&u.jsxs("button",{onClick:()=>a("preview"),className:`py-3 px-4 font-medium text-sm border-b-2 flex items-center gap-1 ${n==="preview"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u.jsx(j_,{className:"h-4 w-4"}),"Vista previa"]})]})}),n==="metrics"&&u.jsxs("div",{className:"p-4 sm:p-6",children:[u.jsxs("div",{className:"mb-6 flex items-center text-sm text-gray-600",children:[u.jsx(H0,{className:"mr-2 h-4 w-4"}),u.jsxs("span",{children:["Periodo: ",m()]})]}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[u.jsxs("div",{className:"text-indigo-700 text-xs font-medium mb-1 flex items-center",children:[u.jsx(Hu,{className:"h-3 w-3 mr-1"})," ROAS"]}),u.jsxs("div",{className:"text-xl font-bold text-indigo-900",children:[r.avgRoas.toFixed(2),"x"]})]}),u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[u.jsxs("div",{className:"text-blue-700 text-xs font-medium mb-1 flex items-center",children:[u.jsx(zu,{className:"h-3 w-3 mr-1"})," Gasto"]}),u.jsx("div",{className:"text-xl font-bold text-blue-900",children:f(r.totalSpend)})]}),u.jsxs("div",{className:"bg-violet-50 rounded-lg p-4",children:[u.jsxs("div",{className:"text-violet-700 text-xs font-medium mb-1 flex items-center",children:[u.jsx(Ui,{className:"h-3 w-3 mr-1"})," Ventas"]}),u.jsx("div",{className:"text-xl font-bold text-violet-900",children:r.totalSales})]}),u.jsxs("div",{className:`${r.totalProfit>=0?"bg-green-50":"bg-red-50"} rounded-lg p-4`,children:[u.jsxs("div",{className:`${r.totalProfit>=0?"text-green-700":"text-red-700"} text-xs font-medium mb-1 flex items-center`,children:[u.jsx(xd,{className:"h-3 w-3 mr-1"})," Beneficio"]}),u.jsx("div",{className:`text-xl font-bold ${r.totalProfit>=0?"text-green-900":"text-red-900"}`,children:f(r.totalProfit)})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Análisis de Rentabilidad"}),u.jsx("span",{className:"text-sm text-gray-500",children:m()})]}),u.jsx("div",{className:"h-80",children:u.jsx(sf,{width:"100%",height:"100%",children:u.jsxs(Kf,{data:d,margin:{top:5,right:30,left:30,bottom:0},syncId:"finance",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"profitGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.4}),u.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:.05})]}),u.jsxs("linearGradient",{id:"lossGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.4}),u.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:.05})]})]}),u.jsx(Ac,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),u.jsx(rs,{dataKey:"date",hide:!0}),u.jsx(ns,{yAxisId:"money",orientation:"right",tick:{fontSize:12,fill:"#6b7280"},tickLine:{stroke:"#d1d5db"},axisLine:{stroke:"#d1d5db"},tickFormatter:g=>`$${g.toLocaleString("es-ES",{maximumFractionDigits:0})}`,label:{value:"Dinero ($)",angle:90,position:"insideRight",style:{textAnchor:"middle",fill:"#6b7280"}}}),u.jsx(on,{content:u.jsx(h,{})}),u.jsx(li,{wrapperStyle:{paddingTop:"20px"}}),u.jsx(Lr,{yAxisId:"money",type:"monotone",dataKey:"profitArea",name:"Beneficio",stroke:"none",fill:"url(#profitGradient)",connectNulls:!0}),u.jsx(Lr,{yAxisId:"money",type:"monotone",dataKey:"lossArea",name:"Pérdida",stroke:"none",fill:"url(#lossGradient)",connectNulls:!0}),u.jsx(ia,{yAxisId:"money",type:"monotone",dataKey:"revenue",name:"Ingresos",stroke:"#10B981",strokeWidth:3,dot:{r:3,strokeWidth:2,fill:"#fff",stroke:"#10B981"},activeDot:{r:5,strokeWidth:2},children:u.jsx(jr,{dataKey:"revenue",position:"top",style:{fontSize:"10px",fill:"#374151"},formatter:g=>`$${Math.round(g)}`,offset:8})}),u.jsx(ia,{yAxisId:"money",type:"monotone",dataKey:"spend",name:"Gasto",stroke:"#EF4444",strokeWidth:3,dot:{r:3,strokeWidth:2,fill:"#fff",stroke:"#EF4444"},activeDot:{r:5,strokeWidth:2},children:u.jsx(jr,{dataKey:"spend",position:"bottom",style:{fontSize:"10px",fill:"#374151"},formatter:g=>`$${Math.round(g)}`,offset:8})})]})})}),u.jsx("div",{className:"mt-0",children:u.jsx("div",{className:"h-40",children:u.jsx(sf,{width:"100%",height:"100%",children:u.jsxs(Kf,{data:d,margin:{top:10,right:95,left:30,bottom:20},syncId:"finance",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"roasProfitGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.4}),u.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:.05})]}),u.jsxs("linearGradient",{id:"roasLossGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.4}),u.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:.05})]})]}),u.jsx(Ac,{strokeDasharray:"3 3",stroke:"#f0f0f0",vertical:!1}),u.jsx(rs,{dataKey:"date",tick:{fontSize:12,fill:"#6b7280"}}),u.jsx(ns,{hide:!0,domain:[0,"dataMax + 0.5"]}),u.jsx(on,{content:({active:g,payload:p,label:v})=>{if(g&&p&&p.length){const b=p.find(w=>w.dataKey==="roas");if(b){const w=b.value;return u.jsxs("div",{className:"bg-white p-2 rounded shadow border text-sm",children:[u.jsx("p",{children:v}),u.jsxs("p",{className:"font-bold text-blue-600",children:["ROAS: ",w==null?void 0:w.toFixed(2),"x"]})]})}}return null}}),u.jsx(Yc,{y:1,stroke:"#B45309",strokeDasharray:"3 3"}),u.jsx(Lr,{type:"monotone",dataKey:"roasProfitArea",stroke:"none",fill:"url(#roasProfitGradient)",name:"ROAS > 1"}),u.jsx(Lr,{type:"monotone",dataKey:"roasLossArea",stroke:"none",fill:"url(#roasLossGradient)",name:"ROAS < 1"}),u.jsx(ia,{type:"monotone",dataKey:"roas",name:"ROAS",stroke:"#3B82F6",strokeWidth:3,dot:{r:3,strokeWidth:2,fill:"#fff",stroke:"#3B82F6"},activeDot:{r:5,strokeWidth:2},children:u.jsx(jr,{dataKey:"roas",position:"top",style:{fontSize:"10px",fill:"#374151"},formatter:g=>`${g.toFixed(1)}x`,offset:8})})]})})})})]}),u.jsx("div",{className:"h-8"}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Datos diarios detallados"})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"FECHA"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"VENTAS"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"GASTO"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ROAS"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"BENEFICIO"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:r.dailyData.map((g,p)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.date}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.sales}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f(g.spend)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:u.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${g.roas>=2?"bg-green-100 text-green-800":g.roas>=1.2?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[g.roas.toFixed(2),"x"]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:u.jsx("span",{className:`font-medium ${g.profit>=0?"text-green-600":"text-red-600"}`,children:f(g.profit)})})]},p))})]})})]})]}),n==="preview"&&r.type==="ad"&&u.jsx("div",{className:"p-4 sm:p-6",children:u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Vista previa del anuncio"}),u.jsx("button",{onClick:c,className:"text-sm text-indigo-600 hover:text-indigo-800",disabled:o,children:o?u.jsxs("span",{className:"flex items-center",children:[u.jsx(Gv,{className:"h-4 w-4 mr-1 animate-spin"}),"Cargando..."]}):"Actualizar"})]}),u.jsx("div",{className:"p-4",children:o?u.jsx("div",{className:"h-96 flex items-center justify-center",children:u.jsx(Gv,{className:"h-8 w-8 animate-spin text-indigo-600"})}):i?u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{dangerouslySetInnerHTML:{__html:i},className:"ad-preview-container"})}):u.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500",children:'Haz clic en "Actualizar" para cargar la vista previa del anuncio.'})})]})})]})})}const j0={},jl={};function ql(e,t){try{const n=(j0[e]||(j0[e]=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format))(t).split("GMT")[1]||"";return n in jl?jl[n]:Mw(n,n.split(":"))}catch{if(e in jl)return jl[e];const r=e==null?void 0:e.match(Yse);return r?Mw(e,r.slice(1)):NaN}}const Yse=/([+-]\d\d):?(\d\d)?/;function Mw(e,t){const r=+t[0],n=+(t[1]||0);return jl[e]=r>0?r*60+n:r*60-n}class ra extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(ql(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),fA(this),jp(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new ra(...r,t):new ra(Date.now(),t)}withTimeZone(t){return new ra(+this,t)}getTimezoneOffset(){return-ql(this.timeZone,this)}setTime(t){return Date.prototype.setTime.apply(this,arguments),jp(this),+this}[Symbol.for("constructDateFrom")](t){return new ra(+new Date(t),this.timeZone)}}const Iw=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!Iw.test(e))return;const t=e.replace(Iw,"$1UTC");ra.prototype[t]&&(e.startsWith("get")?ra.prototype[e]=function(){return this.internal[t]()}:(ra.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Xse(this),+this},ra.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),jp(this),+this}))});function jp(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function Xse(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),fA(e)}function fA(e){const t=ql(e.timeZone,e),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const n=-new Date(+e).getTimezoneOffset(),a=-new Date(+r).getTimezoneOffset(),i=n-a,s=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();i&&s&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+i);const o=n-t;o&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+o);const l=ql(e.timeZone,e),f=-new Date(+e).getTimezoneOffset()-l,d=l!==t,h=f-o;if(d&&h){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+h);const m=ql(e.timeZone,e),g=l-m;g&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+g),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+g))}}class Sr extends ra{static tz(t,...r){return r.length?new Sr(...r,t):new Sr(Date.now(),t)}toISOString(){const[t,r,n]=this.tzComponents(),a=`${t}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,n,a]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${n} ${r} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,n,a]=this.tzComponents();return`${t} GMT${r}${n}${a} (${Jse(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[r,n,a]}withTimeZone(t){return new Sr(+this,t)}[Symbol.for("constructDateFrom")](t){return new Sr(+new Date(t),this.timeZone)}}function Jse(e,t){return new Intl.DateTimeFormat("en-GB",{timeZone:e,timeZoneName:"long"}).format(t).slice(12)}var De;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(De||(De={}));var Mt;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Mt||(Mt={}));var Un;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(Un||(Un={}));var sn;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(sn||(sn={}));const dA=6048e5,Zse=864e5,$w=Symbol.for("constructDateFrom");function Zt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&$w in e?e[$w](t):e instanceof Date?new e.constructor(t):new Date(t)}function _t(e,t){return Zt(t||e,e)}function hA(e,t,r){const n=_t(e,r==null?void 0:r.in);return isNaN(t)?Zt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function mA(e,t,r){const n=_t(e,r==null?void 0:r.in);if(isNaN(t))return Zt(e,NaN);if(!t)return n;const a=n.getDate(),i=Zt(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const s=i.getDate();return a>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}let Qse={};function au(){return Qse}function ko(e,t){var o,l,c,f;const r=au(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((f=(c=r.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,a=_t(e,t==null?void 0:t.in),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function Fc(e,t){return ko(e,{...t,weekStartsOn:1})}function pA(e,t){const r=_t(e,t==null?void 0:t.in),n=r.getFullYear(),a=Zt(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Fc(a),s=Zt(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Fc(s);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function Fw(e){const t=_t(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function el(e,...t){const r=Zt.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Rc(e,t){const r=_t(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function gA(e,t,r){const[n,a]=el(r==null?void 0:r.in,e,t),i=Rc(n),s=Rc(a),o=+i-Fw(i),l=+s-Fw(s);return Math.round((o-l)/Zse)}function eoe(e,t){const r=pA(e,t),n=Zt(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Fc(n)}function toe(e,t,r){return hA(e,t*7,r)}function roe(e,t,r){return mA(e,t*12,r)}function noe(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Zt.bind(null,a));const i=_t(a,n);(!r||r<i||isNaN(+i))&&(r=i)}),Zt(n,r||NaN)}function aoe(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Zt.bind(null,a));const i=_t(a,n);(!r||r>i||isNaN(+i))&&(r=i)}),Zt(n,r||NaN)}function ioe(e,t,r){const[n,a]=el(r==null?void 0:r.in,e,t);return+Rc(n)==+Rc(a)}function vA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function soe(e){return!(!vA(e)&&typeof e!="number"||isNaN(+_t(e)))}function ooe(e,t,r){const[n,a]=el(r==null?void 0:r.in,e,t),i=n.getFullYear()-a.getFullYear(),s=n.getMonth()-a.getMonth();return i*12+s}function loe(e,t){const r=_t(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function coe(e,t){const[r,n]=el(e,t.start,t.end);return{start:r,end:n}}function uoe(e,t){const{start:r,end:n}=coe(t==null?void 0:t.in,e);let a=+r>+n;const i=a?+r:+n,s=a?n:r;s.setHours(0,0,0,0),s.setDate(1);let o=1;const l=[];for(;+s<=i;)l.push(Zt(r,s)),s.setMonth(s.getMonth()+o);return a?l.reverse():l}function foe(e,t){const r=_t(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function doe(e,t){const r=_t(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function xA(e,t){const r=_t(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function yA(e,t){var o,l,c,f;const r=au(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((f=(c=r.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,a=_t(e,t==null?void 0:t.in),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}function hoe(e,t){return yA(e,{...t,weekStartsOn:1})}const moe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},poe=(e,t,r)=>{let n;const a=moe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function eo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const goe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},voe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xoe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yoe={date:eo({formats:goe,defaultWidth:"full"}),time:eo({formats:voe,defaultWidth:"full"}),dateTime:eo({formats:xoe,defaultWidth:"full"})},boe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},woe=(e,t,r,n)=>boe[e];function Zn(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[o]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const _oe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Soe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Eoe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Toe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ooe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Aoe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},joe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Noe={ordinalNumber:joe,era:Zn({values:_oe,defaultWidth:"wide"}),quarter:Zn({values:Soe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zn({values:Eoe,defaultWidth:"wide"}),day:Zn({values:Toe,defaultWidth:"wide"}),dayPeriod:Zn({values:Ooe,defaultWidth:"wide",formattingValues:Aoe,defaultFormattingWidth:"wide"})};function Qn(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?koe(o,d=>d.test(s)):Poe(o,d=>d.test(s));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const f=t.slice(s.length);return{value:c,rest:f}}}function Poe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function koe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function bA(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const o=t.slice(a.length);return{value:s,rest:o}}}const Coe=/^(\d+)(th|st|nd|rd)?/i,Doe=/\d+/i,Moe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ioe={any:[/^b/i,/^(a|c)/i]},$oe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Foe={any:[/1/i,/2/i,/3/i,/4/i]},Roe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Loe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Boe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Uoe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Woe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zoe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hoe={ordinalNumber:bA({matchPattern:Coe,parsePattern:Doe,valueCallback:e=>parseInt(e,10)}),era:Qn({matchPatterns:Moe,defaultMatchWidth:"wide",parsePatterns:Ioe,defaultParseWidth:"any"}),quarter:Qn({matchPatterns:$oe,defaultMatchWidth:"wide",parsePatterns:Foe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qn({matchPatterns:Roe,defaultMatchWidth:"wide",parsePatterns:Loe,defaultParseWidth:"any"}),day:Qn({matchPatterns:Boe,defaultMatchWidth:"wide",parsePatterns:Uoe,defaultParseWidth:"any"}),dayPeriod:Qn({matchPatterns:Woe,defaultMatchWidth:"any",parsePatterns:zoe,defaultParseWidth:"any"})},mv={code:"en-US",formatDistance:poe,formatLong:yoe,formatRelative:woe,localize:Noe,match:Hoe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qoe(e,t){const r=_t(e,t==null?void 0:t.in);return gA(r,xA(r))+1}function wA(e,t){const r=_t(e,t==null?void 0:t.in),n=+Fc(r)-+eoe(r);return Math.round(n/dA)+1}function _A(e,t){var f,d,h,m;const r=_t(e,t==null?void 0:t.in),n=r.getFullYear(),a=au(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,s=Zt((t==null?void 0:t.in)||e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=ko(s,t),l=Zt((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const c=ko(l,t);return+r>=+o?n+1:+r>=+c?n:n-1}function Goe(e,t){var o,l,c,f;const r=au(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(c=r.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,a=_A(e,t),i=Zt((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ko(i,t)}function SA(e,t){const r=_t(e,t==null?void 0:t.in),n=+ko(r,t)-+Goe(r,t);return Math.round(n/dA)+1}function pt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ka={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return pt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):pt(r+1,2)},d(e,t){return pt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return pt(e.getHours()%12||12,t.length)},H(e,t){return pt(e.getHours(),t.length)},m(e,t){return pt(e.getMinutes(),t.length)},s(e,t){return pt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return pt(a,t.length)}},Fs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Rw={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ka.y(e,t)},Y:function(e,t,r,n){const a=_A(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return pt(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):pt(i,t.length)},R:function(e,t){const r=pA(e);return pt(r,t.length)},u:function(e,t){const r=e.getFullYear();return pt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return pt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return pt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ka.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return pt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=SA(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):pt(a,t.length)},I:function(e,t,r){const n=wA(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):pt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ka.d(e,t)},D:function(e,t,r){const n=qoe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):pt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return pt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return pt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return pt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Fs.noon:n===0?a=Fs.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Fs.evening:n>=12?a=Fs.afternoon:n>=4?a=Fs.morning:a=Fs.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ka.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ka.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):pt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):pt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ka.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ka.s(e,t)},S:function(e,t){return Ka.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Bw(n);case"XXXX":case"XX":return Ii(n);case"XXXXX":case"XXX":default:return Ii(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Bw(n);case"xxxx":case"xx":return Ii(n);case"xxxxx":case"xxx":default:return Ii(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Lw(n,":");case"OOOO":default:return"GMT"+Ii(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Lw(n,":");case"zzzz":default:return"GMT"+Ii(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return pt(n,t.length)},T:function(e,t,r){return pt(+e,t.length)}};function Lw(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+pt(i,2)}function Bw(e,t){return e%60===0?(e>0?"-":"+")+pt(Math.abs(e)/60,2):Ii(e,t)}function Ii(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=pt(Math.trunc(n/60),2),i=pt(n%60,2);return r+a+t+i}const Uw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},EA=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Voe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Uw(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Uw(n,t)).replace("{{time}}",EA(a,t))},Koe={p:EA,P:Voe},Yoe=/^D+$/,Xoe=/^Y+$/,Joe=["D","DD","YY","YYYY"];function Zoe(e){return Yoe.test(e)}function Qoe(e){return Xoe.test(e)}function ele(e,t,r){const n=tle(e,t,r);if(console.warn(n),Joe.includes(e))throw new RangeError(n)}function tle(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ale=/^'([^]*?)'?$/,ile=/''/g,sle=/[a-zA-Z]/;function va(e,t,r){var f,d,h,m,g,p,v,b;const n=au(),a=(r==null?void 0:r.locale)??n.locale??mv,i=(r==null?void 0:r.firstWeekContainsDate)??((d=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,o=_t(e,r==null?void 0:r.in);if(!soe(o))throw new RangeError("Invalid time value");let l=t.match(nle).map(w=>{const x=w[0];if(x==="p"||x==="P"){const _=Koe[x];return _(w,a.formatLong)}return w}).join("").match(rle).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const x=w[0];if(x==="'")return{isToken:!1,value:ole(w)};if(Rw[x])return{isToken:!0,value:w};if(x.match(sle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:w}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return l.map(w=>{if(!w.isToken)return w.value;const x=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Qoe(x)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Zoe(x))&&ele(x,t,String(e));const _=Rw[x[0]];return _(o,x,a.localize,c)}).join("")}function ole(e){const t=e.match(ale);return t?t[1].replace(ile,"'"):e}function lle(e,t){const r=_t(e,t==null?void 0:t.in),n=r.getFullYear(),a=r.getMonth(),i=Zt(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function cle(e,t){return _t(e,t==null?void 0:t.in).getMonth()}function ule(e,t){return _t(e,t==null?void 0:t.in).getFullYear()}function fle(e,t){return+_t(e)>+_t(t)}function dle(e,t){return+_t(e)<+_t(t)}function hle(e,t,r){const[n,a]=el(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function mle(e,t,r){const[n,a]=el(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()}function ple(e,t,r){const n=_t(e,r==null?void 0:r.in),a=n.getFullYear(),i=n.getDate(),s=Zt(e,0);s.setFullYear(a,t,15),s.setHours(0,0,0,0);const o=lle(s);return n.setMonth(t,Math.min(i,o)),n}function gle(e,t,r){const n=_t(e,r==null?void 0:r.in);return isNaN(+n)?Zt(e,NaN):(n.setFullYear(t),n)}const Ww=5,vle=4;function xle(e,t){const r=t.startOfMonth(e),n=r.getDay()>0?r.getDay():7,a=t.addDays(e,-n+1),i=t.addDays(a,Ww*7-1);return t.getMonth(e)===t.getMonth(i)?Ww:vle}function TA(e,t){const r=t.startOfMonth(e),n=r.getDay();return n===1?r:n===0?t.addDays(r,-1*6):t.addDays(r,-1*(n-1))}function yle(e,t){const r=TA(e,t),n=xle(e,t);return t.addDays(r,n*7-1)}class Ba{constructor(t,r){this.Date=Date,this.today=()=>{var n;return(n=this.overrides)!=null&&n.today?this.overrides.today():this.options.timeZone?Sr.tz(this.options.timeZone):new this.Date},this.newDate=(n,a,i)=>{var s;return(s=this.overrides)!=null&&s.newDate?this.overrides.newDate(n,a,i):this.options.timeZone?new Sr(n,a,i,this.options.timeZone):new Date(n,a,i)},this.addDays=(n,a)=>{var i;return(i=this.overrides)!=null&&i.addDays?this.overrides.addDays(n,a):hA(n,a)},this.addMonths=(n,a)=>{var i;return(i=this.overrides)!=null&&i.addMonths?this.overrides.addMonths(n,a):mA(n,a)},this.addWeeks=(n,a)=>{var i;return(i=this.overrides)!=null&&i.addWeeks?this.overrides.addWeeks(n,a):toe(n,a)},this.addYears=(n,a)=>{var i;return(i=this.overrides)!=null&&i.addYears?this.overrides.addYears(n,a):roe(n,a)},this.differenceInCalendarDays=(n,a)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,a):gA(n,a)},this.differenceInCalendarMonths=(n,a)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,a):ooe(n,a)},this.eachMonthOfInterval=n=>{var a;return(a=this.overrides)!=null&&a.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):uoe(n)},this.endOfBroadcastWeek=n=>{var a;return(a=this.overrides)!=null&&a.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):yle(n,this)},this.endOfISOWeek=n=>{var a;return(a=this.overrides)!=null&&a.endOfISOWeek?this.overrides.endOfISOWeek(n):hoe(n)},this.endOfMonth=n=>{var a;return(a=this.overrides)!=null&&a.endOfMonth?this.overrides.endOfMonth(n):loe(n)},this.endOfWeek=(n,a)=>{var i;return(i=this.overrides)!=null&&i.endOfWeek?this.overrides.endOfWeek(n,a):yA(n,this.options)},this.endOfYear=n=>{var a;return(a=this.overrides)!=null&&a.endOfYear?this.overrides.endOfYear(n):doe(n)},this.format=(n,a,i)=>{var o;const s=(o=this.overrides)!=null&&o.format?this.overrides.format(n,a,this.options):va(n,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(s):s},this.getISOWeek=n=>{var a;return(a=this.overrides)!=null&&a.getISOWeek?this.overrides.getISOWeek(n):wA(n)},this.getMonth=(n,a)=>{var i;return(i=this.overrides)!=null&&i.getMonth?this.overrides.getMonth(n,this.options):cle(n,this.options)},this.getYear=(n,a)=>{var i;return(i=this.overrides)!=null&&i.getYear?this.overrides.getYear(n,this.options):ule(n,this.options)},this.getWeek=(n,a)=>{var i;return(i=this.overrides)!=null&&i.getWeek?this.overrides.getWeek(n,this.options):SA(n,this.options)},this.isAfter=(n,a)=>{var i;return(i=this.overrides)!=null&&i.isAfter?this.overrides.isAfter(n,a):fle(n,a)},this.isBefore=(n,a)=>{var i;return(i=this.overrides)!=null&&i.isBefore?this.overrides.isBefore(n,a):dle(n,a)},this.isDate=n=>{var a;return(a=this.overrides)!=null&&a.isDate?this.overrides.isDate(n):vA(n)},this.isSameDay=(n,a)=>{var i;return(i=this.overrides)!=null&&i.isSameDay?this.overrides.isSameDay(n,a):ioe(n,a)},this.isSameMonth=(n,a)=>{var i;return(i=this.overrides)!=null&&i.isSameMonth?this.overrides.isSameMonth(n,a):hle(n,a)},this.isSameYear=(n,a)=>{var i;return(i=this.overrides)!=null&&i.isSameYear?this.overrides.isSameYear(n,a):mle(n,a)},this.max=n=>{var a;return(a=this.overrides)!=null&&a.max?this.overrides.max(n):noe(n)},this.min=n=>{var a;return(a=this.overrides)!=null&&a.min?this.overrides.min(n):aoe(n)},this.setMonth=(n,a)=>{var i;return(i=this.overrides)!=null&&i.setMonth?this.overrides.setMonth(n,a):ple(n,a)},this.setYear=(n,a)=>{var i;return(i=this.overrides)!=null&&i.setYear?this.overrides.setYear(n,a):gle(n,a)},this.startOfBroadcastWeek=(n,a)=>{var i;return(i=this.overrides)!=null&&i.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):TA(n,this)},this.startOfDay=n=>{var a;return(a=this.overrides)!=null&&a.startOfDay?this.overrides.startOfDay(n):Rc(n)},this.startOfISOWeek=n=>{var a;return(a=this.overrides)!=null&&a.startOfISOWeek?this.overrides.startOfISOWeek(n):Fc(n)},this.startOfMonth=n=>{var a;return(a=this.overrides)!=null&&a.startOfMonth?this.overrides.startOfMonth(n):foe(n)},this.startOfWeek=(n,a)=>{var i;return(i=this.overrides)!=null&&i.startOfWeek?this.overrides.startOfWeek(n,this.options):ko(n,this.options)},this.startOfYear=n=>{var a;return(a=this.overrides)!=null&&a.startOfYear?this.overrides.startOfYear(n):xA(n)},this.options={locale:mv,...t},this.overrides=r}getDigitMap(){const{numerals:t="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let a=0;a<10;a++)n[a.toString()]=r.format(a);return n}replaceDigits(t){const r=this.getDigitMap();return t.replace(/\d/g,n=>r[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}}const fa=new Ba;class OA{constructor(t,r,n=fa){this.date=t,this.displayMonth=r,this.outside=!!(r&&!n.isSameMonth(t,r)),this.dateLib=n}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class ble{constructor(t,r){this.date=t,this.weeks=r}}class wle{constructor(t,r){this.days=r,this.weekNumber=t}}function _a(e,t,r=!1,n=fa){let{from:a,to:i}=e;const{differenceInCalendarDays:s,isSameDay:o}=n;return a&&i?(s(i,a)<0&&([a,i]=[i,a]),s(t,a)>=(r?1:0)&&s(i,t)>=(r?1:0)):!r&&i?o(i,t):!r&&a?o(a,t):!1}function AA(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function pv(e){return!!(e&&typeof e=="object"&&"from"in e)}function jA(e){return!!(e&&typeof e=="object"&&"after"in e)}function NA(e){return!!(e&&typeof e=="object"&&"before"in e)}function PA(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function kA(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Sa(e,t,r=fa){const n=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:i,isAfter:s}=r;return n.some(o=>{if(typeof o=="boolean")return o;if(r.isDate(o))return a(e,o);if(kA(o,r))return o.includes(e);if(pv(o))return _a(o,e,!1,r);if(PA(o))return Array.isArray(o.dayOfWeek)?o.dayOfWeek.includes(e.getDay()):o.dayOfWeek===e.getDay();if(AA(o)){const l=i(o.before,e),c=i(o.after,e),f=l>0,d=c<0;return s(o.before,o.after)?d&&f:f||d}return jA(o)?i(e,o.after)>0:NA(o)?i(o.before,e)>0:typeof o=="function"?o(e):!1})}function _le(e,t,r){const{disabled:n,hidden:a,modifiers:i,showOutsideDays:s,broadcastCalendar:o,today:l}=t,{isSameDay:c,isSameMonth:f,startOfMonth:d,isBefore:h,endOfMonth:m,isAfter:g}=r,p=t.startMonth&&d(t.startMonth),v=t.endMonth&&m(t.endMonth),b={[Mt.focused]:[],[Mt.outside]:[],[Mt.disabled]:[],[Mt.hidden]:[],[Mt.today]:[]},w={};for(const x of e){const{date:_,displayMonth:y}=x,E=!!(y&&!f(_,y)),S=!!(p&&h(_,p)),A=!!(v&&g(_,v)),T=!!(n&&Sa(_,n,r)),N=!!(a&&Sa(_,a,r))||S||A||!o&&!s&&E||o&&s===!1&&E,j=c(_,l??r.today());E&&b.outside.push(x),T&&b.disabled.push(x),N&&b.hidden.push(x),j&&b.today.push(x),i&&Object.keys(i).forEach(D=>{const L=i==null?void 0:i[D];L&&Sa(_,L,r)&&(w[D]?w[D].push(x):w[D]=[x])})}return x=>{const _={[Mt.focused]:!1,[Mt.disabled]:!1,[Mt.hidden]:!1,[Mt.outside]:!1,[Mt.today]:!1},y={};for(const E in b){const S=b[E];_[E]=S.some(A=>A===x)}for(const E in w)y[E]=w[E].some(S=>S===x);return{..._,...y}}}function Sle(e,t,r={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[i])=>(r[i]?a.push(r[i]):t[Mt[i]]?a.push(t[Mt[i]]):t[Un[i]]&&a.push(t[Un[i]]),a),[t[De.Day]])}function Ele(e){return k.createElement("button",{...e})}function Tle(e){return k.createElement("span",{...e})}function Ole(e){const{size:t=24,orientation:r="left",className:n}=e;return k.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},r==="up"&&k.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&k.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&k.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&k.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Ale(e){const{day:t,modifiers:r,...n}=e;return k.createElement("td",{...n})}function jle(e){const{day:t,modifiers:r,...n}=e,a=k.useRef(null);return k.useEffect(()=>{var i;r.focused&&((i=a.current)==null||i.focus())},[r.focused]),k.createElement("button",{ref:a,...n})}function Nle(e){const{options:t,className:r,components:n,classNames:a,...i}=e,s=[a[De.Dropdown],r].join(" "),o=t==null?void 0:t.find(({value:l})=>l===i.value);return k.createElement("span",{"data-disabled":i.disabled,className:a[De.DropdownRoot]},k.createElement(n.Select,{className:s,...i},t==null?void 0:t.map(({value:l,label:c,disabled:f})=>k.createElement(n.Option,{key:l,value:l,disabled:f},c))),k.createElement("span",{className:a[De.CaptionLabel],"aria-hidden":!0},o==null?void 0:o.label,k.createElement(n.Chevron,{orientation:"down",size:18,className:a[De.Chevron]})))}function Ple(e){return k.createElement("div",{...e})}function kle(e){return k.createElement("div",{...e})}function Cle(e){const{calendarMonth:t,displayIndex:r,...n}=e;return k.createElement("div",{...n},e.children)}function Dle(e){const{calendarMonth:t,displayIndex:r,...n}=e;return k.createElement("div",{...n})}function Mle(e){return k.createElement("table",{...e})}function Ile(e){return k.createElement("div",{...e})}const CA=U.createContext(void 0);function iu(){const e=U.useContext(CA);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function $le(e){const{components:t}=iu();return k.createElement(t.Dropdown,{...e})}function Fle(e){const{onPreviousClick:t,onNextClick:r,previousMonth:n,nextMonth:a,...i}=e,{components:s,classNames:o,labels:{labelPrevious:l,labelNext:c}}=iu(),f=U.useCallback(h=>{a&&(r==null||r(h))},[a,r]),d=U.useCallback(h=>{n&&(t==null||t(h))},[n,t]);return k.createElement("nav",{...i},k.createElement(s.PreviousMonthButton,{type:"button",className:o[De.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":l(n),onClick:d},k.createElement(s.Chevron,{disabled:n?void 0:!0,className:o[De.Chevron],orientation:"left"})),k.createElement(s.NextMonthButton,{type:"button",className:o[De.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":c(a),onClick:f},k.createElement(s.Chevron,{disabled:a?void 0:!0,orientation:"right",className:o[De.Chevron]})))}function Rle(e){const{components:t}=iu();return k.createElement(t.Button,{...e})}function Lle(e){return k.createElement("option",{...e})}function Ble(e){const{components:t}=iu();return k.createElement(t.Button,{...e})}function Ule(e){const{rootRef:t,...r}=e;return k.createElement("div",{...r,ref:t})}function Wle(e){return k.createElement("select",{...e})}function zle(e){const{week:t,...r}=e;return k.createElement("tr",{...r})}function Hle(e){return k.createElement("th",{...e})}function qle(e){return k.createElement("thead",{"aria-hidden":!0},k.createElement("tr",{...e}))}function Gle(e){const{week:t,...r}=e;return k.createElement("th",{...r})}function Vle(e){return k.createElement("th",{...e})}function Kle(e){return k.createElement("tbody",{...e})}function Yle(e){const{components:t}=iu();return k.createElement(t.Dropdown,{...e})}const Xle=Object.freeze(Object.defineProperty({__proto__:null,Button:Ele,CaptionLabel:Tle,Chevron:Ole,Day:Ale,DayButton:jle,Dropdown:Nle,DropdownNav:Ple,Footer:kle,Month:Cle,MonthCaption:Dle,MonthGrid:Mle,Months:Ile,MonthsDropdown:$le,Nav:Fle,NextMonthButton:Rle,Option:Lle,PreviousMonthButton:Ble,Root:Ule,Select:Wle,Week:zle,WeekNumber:Gle,WeekNumberHeader:Vle,Weekday:Hle,Weekdays:qle,Weeks:Kle,YearsDropdown:Yle},Symbol.toStringTag,{value:"Module"}));function Jle(e){return{...Xle,...e}}function Zle(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([r,n])=>{r.startsWith("data-")&&(t[r]=n)}),t}function Qle(){const e={};for(const t in De)e[De[t]]=`rdp-${De[t]}`;for(const t in Mt)e[Mt[t]]=`rdp-${Mt[t]}`;for(const t in Un)e[Un[t]]=`rdp-${Un[t]}`;for(const t in sn)e[sn[t]]=`rdp-${sn[t]}`;return e}function DA(e,t,r){return(r??new Ba(t)).format(e,"LLLL y")}const ece=DA;function tce(e,t,r){return(r??new Ba(t)).format(e,"d")}function rce(e,t=fa){return t.format(e,"LLLL")}function nce(e,t=fa){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function ace(){return""}function ice(e,t,r){return(r??new Ba(t)).format(e,"cccccc")}function MA(e,t=fa){return t.format(e,"yyyy")}const sce=MA,oce=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:DA,formatDay:tce,formatMonthCaption:ece,formatMonthDropdown:rce,formatWeekNumber:nce,formatWeekNumberHeader:ace,formatWeekdayName:ice,formatYearCaption:sce,formatYearDropdown:MA},Symbol.toStringTag,{value:"Module"}));function lce(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...oce,...e}}function cce(e,t,r,n,a){const{startOfMonth:i,startOfYear:s,endOfYear:o,eachMonthOfInterval:l,getMonth:c}=a;return l({start:s(e),end:o(e)}).map(h=>{const m=n.formatMonthDropdown(h,a),g=c(h),p=t&&h<i(t)||r&&h>i(r)||!1;return{value:g,label:m,disabled:p}})}function uce(e,t={},r={}){let n={...t==null?void 0:t[De.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{n={...n,...r==null?void 0:r[a]}}),n}function fce(e,t,r){const n=e.today(),a=t?e.startOfISOWeek(n):e.startOfWeek(n),i=[];for(let s=0;s<7;s++){const o=e.addDays(a,s);i.push(o)}return i}function dce(e,t,r,n){if(!e||!t)return;const{startOfYear:a,endOfYear:i,addYears:s,getYear:o,isBefore:l,isSameYear:c}=n,f=a(e),d=i(t),h=[];let m=f;for(;l(m,d)||c(m,d);)h.push(m),m=s(m,1);return h.map(g=>{const p=r.formatYearDropdown(g,n);return{value:o(g),label:p,disabled:!1}})}function IA(e,t,r){return(r??new Ba(t)).format(e,"LLLL y")}const hce=IA;function mce(e,t,r,n){let a=(n??new Ba(r)).format(e,"PPPP");return t!=null&&t.today&&(a=`Today, ${a}`),a}function $A(e,t,r,n){let a=(n??new Ba(r)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const pce=$A;function gce(){return""}function vce(e){return"Choose the Month"}function xce(e){return"Go to the Next Month"}function yce(e){return"Go to the Previous Month"}function bce(e,t,r){return(r??new Ba(t)).format(e,"cccc")}function wce(e,t){return`Week ${e}`}function _ce(e){return"Week Number"}function Sce(e){return"Choose the Year"}const Ece=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:hce,labelDay:pce,labelDayButton:$A,labelGrid:IA,labelGridcell:mce,labelMonthDropdown:vce,labelNav:gce,labelNext:xce,labelPrevious:yce,labelWeekNumber:wce,labelWeekNumberHeader:_ce,labelWeekday:bce,labelYearDropdown:Sce},Symbol.toStringTag,{value:"Module"})),su=e=>e instanceof HTMLElement?e:null,N0=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Tce=e=>su(e.querySelector("[data-animated-month]")),P0=e=>su(e.querySelector("[data-animated-caption]")),k0=e=>su(e.querySelector("[data-animated-weeks]")),Oce=e=>su(e.querySelector("[data-animated-nav]")),Ace=e=>su(e.querySelector("[data-animated-weekdays]"));function jce(e,t,{classNames:r,months:n,focused:a,dateLib:i}){const s=U.useRef(null),o=U.useRef(n),l=U.useRef(!1);U.useLayoutEffect(()=>{const c=o.current;if(o.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||n.length===0||c.length===0||n.length!==c.length)return;const f=i.isSameMonth(n[0].date,c[0].date),d=i.isAfter(n[0].date,c[0].date),h=d?r[sn.caption_after_enter]:r[sn.caption_before_enter],m=d?r[sn.weeks_after_enter]:r[sn.weeks_before_enter],g=s.current,p=e.current.cloneNode(!0);if(p instanceof HTMLElement?(N0(p).forEach(x=>{if(!(x instanceof HTMLElement))return;const _=Tce(x);_&&x.contains(_)&&x.removeChild(_);const y=P0(x);y&&y.classList.remove(h);const E=k0(x);E&&E.classList.remove(m)}),s.current=p):s.current=null,l.current||f||a)return;const v=g instanceof HTMLElement?N0(g):[],b=N0(e.current);if(b&&b.every(w=>w instanceof HTMLElement)&&v&&v.every(w=>w instanceof HTMLElement)){l.current=!0,e.current.style.isolation="isolate";const w=Oce(e.current);w&&(w.style.zIndex="1"),b.forEach((x,_)=>{const y=v[_];if(!y)return;x.style.position="relative",x.style.overflow="hidden";const E=P0(x);E&&E.classList.add(h);const S=k0(x);S&&S.classList.add(m);const A=()=>{l.current=!1,e.current&&(e.current.style.isolation=""),w&&(w.style.zIndex=""),E&&E.classList.remove(h),S&&S.classList.remove(m),x.style.position="",x.style.overflow="",x.contains(y)&&x.removeChild(y)};y.style.pointerEvents="none",y.style.position="absolute",y.style.overflow="hidden",y.setAttribute("aria-hidden","true");const T=Ace(y);T&&(T.style.opacity="0");const N=P0(y);N&&(N.classList.add(d?r[sn.caption_before_exit]:r[sn.caption_after_exit]),N.addEventListener("animationend",A));const j=k0(y);j&&j.classList.add(d?r[sn.weeks_before_exit]:r[sn.weeks_after_exit]),x.insertBefore(y,x.firstChild)})}})}function Nce(e,t,r,n){const a=e[0],i=e[e.length-1],{ISOWeek:s,fixedWeeks:o,broadcastCalendar:l}=r??{},{addDays:c,differenceInCalendarDays:f,differenceInCalendarMonths:d,endOfBroadcastWeek:h,endOfISOWeek:m,endOfMonth:g,endOfWeek:p,isAfter:v,startOfBroadcastWeek:b,startOfISOWeek:w,startOfWeek:x}=n,_=l?b(a,n):s?w(a):x(a),y=l?h(i):s?m(g(i)):p(g(i)),E=f(y,_),S=d(i,a)+1,A=[];for(let j=0;j<=E;j++){const D=c(_,j);if(t&&v(D,t))break;A.push(D)}const N=(l?35:42)*S;if(o&&A.length<N){const j=N-A.length;for(let D=0;D<j;D++){const L=c(A[A.length-1],1);A.push(L)}}return A}function Pce(e){const t=[];return e.reduce((r,n)=>{const a=n.weeks.reduce((i,s)=>[...i,...s.days],t);return[...r,...a]},t)}function kce(e,t,r,n){const{numberOfMonths:a=1}=r,i=[];for(let s=0;s<a;s++){const o=n.addMonths(e,s);if(t&&o>t)break;i.push(o)}return i}function zw(e,t){const{month:r,defaultMonth:n,today:a=t.today(),numberOfMonths:i=1,endMonth:s,startMonth:o}=e;let l=r||n||a;const{differenceInCalendarMonths:c,addMonths:f,startOfMonth:d}=t;if(s&&c(s,l)<0){const h=-1*(i-1);l=f(s,h)}return o&&c(l,o)<0&&(l=o),d(l)}function Cce(e,t,r,n){const{addDays:a,endOfBroadcastWeek:i,endOfISOWeek:s,endOfMonth:o,endOfWeek:l,getISOWeek:c,getWeek:f,startOfBroadcastWeek:d,startOfISOWeek:h,startOfWeek:m}=n,g=e.reduce((p,v)=>{const b=r.broadcastCalendar?d(v,n):r.ISOWeek?h(v):m(v),w=r.broadcastCalendar?i(v):r.ISOWeek?s(o(v)):l(o(v)),x=t.filter(S=>S>=b&&S<=w),_=r.broadcastCalendar?35:42;if(r.fixedWeeks&&x.length<_){const S=t.filter(A=>{const T=_-x.length;return A>w&&A<=a(w,T)});x.push(...S)}const y=x.reduce((S,A)=>{const T=r.ISOWeek?c(A):f(A),N=S.find(D=>D.weekNumber===T),j=new OA(A,v,n);return N?N.days.push(j):S.push(new wle(T,[j])),S},[]),E=new ble(v,y);return p.push(E),p},[]);return r.reverseMonths?g.reverse():g}function Dce(e,t){let{startMonth:r,endMonth:n}=e;const{startOfYear:a,startOfDay:i,startOfMonth:s,endOfMonth:o,addYears:l,endOfYear:c,newDate:f,today:d}=t,{fromYear:h,toYear:m,fromMonth:g,toMonth:p}=e;!r&&g&&(r=g),!r&&h&&(r=t.newDate(h,0,1)),!n&&p&&(n=p),!n&&m&&(n=f(m,11,31));const v=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return r?r=s(r):h?r=f(h,0,1):!r&&v&&(r=a(l(e.today??d(),-100))),n?n=o(n):m?n=f(m,11,31):!n&&v&&(n=c(e.today??d())),[r&&i(r),n&&i(n)]}function Mce(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i=1}=r,{startOfMonth:s,addMonths:o,differenceInCalendarMonths:l}=n,c=a?i:1,f=s(e);if(!t)return o(f,c);if(!(l(t,e)<i))return o(f,c)}function Ice(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i}=r,{startOfMonth:s,addMonths:o,differenceInCalendarMonths:l}=n,c=a?i??1:1,f=s(e);if(!t)return o(f,-c);if(!(l(f,t)<=0))return o(f,-c)}function $ce(e){const t=[];return e.reduce((r,n)=>[...r,...n.weeks],t)}function wh(e,t){const[r,n]=U.useState(e);return[t===void 0?r:t,n]}function Fce(e,t){const[r,n]=Dce(e,t),{startOfMonth:a,endOfMonth:i}=t,s=zw(e,t),[o,l]=wh(s,e.month?s:void 0);U.useEffect(()=>{const E=zw(e,t);l(E)},[e.timeZone]);const c=kce(o,n,e,t),f=Nce(c,e.endMonth?i(e.endMonth):void 0,e,t),d=Cce(c,f,e,t),h=$ce(d),m=Pce(d),g=Ice(o,r,e,t),p=Mce(o,n,e,t),{disableNavigation:v,onMonthChange:b}=e,w=E=>h.some(S=>S.days.some(A=>A.isEqualTo(E))),x=E=>{if(v)return;let S=a(E);r&&S<a(r)&&(S=a(r)),n&&S>a(n)&&(S=a(n)),l(S),b==null||b(S)};return{months:d,weeks:h,days:m,navStart:r,navEnd:n,previousMonth:g,nextMonth:p,goToMonth:x,goToDay:E=>{w(E)||x(E.date)}}}var Jn;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Jn||(Jn={}));function Hw(e){return!e[Mt.disabled]&&!e[Mt.hidden]&&!e[Mt.outside]}function Rce(e,t,r,n){let a,i=-1;for(const s of e){const o=t(s);Hw(o)&&(o[Mt.focused]&&i<Jn.FocusedModifier?(a=s,i=Jn.FocusedModifier):n!=null&&n.isEqualTo(s)&&i<Jn.LastFocused?(a=s,i=Jn.LastFocused):r(s.date)&&i<Jn.Selected?(a=s,i=Jn.Selected):o[Mt.today]&&i<Jn.Today&&(a=s,i=Jn.Today))}return a||(a=e.find(s=>Hw(t(s)))),a}function Lce(e,t,r,n,a,i,s){const{ISOWeek:o,broadcastCalendar:l}=i,{addDays:c,addMonths:f,addWeeks:d,addYears:h,endOfBroadcastWeek:m,endOfISOWeek:g,endOfWeek:p,max:v,min:b,startOfBroadcastWeek:w,startOfISOWeek:x,startOfWeek:_}=s;let E={day:c,week:d,month:f,year:h,startOfWeek:S=>l?w(S,s):o?x(S):_(S),endOfWeek:S=>l?m(S):o?g(S):p(S)}[e](r,t==="after"?1:-1);return t==="before"&&n?E=v([n,E]):t==="after"&&a&&(E=b([a,E])),E}function FA(e,t,r,n,a,i,s,o=0){if(o>365)return;const l=Lce(e,t,r.date,n,a,i,s),c=!!(i.disabled&&Sa(l,i.disabled,s)),f=!!(i.hidden&&Sa(l,i.hidden,s)),d=l,h=new OA(l,d,s);return!c&&!f?h:FA(e,t,h,n,a,i,s,o+1)}function Bce(e,t,r,n,a){const{autoFocus:i}=e,[s,o]=U.useState(),l=Rce(t.days,r,n||(()=>!1),s),[c,f]=U.useState(i?l:void 0);return{isFocusTarget:p=>!!(l!=null&&l.isEqualTo(p)),setFocused:f,focused:c,blur:()=>{o(c),f(void 0)},moveFocus:(p,v)=>{if(!c)return;const b=FA(p,v,c,t.navStart,t.navEnd,e,a);b&&(t.goToDay(b),f(b))}}}function Uce(e,t){const{selected:r,required:n,onSelect:a}=e,[i,s]=wh(r,a?r:void 0),o=a?r:i,{isSameDay:l}=t,c=m=>(o==null?void 0:o.some(g=>l(g,m)))??!1,{min:f,max:d}=e;return{selected:o,select:(m,g,p)=>{let v=[...o??[]];if(c(m)){if((o==null?void 0:o.length)===f||n&&(o==null?void 0:o.length)===1)return;v=o==null?void 0:o.filter(b=>!l(b,m))}else(o==null?void 0:o.length)===d?v=[m]:v=[...v,m];return a||s(v),a==null||a(v,m,g,p),v},isSelected:c}}function Wce(e,t,r=0,n=0,a=!1,i=fa){const{from:s,to:o}=t||{},{isSameDay:l,isAfter:c,isBefore:f}=i;let d;if(!s&&!o)d={from:e,to:r>0?void 0:e};else if(s&&!o)l(s,e)?a?d={from:s,to:void 0}:d=void 0:f(e,s)?d={from:e,to:s}:d={from:s,to:e};else if(s&&o)if(l(s,e)&&l(o,e))a?d={from:s,to:o}:d=void 0;else if(l(s,e))d={from:s,to:r>0?void 0:e};else if(l(o,e))d={from:e,to:r>0?void 0:e};else if(f(e,s))d={from:e,to:o};else if(c(e,s))d={from:s,to:e};else if(c(e,o))d={from:s,to:e};else throw new Error("Invalid range");if(d!=null&&d.from&&(d!=null&&d.to)){const h=i.differenceInCalendarDays(d.to,d.from);n>0&&h>n?d={from:e,to:void 0}:r>1&&h<r&&(d={from:e,to:void 0})}return d}function zce(e,t,r=fa){const n=Array.isArray(t)?t:[t];let a=e.from;const i=r.differenceInCalendarDays(e.to,e.from),s=Math.min(i,6);for(let o=0;o<=s;o++){if(n.includes(a.getDay()))return!0;a=r.addDays(a,1)}return!1}function qw(e,t,r=fa){return _a(e,t.from,!1,r)||_a(e,t.to,!1,r)||_a(t,e.from,!1,r)||_a(t,e.to,!1,r)}function Hce(e,t,r=fa){const n=Array.isArray(t)?t:[t];if(n.filter(o=>typeof o!="function").some(o=>typeof o=="boolean"?o:r.isDate(o)?_a(e,o,!1,r):kA(o,r)?o.some(l=>_a(e,l,!1,r)):pv(o)?o.from&&o.to?qw(e,{from:o.from,to:o.to},r):!1:PA(o)?zce(e,o.dayOfWeek,r):AA(o)?r.isAfter(o.before,o.after)?qw(e,{from:r.addDays(o.after,1),to:r.addDays(o.before,-1)},r):Sa(e.from,o,r)||Sa(e.to,o,r):jA(o)||NA(o)?Sa(e.from,o,r)||Sa(e.to,o,r):!1))return!0;const s=n.filter(o=>typeof o=="function");if(s.length){let o=e.from;const l=r.differenceInCalendarDays(e.to,e.from);for(let c=0;c<=l;c++){if(s.some(f=>f(o)))return!0;o=r.addDays(o,1)}}return!1}function qce(e,t){const{disabled:r,excludeDisabled:n,selected:a,required:i,onSelect:s}=e,[o,l]=wh(a,s?a:void 0),c=s?a:o;return{selected:c,select:(h,m,g)=>{const{min:p,max:v}=e,b=h?Wce(h,c,p,v,i,t):void 0;return n&&r&&(b!=null&&b.from)&&b.to&&Hce({from:b.from,to:b.to},r,t)&&(b.from=h,b.to=void 0),s||l(b),s==null||s(b,h,m,g),b},isSelected:h=>c&&_a(c,h,!1,t)}}function Gce(e,t){const{selected:r,required:n,onSelect:a}=e,[i,s]=wh(r,a?r:void 0),o=a?r:i,{isSameDay:l}=t;return{selected:o,select:(d,h,m)=>{let g=d;return!n&&o&&o&&l(d,o)&&(g=void 0),a||s(g),a==null||a(g,d,h,m),g},isSelected:d=>o?l(o,d):!1}}function Vce(e,t){const r=Gce(e,t),n=Uce(e,t),a=qce(e,t);switch(e.mode){case"single":return r;case"multiple":return n;case"range":return a;default:return}}function Gw(e){var _i;let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new Sr(t.today,t.timeZone)),t.month&&(t.month=new Sr(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new Sr(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new Sr(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new Sr(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new Sr(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=(_i=t.selected)==null?void 0:_i.map(Be=>new Sr(Be,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new Sr(t.selected.from,t.timeZone):void 0,to:t.selected.to?new Sr(t.selected.to,t.timeZone):void 0}));const{components:r,formatters:n,labels:a,dateLib:i,locale:s,classNames:o}=U.useMemo(()=>{const Be={...mv,...t.locale};return{dateLib:new Ba({locale:Be,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:Jle(t.components),formatters:lce(t.formatters),labels:{...Ece,...t.labels},locale:Be,classNames:{...Qle(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:l,mode:c,navLayout:f,numberOfMonths:d=1,onDayBlur:h,onDayClick:m,onDayFocus:g,onDayKeyDown:p,onDayMouseEnter:v,onDayMouseLeave:b,onNextClick:w,onPrevClick:x,showWeekNumber:_,styles:y}=t,{formatCaption:E,formatDay:S,formatMonthDropdown:A,formatWeekNumber:T,formatWeekNumberHeader:N,formatWeekdayName:j,formatYearDropdown:D}=n,L=Fce(t,i),{days:q,months:H,navStart:K,navEnd:Q,previousMonth:fe,nextMonth:se,goToMonth:ve}=L,Oe=_le(q,t,i),{isSelected:M,select:z,selected:W}=Vce(t,i)??{},{blur:I,focused:ee,isFocusTarget:_e,moveFocus:Ee,setFocused:re}=Bce(t,L,Oe,M??(()=>!1),i),{labelDayButton:ce,labelGridcell:Se,labelGrid:ne,labelMonthDropdown:Le,labelNav:je,labelPrevious:Re,labelNext:$e,labelWeekday:V,labelWeekNumber:Ne,labelWeekNumberHeader:Ve,labelYearDropdown:ut}=a,er=U.useMemo(()=>fce(i,t.ISOWeek),[i,t.ISOWeek]),vr=c!==void 0||m!==void 0,Jr=U.useCallback(()=>{fe&&(ve(fe),x==null||x(fe))},[fe,ve,x]),Gt=U.useCallback(()=>{se&&(ve(se),w==null||w(se))},[ve,se,w]),Zr=U.useCallback((Be,ht)=>ft=>{ft.preventDefault(),ft.stopPropagation(),re(Be),z==null||z(Be.date,ht,ft),m==null||m(Be.date,ht,ft)},[z,m,re]),yi=U.useCallback((Be,ht)=>ft=>{re(Be),g==null||g(Be.date,ht,ft)},[g,re]),Ua=U.useCallback((Be,ht)=>ft=>{I(),h==null||h(Be.date,ht,ft)},[I,h]),An=U.useCallback((Be,ht)=>ft=>{const mn={ArrowLeft:["day",t.dir==="rtl"?"after":"before"],ArrowRight:["day",t.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[ft.shiftKey?"year":"month","before"],PageDown:[ft.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(mn[ft.key]){ft.preventDefault(),ft.stopPropagation();const[Vt,Vn]=mn[ft.key];Ee(Vt,Vn)}p==null||p(Be.date,ht,ft)},[Ee,p,t.dir]),tl=U.useCallback((Be,ht)=>ft=>{v==null||v(Be.date,ht,ft)},[v]),bi=U.useCallback((Be,ht)=>ft=>{b==null||b(Be.date,ht,ft)},[b]),bs=U.useCallback(Be=>ht=>{const ft=Number(ht.target.value),mn=i.setMonth(i.startOfMonth(Be),ft);ve(mn)},[i,ve]),ws=U.useCallback(Be=>ht=>{const ft=Number(ht.target.value),mn=i.setYear(i.startOfMonth(Be),ft);ve(mn)},[i,ve]),{className:wi,style:Wa}=U.useMemo(()=>({className:[o[De.Root],t.className].filter(Boolean).join(" "),style:{...y==null?void 0:y[De.Root],...t.style}}),[o,t.className,t.style,y]),_s=Zle(t),Gn=U.useRef(null);jce(Gn,!!t.animate,{classNames:o,months:H,focused:ee,dateLib:i});const rl={dayPickerProps:t,selected:W,select:z,isSelected:M,months:H,nextMonth:se,previousMonth:fe,goToMonth:ve,getModifiers:Oe,components:r,classNames:o,styles:y,labels:a,formatters:n};return k.createElement(CA.Provider,{value:rl},k.createElement(r.Root,{rootRef:t.animate?Gn:void 0,className:wi,style:Wa,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],..._s},k.createElement(r.Months,{className:o[De.Months],style:y==null?void 0:y[De.Months]},!t.hideNavigation&&!f&&k.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[De.Nav],style:y==null?void 0:y[De.Nav],"aria-label":je(),onPreviousClick:Jr,onNextClick:Gt,previousMonth:fe,nextMonth:se}),H.map((Be,ht)=>{const ft=cce(Be.date,K,Q,n,i),mn=dce(K,Q,n,i);return k.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:o[De.Month],style:y==null?void 0:y[De.Month],key:ht,displayIndex:ht,calendarMonth:Be},f==="around"&&!t.hideNavigation&&ht===0&&k.createElement(r.PreviousMonthButton,{type:"button",className:o[De.PreviousMonthButton],tabIndex:fe?void 0:-1,"aria-disabled":fe?void 0:!0,"aria-label":Re(fe),onClick:Jr,"data-animated-button":t.animate?"true":void 0},k.createElement(r.Chevron,{disabled:fe?void 0:!0,className:o[De.Chevron],orientation:t.dir==="rtl"?"right":"left"})),k.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:o[De.MonthCaption],style:y==null?void 0:y[De.MonthCaption],calendarMonth:Be,displayIndex:ht},l!=null&&l.startsWith("dropdown")?k.createElement(r.DropdownNav,{className:o[De.Dropdowns],style:y==null?void 0:y[De.Dropdowns]},l==="dropdown"||l==="dropdown-months"?k.createElement(r.MonthsDropdown,{className:o[De.MonthsDropdown],"aria-label":Le(),classNames:o,components:r,disabled:!!t.disableNavigation,onChange:bs(Be.date),options:ft,style:y==null?void 0:y[De.Dropdown],value:i.getMonth(Be.date)}):k.createElement("span",null,A(Be.date,i)),l==="dropdown"||l==="dropdown-years"?k.createElement(r.YearsDropdown,{className:o[De.YearsDropdown],"aria-label":ut(i.options),classNames:o,components:r,disabled:!!t.disableNavigation,onChange:ws(Be.date),options:mn,style:y==null?void 0:y[De.Dropdown],value:i.getYear(Be.date)}):k.createElement("span",null,D(Be.date,i)),k.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},E(Be.date,i.options,i))):k.createElement(r.CaptionLabel,{className:o[De.CaptionLabel],role:"status","aria-live":"polite"},E(Be.date,i.options,i))),f==="around"&&!t.hideNavigation&&ht===d-1&&k.createElement(r.NextMonthButton,{type:"button",className:o[De.NextMonthButton],tabIndex:se?void 0:-1,"aria-disabled":se?void 0:!0,"aria-label":$e(se),onClick:Gt,"data-animated-button":t.animate?"true":void 0},k.createElement(r.Chevron,{disabled:se?void 0:!0,className:o[De.Chevron],orientation:t.dir==="rtl"?"left":"right"})),ht===d-1&&f==="after"&&!t.hideNavigation&&k.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[De.Nav],style:y==null?void 0:y[De.Nav],"aria-label":je(),onPreviousClick:Jr,onNextClick:Gt,previousMonth:fe,nextMonth:se}),k.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":c==="multiple"||c==="range","aria-label":ne(Be.date,i.options,i)||void 0,className:o[De.MonthGrid],style:y==null?void 0:y[De.MonthGrid]},!t.hideWeekdays&&k.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:o[De.Weekdays],style:y==null?void 0:y[De.Weekdays]},_&&k.createElement(r.WeekNumberHeader,{"aria-label":Ve(i.options),className:o[De.WeekNumberHeader],style:y==null?void 0:y[De.WeekNumberHeader],scope:"col"},N()),er.map((Vt,Vn)=>k.createElement(r.Weekday,{"aria-label":V(Vt,i.options,i),className:o[De.Weekday],key:Vn,style:y==null?void 0:y[De.Weekday],scope:"col"},j(Vt,i.options,i)))),k.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:o[De.Weeks],style:y==null?void 0:y[De.Weeks]},Be.weeks.map((Vt,Vn)=>k.createElement(r.Week,{className:o[De.Week],key:Vt.weekNumber,style:y==null?void 0:y[De.Week],week:Vt},_&&k.createElement(r.WeekNumber,{week:Vt,style:y==null?void 0:y[De.WeekNumber],"aria-label":Ne(Vt.weekNumber,{locale:s}),className:o[De.WeekNumber],scope:"row",role:"rowheader"},T(Vt.weekNumber,i)),Vt.days.map(It=>{const{date:kr}=It,G=Oe(It);if(G[Mt.focused]=!G.hidden&&!!(ee!=null&&ee.isEqualTo(It)),G[Un.selected]=(M==null?void 0:M(kr))||G.selected,pv(W)){const{from:Pe,to:Ce}=W;G[Un.range_start]=!!(Pe&&Ce&&i.isSameDay(kr,Pe)),G[Un.range_end]=!!(Pe&&Ce&&i.isSameDay(kr,Ce)),G[Un.range_middle]=_a(W,kr,!0,i)}const Te=uce(G,y,t.modifiersStyles),We=Sle(G,o,t.modifiersClassNames),ae=!vr&&!G.hidden?Se(kr,G,i.options,i):void 0;return k.createElement(r.Day,{key:`${i.format(kr,"yyyy-MM-dd")}_${i.format(It.displayMonth,"yyyy-MM")}`,day:It,modifiers:G,className:We.join(" "),style:Te,role:"gridcell","aria-selected":G.selected||void 0,"aria-label":ae,"data-day":i.format(kr,"yyyy-MM-dd"),"data-month":It.outside?i.format(kr,"yyyy-MM"):void 0,"data-selected":G.selected||void 0,"data-disabled":G.disabled||void 0,"data-hidden":G.hidden||void 0,"data-outside":It.outside||void 0,"data-focused":G.focused||void 0,"data-today":G.today||void 0},!G.hidden&&vr?k.createElement(r.DayButton,{className:o[De.DayButton],style:y==null?void 0:y[De.DayButton],type:"button",day:It,modifiers:G,disabled:G.disabled||void 0,tabIndex:_e(It)?0:-1,"aria-label":ce(kr,G,i.options,i),onClick:Zr(It,G),onBlur:Ua(It,G),onFocus:yi(It,G),onKeyDown:An(It,G),onMouseEnter:tl(It,G),onMouseLeave:bi(It,G)},S(kr,i.options,i)):!G.hidden&&S(It.date,i.options,i))}))))))})),t.footer&&k.createElement(r.Footer,{className:o[De.Footer],style:y==null?void 0:y[De.Footer],role:"status","aria-live":"polite"},t.footer)))}const Kce={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},Yce=(e,t,r)=>{let n;const a=Kce[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},Xce={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Jce={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Zce={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qce={date:eo({formats:Xce,defaultWidth:"full"}),time:eo({formats:Jce,defaultWidth:"full"}),dateTime:eo({formats:Zce,defaultWidth:"full"})},eue={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},tue={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},rue=(e,t,r,n)=>t.getHours()!==1?tue[e]:eue[e],nue={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},aue={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},iue={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},sue={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},oue={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},lue={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},cue=(e,t)=>Number(e)+"º",uue={ordinalNumber:cue,era:Zn({values:nue,defaultWidth:"wide"}),quarter:Zn({values:aue,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Zn({values:iue,defaultWidth:"wide"}),day:Zn({values:sue,defaultWidth:"wide"}),dayPeriod:Zn({values:oue,defaultWidth:"wide",formattingValues:lue,defaultFormattingWidth:"wide"})},fue=/^(\d+)(º)?/i,due=/\d+/i,hue={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},mue={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},pue={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},gue={any:[/1/i,/2/i,/3/i,/4/i]},vue={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},xue={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},yue={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},bue={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},wue={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},_ue={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Sue={ordinalNumber:bA({matchPattern:fue,parsePattern:due,valueCallback:function(e){return parseInt(e,10)}}),era:Qn({matchPatterns:hue,defaultMatchWidth:"wide",parsePatterns:mue,defaultParseWidth:"any"}),quarter:Qn({matchPatterns:pue,defaultMatchWidth:"wide",parsePatterns:gue,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qn({matchPatterns:vue,defaultMatchWidth:"wide",parsePatterns:xue,defaultParseWidth:"any"}),day:Qn({matchPatterns:yue,defaultMatchWidth:"wide",parsePatterns:bue,defaultParseWidth:"any"}),dayPeriod:Qn({matchPatterns:wue,defaultMatchWidth:"any",parsePatterns:_ue,defaultParseWidth:"any"})},Ya={code:"es",formatDistance:Yce,formatLong:Qce,formatRelative:rue,localize:uue,match:Sue,options:{weekStartsOn:1,firstWeekContainsDate:1}},RA=e=>{try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return e}},C0=e=>{var t;if(!e||e==="-")return"none";try{const r=RA(e);if(r.includes("||")){const n=r.split("||"),a=n[0].trim(),i=(t=n[1])==null?void 0:t.trim();return!a&&i?`[ID: ${i.substring(0,8)}...]`:a||r}return/^\d{15,}$/.test(r)?`[ID: ${r.substring(0,8)}...]`:r}catch{return e}},Mr=e=>{try{const r=RA(e).split("||");return r.length>1&&r[1].trim()?r[1].trim():null}catch{return null}},Rs=e=>e?e.replace(/^[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/gu,"").replace(/\\\\+/g,"\\").replace(/\s*\+\s*/g," ").replace(/\s*-\s*/g," ").replace(/\s*\|\s*/g,"|").replace(/\s+/g," ").trim().toLowerCase():"",Vw=(e,t)=>{const r=e.utm_campaign||"",n=e.utm_medium||"",a=e.utm_content||"";for(const[l,c]of t.entries())if(c.campaign===r&&c.medium===n&&c.content===a)return l;const i=Rs(r),s=Rs(n),o=Rs(a);for(const[l,c]of t.entries()){const f=Rs(c.campaign),d=Rs(c.medium),h=Rs(c.content);if(f===i&&d===s&&h===o)return console.log("[FUZZY MATCH] ✅ Found normalized match:",{original_utm:r,original_campaign:c.campaign,normalized_utm:i,normalized_campaign:f,match_type:"campaign_medium_content"}),l;f===i&&console.log("[FUZZY DEBUG] Campaign match but medium/content differ:",{utm_campaign:r,utm_medium:n,utm_content:a,stats_campaign:c.campaign,stats_medium:c.medium,stats_content:c.content,normalized_utm_medium:s,normalized_stats_medium:d,normalized_utm_content:o,normalized_stats_content:h})}return null},Kw=[{label:"Hoy",value:"today",daysBack:0,canIncludeToday:!1},{label:"Ayer",value:"yesterday",daysBack:1,canIncludeToday:!1},{label:"Últimos 3 días",value:"last_3_days",daysBack:3,canIncludeToday:!0},{label:"Últimos 7 días",value:"last_7_days",daysBack:7,canIncludeToday:!0},{label:"Últimos 15 días",value:"last_15_days",daysBack:15,canIncludeToday:!0},{label:"Últimos 30 días",value:"last_30_days",daysBack:30,canIncludeToday:!0},{label:"Últimos 90 días",value:"last_90_days",daysBack:90,canIncludeToday:!0}],Yw="columnWidths",Eue=({active:e,payload:t,label:r})=>{if(!e||!t||!t.length)return null;const n=t[0].payload;return u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-gray-200 text-sm max-w-xs",children:[u.jsx("div",{className:"font-bold text-gray-900 mb-3 border-b pb-2",children:r}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:"🛒 Ventas:"}),u.jsx("span",{className:"font-bold text-blue-700",children:n.sales})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:"💰 Ingresos:"}),u.jsxs("span",{className:"font-bold text-emerald-600",children:["$",(n.revenue||0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:"📈 Gasto:"}),u.jsxs("span",{className:"font-bold text-red-600",children:["$",(n.spend||0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsxs("div",{className:"flex justify-between items-center border-t pt-2",children:[u.jsx("span",{className:"text-gray-600",children:"💸 Beneficio:"}),u.jsxs("span",{className:`font-bold ${n.profit>=0?"text-green-600":"text-red-600"}`,children:[n.profit>=0?"+":"","$",(n.profit||0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:"🎯 ROAS:"}),u.jsxs("span",{className:`font-bold px-2 py-1 rounded text-xs ${n.roas>=2?"bg-green-100 text-green-800":n.roas>=1.2?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[(n.roas||0).toFixed(2),"x"]})]}),n.sales>0&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:"🎪 CPA:"}),u.jsxs("span",{className:"font-medium text-purple-600",children:["$",((n.spend||0)/n.sales).toFixed(2)]})]}),n.sales>0&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600",children:"💳 AOV:"}),u.jsxs("span",{className:"font-medium text-indigo-600",children:["$",((n.revenue||0)/n.sales).toFixed(2)]})]})]})]})},Pi=e=>{var a,i,s,o,l;const t=(i=(a=e.event_data)==null?void 0:a.data)==null?void 0:i.commissions,r=(l=(o=(s=e.event_data)==null?void 0:s.data)==null?void 0:o.purchase)==null?void 0:l.price;if(!r)return 0;const n=t==null?void 0:t.find(c=>c.source==="PRODUCER");return n?n.value:r.value};function Tue({productId:e}){const{user:t}=Ia(),{timezone:r}=zJ(),[n,a]=U.useState(!0),[i,s]=U.useState(null),[o,l]=U.useState("today"),c=G=>xl(G,r),d=c(new Date),[h,m]=U.useState(d),[g,p]=U.useState(d),[v,b]=U.useState(""),[w,x]=U.useState(!1),_=U.useRef(null),[y,E]=U.useState("visits"),[S,A]=U.useState("desc"),[T,N]=U.useState(null),[j,D]=U.useState(void 0),[L,q]=U.useState(void 0),[H,K]=U.useState(null),[Q,fe]=U.useState({}),se=G=>Q[G]??!1,ve=(G,Te)=>{fe(We=>({...We,[G]:Te}))};U.useEffect(()=>{if(o!=="custom"||h&&g){const G=new Date(`${h}T00:00:00`),Te=new Date(`${g}T00:00:00`);!isNaN(G.getTime())&&!isNaN(Te.getTime())&&(D({from:G,to:Te}),q({from:G,to:Te}))}},[h,g,o]);const[Oe,M]=U.useState(()=>{const G=localStorage.getItem(Yw);return G?JSON.parse(G):{campaign:200,medium:150,content:200,visits:100,clicks:120,purchases:120,conversion:120}});U.useState(new Set);const[z,W]=U.useState({campaign:"",medium:"",content:""}),[I,ee]=U.useState(!1),[_e,Ee]=U.useState("resumen"),[re,ce]=U.useState("conversion"),[Se,ne]=U.useState("campaign"),[Le,je]=U.useState("combined"),[Re,$e]=U.useState("campaign"),[V,Ne]=U.useState(new Set),[Ve,ut]=U.useState(new Set),[er,vr]=U.useState(!1),[Jr,Gt]=U.useState(null),[Zr,yi]=U.useState([]),[Ua,An]=U.useState([]);U.useEffect(()=>{localStorage.setItem(Yw,JSON.stringify(Oe))},[Oe]),U.useEffect(()=>{function G(Te){_.current&&!_.current.contains(Te.target)&&x(!1)}return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[_]),U.useEffect(()=>{const Te=c(new Date);console.log(`Initializing dates to today: ${Te} in timezone: ${r}`),m(Te),p(Te)},[r]),U.useEffect(()=>{t&&Wa()},[e,o,h,g,r,t]);const tl=(G,Te)=>{const We=new Date(G).getTime(),ae=new Date(Te).getTime(),Pe=365*24*60*60*1e3;if(We>ae)return b("La fecha inicial no puede ser posterior a la fecha final"),!1;if(ae-We>Pe)return b("El rango máximo permitido es de 1 año"),!1;if(new Date(Te)>new Date)return b("La fecha final no puede ser futura"),!1;const Ce=Math.abs(ae-We);return Math.ceil(Ce/(1e3*60*60*24))>365?(b("El rango máximo permitido es de 1 año"),!1):(b(""),!0)},bi=G=>{q(G),K(null)},bs=()=>{if(L!=null&&L.from&&L.to){const G=va(L.from,"yyyy-MM-dd"),Te=va(L.to,"yyyy-MM-dd");tl(G,Te)&&(l(H||"custom"),m(G),p(Te),D(L),x(!1),b(""),K(null))}else L!=null&&L.from&&!L.to?b("Por favor selecciona una fecha de fin"):b("Por favor selecciona un rango de fechas válido")},ws=()=>{q(void 0),K(null),b(""),x(!0)},wi=(G,Te,We,ae)=>{const Pe=new Date,Ce=ae!==void 0?ae:se(G);let He,Ct;switch(console.log(`[PRESET DEBUG] ${G} - includeToday: ${Ce}, canIncludeToday: ${We}, daysBack: ${Te}`),G){case"today":He=new Date(Pe),Ct=new Date(Pe);break;case"yesterday":He=new Date(Pe),He.setDate(Pe.getDate()-1),Ct=new Date(He);break;default:We&&Ce?(He=new Date(Pe),He.setDate(Pe.getDate()-(Te-1)),Ct=new Date(Pe),console.log(`[WITH TODAY] Range: ${He.toDateString()} to ${Ct.toDateString()}`)):(He=new Date(Pe),He.setDate(Pe.getDate()-Te),Ct=new Date(Pe),Ct.setDate(Pe.getDate()-1),console.log(`[WITHOUT TODAY] Range: ${He.toDateString()} to ${Ct.toDateString()}`));break}q({from:He,to:Ct}),K(G)};async function Wa(){try{if(a(!0),N(null),!t){N("Debes iniciar sesión para ver las estadísticas."),a(!1);return}if(!h.match(/^\d{4}-\d{2}-\d{2}$/)||!g.match(/^\d{4}-\d{2}-\d{2}$/)){N("Formato de fecha inválido. Se espera YYYY-MM-DD"),a(!1);return}const[G,Te,We]=h.split("-").map(Number),[ae,Pe,Ce]=g.split("-").map(Number),He=new Date(G,Te-1,We,0,0,0),Ct=new Date(ae,Pe-1,Ce,23,59,59,999),Je=He.toISOString(),O=Ct.toISOString();console.log(`Querying database from ${Je} to ${O} (local date range: ${h} to ${g})`);const{data:F}=await ze.from("users").select("role").eq("id",t.id).single(),{data:C}=await ze.from("products").select("user_id").eq("id",e).single();if(!C||C.user_id!==t.id&&(F==null?void 0:F.role)!=="admin"){N("No tienes acceso a estas analíticas");return}const{data:P,error:R}=await ze.from("tracking_events").select(`
          id,
          event_type,
          visitor_id,
          session_id,
          created_at,
          event_data,
          url
        `).eq("product_id",e).gte("created_at",Je).lte("created_at",O).order("created_at",{ascending:!0});if(R){console.error("Error fetching events:",R),N(`Error cargando eventos: ${R.message}`),a(!1);return}yi(P||[]);const J=c(new Date),[ie,X,Z]=J.split("-").map(Number),te=new Date(ie,X-1,Z,0,0,0),Y=new Date(ie,X-1,Z,23,59,59,999),he=te.toISOString(),ge=Y.toISOString(),{data:pe,error:xe}=await ze.from("tracking_events").select("event_type, event_data").eq("product_id",e).in("event_type",["compra_hotmart","compra_hotmart_orderbump"]).gte("created_at",he).lte("created_at",ge);xe&&console.error("Error fetching today's revenue events:",xe);const Ie=(pe==null?void 0:pe.reduce((le,Ae)=>le+Pi(Ae),0))??0;if(!P||P.length===0){console.log("No events found for the selected date range"),s({total_visits:0,unique_visits:0,total_clicks:0,unique_clicks:0,total_purchases:0,total_order_bumps:0,conversion_rate:0,unique_conversion_rate:0,persuasion_rate:0,unique_persuasion_rate:0,order_bump_rate:0,total_main_product_revenue:0,total_order_bump_revenue:0,total_revenue:0,revenue_today:Ie,total_ad_spend:0,ad_spend_today:0,roas:0,roas_today:0,utm_stats:[],daily_stats:[],top_sources:[]}),a(!1);return}const et=new Set,ot=new Set;let Et=0,da=0,tr=0,ha=0,jn=0,Si=0;const xr=new Map,_h=new Map,Sh=new Map;let Ss=[];const ma=[];let gv=0,vv=0;P.forEach(le=>{var Ye,Dt,lr,Ha;const Ae=xl(le.created_at,r).split(" ")[0];xr.has(Ae)||xr.set(Ae,{date:Ae,visits:0,unique_visits:0,clicks:0,unique_clicks:0,purchases:0,order_bumps:0,revenue:0,ad_spend:0,roas:0}),_h.has(Ae)||_h.set(Ae,new Set),Sh.has(Ae)||Sh.set(Ae,new Set);const Me=xr.get(Ae),de=_h.get(Ae),rt=Sh.get(Ae);if(!(!Me||!de||!rt)){if(et.add(le.visitor_id),de.add(le.visitor_id),le.event_type==="pageview")Et++,Me.visits++;else if(le.event_type==="hotmart_click")da++,Me.clicks++,ot.add(le.visitor_id),rt.add(le.visitor_id);else if(le.event_type==="compra_hotmart"){tr++,gv++,Me.purchases++;const Cr=Pi(le);jn+=Cr,Me.revenue+=Cr,ma.push({eventType:"compra_hotmart",timestamp:le.created_at,localTime:xl(le.created_at,r),hasUtm:!!((Ye=le.event_data)!=null&&Ye.utm_data),utmData:(Dt=le.event_data)==null?void 0:Dt.utm_data})}else if(le.event_type==="compra_hotmart_orderbump"){ha++,vv++,tr++,Me.order_bumps++,Me.purchases++;const Cr=Pi(le);Si+=Cr,Me.revenue+=Cr,ma.push({eventType:"compra_hotmart_orderbump",timestamp:le.created_at,localTime:xl(le.created_at,r),hasUtm:!!((lr=le.event_data)!=null&&lr.utm_data),utmData:(Ha=le.event_data)==null?void 0:Ha.utm_data})}Me.unique_visits=de.size,Me.unique_clicks=rt.size,xr.set(Ae,Me)}});const Rue=Array.from(xr.values()).sort((le,Ae)=>le.date.localeCompare(Ae.date)),BA=[],{data:Eh}=await ze.from("product_ad_accounts").select("id").eq("product_id",e),Th=(Eh==null?void 0:Eh.map(le=>le.id))||[],xv=h,yv=g,{data:ou,error:bv}=await ze.from("ad_performance").select(`
          ad_id,
          campaign_id,
          adset_id,
          ad_name,
          adset_name,
          campaign_name,
          spend,
          date
        `).gte("date",xv).lte("date",yv).in("product_ad_account_id",Th);bv&&console.error("Error fetching ad performance data:",bv),An(ou||[]);const{data:Oh,error:wv}=await ze.from("ad_performance").select(`
          ad_id,
          campaign_id,
          adset_id,
          ad_name,
          adset_name,
          campaign_name,
          spend
        `).eq("date",J).in("product_ad_account_id",Th);wv&&console.error("Error fetching today ad performance data:",wv);const Ei=new Set,Ti=new Set,Oi=new Set;P.forEach(le=>{var Ae;if((Ae=le.event_data)!=null&&Ae.utm_data){const Me=le.event_data.utm_data,de=Mr(Me.utm_campaign||""),rt=Mr(Me.utm_medium||""),Ye=Mr(Me.utm_content||"");de&&Ei.add(de),rt&&Ti.add(rt),Ye&&Oi.add(Ye),Me.utm_campaign&&Ei.add(Me.utm_campaign),Me.utm_medium&&Ti.add(Me.utm_medium),Me.utm_content&&Oi.add(Me.utm_content)}}),console.log(`[KPI] Campañas con tracking: ${Ei.size}`),console.log(`[KPI] Adsets con tracking: ${Ti.size}`),console.log(`[KPI] Ads con tracking: ${Oi.size}`);const Ah=(ou==null?void 0:ou.filter(le=>{const Ae=Ei.has(le.campaign_id||"")||Ti.has(le.adset_id||"")||Oi.has(le.ad_id||""),Me=Ei.has(le.campaign_name||"")||Ti.has(le.adset_name||"")||Oi.has(le.ad_name||"");return Ae||Me}))||[],Es=Ah.reduce((le,Ae)=>le+(parseFloat(Ae.spend)||0),0),lu=((Oh==null?void 0:Oh.filter(le=>{const Ae=Ei.has(le.campaign_id||"")||Ti.has(le.adset_id||"")||Oi.has(le.ad_id||""),Me=Ei.has(le.campaign_name||"")||Ti.has(le.adset_name||"")||Oi.has(le.ad_name||"");return Ae||Me}))||[]).reduce((le,Ae)=>le+(parseFloat(Ae.spend)||0),0);console.log(`[KPI] Total ad spend calculado: $${Es.toFixed(2)}`),console.log(`[KPI] Ad spend hoy: $${lu.toFixed(2)}`),console.log(`[KPI] Ads filtrados para KPIs: ${Ah.length}`);const za=jn+Si,_v=Es>0?za/Es:0,UA=lu>0?Ie/lu:0,jh=new Map;Ah.forEach(le=>{const Ae=jh.get(le.date)||0;jh.set(le.date,Ae+(parseFloat(le.spend)||0))});const WA=Array.from(xr.values()).map(le=>{const Ae=jh.get(le.date)||0,Me=Ae>0?le.revenue/Ae:0;return{...le,ad_spend:Ae,roas:Me}}).sort((le,Ae)=>le.date.localeCompare(Ae.date));console.log("=== CONSTRUYENDO NUEVA TABLA UTM ===");const zA={total:P.length,pageviews:P.filter(le=>le.event_type==="pageview").length,hotmart_clicks:P.filter(le=>le.event_type==="hotmart_click").length,compra_hotmart:P.filter(le=>le.event_type==="compra_hotmart").length,compra_hotmart_orderbump:P.filter(le=>le.event_type==="compra_hotmart_orderbump").length,pageviews_with_utm:P.filter(le=>{var Ae;return le.event_type==="pageview"&&((Ae=le.event_data)==null?void 0:Ae.utm_data)}).length,clicks_with_utm:P.filter(le=>{var Ae;return le.event_type==="hotmart_click"&&((Ae=le.event_data)==null?void 0:Ae.utm_data)}).length,compras_with_utm:P.filter(le=>{var Ae;return le.event_type==="compra_hotmart"&&((Ae=le.event_data)==null?void 0:Ae.utm_data)}).length,orderBumps_with_utm:P.filter(le=>{var Ae;return le.event_type==="compra_hotmart_orderbump"&&((Ae=le.event_data)==null?void 0:Ae.utm_data)}).length};console.log("[EVENTOS] Resumen de eventos encontrados:",zA);const HA={utms_with_fallback_dash:P.filter(le=>{var Ae;return((Ae=le.event_data)==null?void 0:Ae.utm_data)&&Object.values(le.event_data.utm_data).some(Me=>Me==="-")}).length,utms_only_ids:P.filter(le=>{var Me;const Ae=(Me=le.event_data)==null?void 0:Me.utm_data;return Ae?Object.values(Ae).some(de=>typeof de=="string"&&/^\d{15,}$/.test(de)):!1}).length,utms_with_ids:P.filter(le=>{var Me;const Ae=(Me=le.event_data)==null?void 0:Me.utm_data;return Ae?Object.values(Ae).some(de=>typeof de=="string"&&de.includes("||")):!1}).length};console.log("[UTM EDGE CASES] Casos especiales encontrados:",HA);const nl=new Set,al=new Set,il=new Set;P.forEach(le=>{var Ae;if((Ae=le.event_data)!=null&&Ae.utm_data){const Me=le.event_data.utm_data,de=Mr(Me.utm_campaign||""),rt=Mr(Me.utm_medium||""),Ye=Mr(Me.utm_content||"");de&&nl.add(de),rt&&al.add(rt),Ye&&il.add(Ye),Me.utm_campaign&&nl.add(Me.utm_campaign),Me.utm_medium&&al.add(Me.utm_medium),Me.utm_content&&il.add(Me.utm_content)}}),console.log(`Campañas con tracking: ${nl.size}`),console.log(`Adsets con tracking: ${al.size}`),console.log(`Ads con tracking: ${il.size}`);const{data:Ts}=await ze.from("ad_performance").select(`
          ad_id,
          campaign_id,
          adset_id,
          ad_name,
          adset_name,
          campaign_name,
          spend,
          date,
          campaign_budget,
          adset_budget
        `).gte("date",xv).lte("date",yv).in("product_ad_account_id",Th).gt("spend",0);console.log(`Ads que gastaron (total): ${(Ts==null?void 0:Ts.length)||0}`);const cu=(Ts==null?void 0:Ts.filter(le=>{const Ae=nl.has(le.campaign_id)||al.has(le.adset_id)||il.has(le.ad_id),Me=nl.has(le.campaign_name||"")||al.has(le.adset_name||"")||il.has(le.ad_name||"");return Ae||Me}))||[];console.log(`Ads filtrados con tracking para este producto: ${cu.length}`);const qA=[...new Set(cu.map(le=>le.campaign_name))];if(console.log("[AD_PERFORMANCE] Campañas disponibles para matching:",qA),cu.length>0){const le=new Map;cu.forEach(de=>{const rt=`${de.campaign_id}|${de.adset_id}|${de.ad_id}`;if(!le.has(rt)){const Dt=parseFloat(de.campaign_budget)||0,lr=parseFloat(de.adset_budget)||0;le.set(rt,{campaign_id:de.campaign_id,adset_id:de.adset_id,ad_id:de.ad_id,campaign:de.campaign_name||"Sin nombre",medium:de.adset_name||"Sin nombre",content:de.ad_name||"Sin nombre",ad_spend:0,campaign_budget:Dt,adset_budget:lr,visits:0,unique_visits:0,clicks:0,unique_clicks:0,purchases:0,order_bumps:0,revenue:0,visitorSet:new Set,clickSet:new Set})}const Ye=le.get(rt);Ye.ad_spend+=parseFloat(de.spend)||0}),console.log(`Grupos UTM base creados (filtrados): ${le.size}`);const Ae=new Map,Me=new Map;P.forEach(de=>{var Ye,Dt;const rt=de.session_id||de.visitor_id;if(de.event_type==="pageview"&&((Ye=de.event_data)!=null&&Ye.utm_data))Ae.set(rt,de.event_data.utm_data);else if(de.event_type==="hotmart_click"){let lr=(Dt=de.event_data)==null?void 0:Dt.utm_data;!lr&&Ae.has(rt)&&(lr=Ae.get(rt)),lr&&Me.set(rt,lr)}}),console.log(`Sesiones con UTM de visita: ${Ae.size}`),console.log(`Sesiones con UTM de click: ${Me.size}`),P.forEach(de=>{var Sv,Ev,Tv,Ov;const rt=de.session_id||de.visitor_id;let Ye=null;if(de.event_type==="pageview"?Ye=(Sv=de.event_data)==null?void 0:Sv.utm_data:de.event_type==="hotmart_click"?Ye=((Ev=de.event_data)==null?void 0:Ev.utm_data)||Ae.get(rt):(de.event_type==="compra_hotmart"||de.event_type==="compra_hotmart_orderbump")&&(Ye=((Tv=de.event_data)==null?void 0:Tv.utm_data)||Me.get(rt)||Ae.get(rt),(de.event_type==="compra_hotmart"||de.event_type==="compra_hotmart_orderbump")&&console.log(`[VENTA] ${de.event_type} - Session: ${rt}`,{hasDirectUtm:!!((Ov=de.event_data)!=null&&Ov.utm_data),hasClickUtm:!!Me.get(rt),hasVisitUtm:!!Ae.get(rt),finalUtm:Ye?"SÍ":"NO",utmCampaign:(Ye==null?void 0:Ye.utm_campaign)||"NINGUNA",utmMedium:(Ye==null?void 0:Ye.utm_medium)||"NINGUNA",utmContent:(Ye==null?void 0:Ye.utm_content)||"NINGUNA"})),!Ye){(de.event_type==="compra_hotmart"||de.event_type==="compra_hotmart_orderbump")&&console.log(`[VENTA SIN UTM] ${de.event_type} - Session: ${rt} - NO SE ATRIBUIRÁ`);return}const Dt=Mr(Ye.utm_campaign||""),lr=Mr(Ye.utm_medium||""),Ha=Mr(Ye.utm_content||"");let Cr=null;if(Dt&&lr&&Ha&&(Cr=`${Dt}|${lr}|${Ha}`),(!Cr||!le.has(Cr))&&(Cr=Vw(Ye,le)),(de.event_type==="compra_hotmart"||de.event_type==="compra_hotmart_orderbump")&&!Cr){const yr=Array.from(le.values()).map(pa=>pa.campaign);console.log(`[MATCHING FAILED] ${de.event_type}`,{buscando_campaign:Ye.utm_campaign,buscando_medium:Ye.utm_medium,buscando_content:Ye.utm_content,campaigns_disponibles:yr,exact_matches:yr.filter(pa=>{var Av;return pa.includes(((Av=Ye.utm_campaign)==null?void 0:Av.split("|")[0])||"")}),total_campaigns_en_tabla:le.size})}if((de.event_type==="compra_hotmart"||de.event_type==="compra_hotmart_orderbump")&&console.log(`[MATCHING] ${de.event_type} - Session: ${rt}`,{utmCampaign:Ye.utm_campaign,utmMedium:Ye.utm_medium,utmContent:Ye.utm_content,extractedIds:{campaignId:Dt,adsetId:lr,adId:Ha},matchingKeyByIds:Dt&&lr&&Ha?`${Dt}|${lr}|${Ha}`:"NO",matchingKeyFinal:Cr||"NO MATCH",utmStatsSize:le.size,availableKeys:Array.from(le.keys()).slice(0,3)}),Cr&&le.has(Cr)){const yr=le.get(Cr);if(yr.visitorSet.add(de.visitor_id),de.event_type==="pageview")yr.visits++;else if(de.event_type==="hotmart_click")yr.clicks++,yr.clickSet.add(de.visitor_id);else if(de.event_type==="compra_hotmart"){const pa=Pi(de);yr.purchases++,yr.revenue+=pa,console.log(`[VENTA ATRIBUIDA] compra_hotmart - Campaign: ${yr.campaign} - Revenue: $${pa.toFixed(2)}`)}else if(de.event_type==="compra_hotmart_orderbump"){const pa=Pi(de);yr.order_bumps++,yr.purchases++,yr.revenue+=pa,console.log(`[ORDER BUMP ATRIBUIDO] orderbump - Campaign: ${yr.campaign} - Revenue: $${pa.toFixed(2)}`)}}else if(de.event_type==="compra_hotmart"||de.event_type==="compra_hotmart_orderbump"){const yr=Pi(de);console.log(`[VENTA NO ATRIBUIDA] ${de.event_type} - Revenue perdido: $${yr.toFixed(2)} - UTM: ${JSON.stringify(Ye)}`)}}),Ss=Array.from(le.values()).map(de=>{de.unique_visits=de.visitorSet.size,de.unique_clicks=de.clickSet.size,delete de.visitorSet,delete de.clickSet;const rt=de.ad_spend>0?de.revenue/de.ad_spend:0;return{...de,campaign:C0(de.campaign),medium:C0(de.medium),content:C0(de.content),campaign_raw:de.campaign,medium_raw:de.medium,content_raw:de.content,campaign_budget:de.campaign_budget||0,adset_budget:de.adset_budget||0,roas:rt,conversion_rate:de.visits>0?de.purchases/de.visits*100:0,unique_conversion_rate:de.unique_visits>0?de.purchases/de.unique_visits*100:0,persuasion_rate:de.visits>0?de.clicks/de.visits*100:0,unique_persuasion_rate:de.unique_visits>0?de.unique_clicks/de.unique_visits*100:0,checkout_conversion_rate:de.clicks>0?de.purchases/de.clicks*100:0,unique_checkout_conversion_rate:de.unique_clicks>0?de.purchases/de.unique_clicks*100:0,order_bump_rate:de.purchases>0?de.order_bumps/de.purchases*100:0}}).sort((de,rt)=>rt.ad_spend-de.ad_spend),console.log(`Tabla UTM final creada con ${Ss.length} elementos`),console.log(`Total purchases en nueva tabla: ${Ss.reduce((de,rt)=>de+rt.purchases,0)}`),console.log(`Total order bumps en nueva tabla: ${Ss.reduce((de,rt)=>de+rt.order_bumps,0)}`)}else Ss=[],console.log("No hay datos de ad_performance para construir tabla UTM");if(console.log("=== SALES DEBUG INFO ==="),console.log(`Total purchases found in events: ${tr}`),console.log(`  - Ventas principales: ${gv}`),console.log(`  - Order bumps: ${vv}`),console.log(`All purchases array length: ${ma.length}`),console.log(`Query range (local): ${h} to ${g}`),console.log(`Query range (UTC): ${Je} to ${O}`),console.log(`User timezone: ${r}`),ma.length>0){const le=[...ma].sort((Dt,lr)=>new Date(Dt.timestamp).getTime()-new Date(lr.timestamp).getTime());console.log("PRIMERA VENTA:"),console.log(`  Timestamp UTC: ${le[0].timestamp}`),console.log(`  Hora local: ${le[0].localTime}`),console.log(`  Tipo: ${le[0].eventType}`),console.log(`  Tiene UTM: ${le[0].hasUtm}`),console.log("ÚLTIMA VENTA:");const Ae=le.length-1;console.log(`  Timestamp UTC: ${le[Ae].timestamp}`),console.log(`  Hora local: ${le[Ae].localTime}`),console.log(`  Tipo: ${le[Ae].eventType}`),console.log(`  Tiene UTM: ${le[Ae].hasUtm}`);const Me=ma.filter(Dt=>Dt.hasUtm).length,de=ma.filter(Dt=>!Dt.hasUtm).length,rt=ma.filter(Dt=>Dt.eventType==="compra_hotmart").length,Ye=ma.filter(Dt=>Dt.eventType==="compra_hotmart_orderbump").length;console.log(`Ventas CON UTM: ${Me}`),console.log(`Ventas SIN UTM: ${de}`),console.log("Ventas por tipo:"),console.log(`  - Principales: ${rt}`),console.log(`  - Order bumps: ${Ye}`)}const sl=Ss,uu=sl.reduce((le,Ae)=>le+Ae.purchases,0),Bue=sl.reduce((le,Ae)=>le+Ae.order_bumps,0),fu=sl.reduce((le,Ae)=>le+Ae.ad_spend,0),Os=sl.reduce((le,Ae)=>le+Ae.revenue,0);console.log("=== COMPARACIÓN FINAL KPIs vs UTM ==="),console.log(`[KPI] Total ad spend: $${Es.toFixed(2)}`),console.log(`[UTM] Total ad spend: $${fu.toFixed(2)}`),console.log(`[DIFF] Diferencia: $${Math.abs(Es-fu).toFixed(2)}`),console.log(`[KPI] Total revenue: $${za.toFixed(2)}`),console.log(`[UTM] Total revenue: $${Os.toFixed(2)}`),console.log(`[DIFF] Diferencia revenue: $${Math.abs(za-Os).toFixed(2)}`),console.log(`[KPI] Total purchases: ${tr}`),console.log(`[UTM] Total purchases: ${uu}`),console.log(`[DIFF] Diferencia purchases: ${Math.abs(tr-uu)}`),console.log(`[KPI] ROAS: ${_v.toFixed(2)}x`),console.log(`[UTM] ROAS: ${fu>0?(Os/fu).toFixed(2):0}x`),console.log("=== ANÁLISIS DE ATRIBUCIÓN ==="),console.log(`[ATRIBUCIÓN] Revenue atribuido a UTMs: $${Os.toFixed(2)} de $${za.toFixed(2)}`),console.log(`[ATRIBUCIÓN] Porcentaje atribuido: ${za>0?(Os/za*100).toFixed(1):0}%`),console.log(`[ATRIBUCIÓN] Revenue perdido (sin atribuir): $${(za-Os).toFixed(2)}`),console.log(`[ATRIBUCIÓN] Purchases atribuidas: ${uu} de ${tr}`),console.log(`[ATRIBUCIÓN] Purchases perdidas: ${tr-uu}`),console.log("============================="),s({total_visits:Et,unique_visits:et.size,total_clicks:da,unique_clicks:ot.size,total_purchases:tr,total_order_bumps:ha,conversion_rate:Et>0?tr/Et*100:0,unique_conversion_rate:et.size>0?tr/et.size*100:0,persuasion_rate:Et>0?da/Et*100:0,unique_persuasion_rate:et.size>0?ot.size/et.size*100:0,order_bump_rate:tr>0?ha/tr*100:0,total_main_product_revenue:jn,total_order_bump_revenue:Si,total_revenue:za,revenue_today:Ie,total_ad_spend:Es,ad_spend_today:lu,roas:_v,roas_today:UA,utm_stats:sl,daily_stats:WA,top_sources:BA})}catch(G){console.error("Error loading analytics:",G),N("Error cargando las analíticas")}finally{a(!1)}}const _s=()=>{if(!i)return;const G=bl.book_new(),Te=i.utm_stats.map(Ce=>({Campaña:Ce.campaign,Segmentación:Ce.medium,Anuncio:Ce.content,Visitas:I?Ce.unique_visits:Ce.visits,"Pagos Iniciados":I?Ce.unique_clicks:Ce.clicks,Compras:Ce.purchases,"Order Bumps":Ce.order_bumps,"Ingresos ($)":Ce.revenue.toFixed(2),"Gasto Publicitario ($)":Ce.ad_spend.toFixed(2),"Presupuesto Campaña ($)":(Ce.campaign_budget||0).toFixed(2),"Presupuesto Adset ($)":(Ce.adset_budget||0).toFixed(2),ROAS:Ce.roas.toFixed(2),"Conversión (%)":(I?Ce.unique_conversion_rate:Ce.conversion_rate).toFixed(2),"Persuasión (%)":(I?Ce.unique_persuasion_rate:Ce.persuasion_rate).toFixed(2),"Tasa Order Bump (%)":Ce.order_bump_rate.toFixed(2)})),We=bl.json_to_sheet(Te);bl.book_append_sheet(G,We,"UTMs");const ae=i.daily_stats.map(Ce=>({Fecha:Ce.date,Visitas:I?Ce.unique_visits:Ce.visits,"Pagos Iniciados":I?Ce.unique_clicks:Ce.clicks,Compras:Ce.purchases,"Order Bumps":Ce.order_bumps,"Ingresos ($)":Ce.revenue.toFixed(2),"Gasto Publicitario ($)":Ce.ad_spend.toFixed(2),ROAS:Ce.roas.toFixed(2)})),Pe=bl.json_to_sheet(ae);bl.book_append_sheet(G,Pe,"Estadísticas Diarias"),bie(G,"analytics.xlsx")};U.useMemo(()=>i?[...i.utm_stats].filter(G=>G.campaign.toLowerCase().includes(z.campaign.toLowerCase())&&G.medium.toLowerCase().includes(z.medium.toLowerCase())&&G.content.toLowerCase().includes(z.content.toLowerCase())).sort((G,Te)=>{const We=S==="asc"?1:-1;if(y==="conversion_rate"){const Ce=I?G.unique_conversion_rate:G.conversion_rate,He=I?Te.unique_conversion_rate:Te.conversion_rate;return(Ce-He)*We}if(y==="persuasion_rate"){const Ce=I?G.unique_persuasion_rate:G.persuasion_rate,He=I?Te.unique_persuasion_rate:Te.persuasion_rate;return(Ce-He)*We}const ae=G[y],Pe=Te[y];return typeof ae=="number"&&typeof Pe=="number"?(ae-Pe)*We:String(ae).localeCompare(String(Pe))*We}):[],[i,y,S,z,I]),U.useCallback((G,Te)=>{W(We=>({...We,[G]:Te}))},[]),U.useMemo(()=>!i||i.utm_stats.length===0?null:i.utm_stats.reduce((G,Te)=>Te.visits>G.visits?Te:G),[i]),U.useMemo(()=>!i||i.utm_stats.length===0?null:i.utm_stats.reduce((G,Te)=>Te.conversion_rate>G.conversion_rate?Te:G),[i]),U.useMemo(()=>{if(!i)return[];const G={};i.utm_stats.forEach(ae=>{let Pe;Le==="pure"?Pe=ae[Se]||"none":Se==="campaign"?Pe=ae.campaign||"none":Pe=`${ae.campaign} → ${ae[Se]||"none"}`,G[Pe]||(G[Pe]={category:Pe,visits:0,unique_visits:0,clicks:0,unique_clicks:0,purchases:0}),G[Pe].visits+=ae.visits,G[Pe].unique_visits+=ae.unique_visits,G[Pe].clicks+=ae.clicks,G[Pe].unique_clicks+=ae.unique_clicks,G[Pe].purchases+=ae.purchases});const Te=Object.values(G);Te.forEach(ae=>{ae.conversion_rate=ae.visits>0?ae.purchases/ae.visits*100:0,ae.unique_conversion_rate=ae.unique_visits>0?ae.purchases/ae.unique_visits*100:0,ae.persuasion_rate=ae.visits>0?ae.clicks/ae.visits*100:0,ae.unique_persuasion_rate=ae.unique_visits>0?ae.unique_clicks/ae.unique_visits*100:0});const We=re==="conversion"?I?"unique_conversion_rate":"conversion_rate":I?"unique_persuasion_rate":"persuasion_rate";return Te.sort((ae,Pe)=>(Pe[We]??0)-(ae[We]??0))},[i,Se,re,I,Le]);const Gn=U.useMemo(()=>{if(!i||i.utm_stats.length===0)return{moneyMachines:[],hiddenGems:[],leakyFaucets:[],wastedAdSpend:[],roasChampions:[]};const G=i.utm_stats.filter(Je=>Je.revenue>0),Te=i.utm_stats.filter(Je=>Je.clicks>0),We=i.utm_stats.filter(Je=>Je.ad_spend>0),ae=[...G].sort((Je,O)=>O.revenue-Je.revenue),Pe=[...G].filter(Je=>Je.purchases>0).map(Je=>({...Je,aov:Je.revenue/Je.purchases})).sort((Je,O)=>O.aov-Je.aov),Ce=Te.filter(Je=>Je.purchases===0).sort((Je,O)=>O.clicks-Je.clicks),He=i.utm_stats.filter(Je=>Je.visits>0&&Je.clicks===0).sort((Je,O)=>O.visits-Je.visits),Ct=[...We].filter(Je=>Je.roas>0).sort((Je,O)=>O.roas-Je.roas);return{moneyMachines:ae,hiddenGems:Pe,leakyFaucets:Ce,wastedAdSpend:He,roasChampions:Ct}},[i]),rl=G=>{Ne(G),ut(new Set)},_i=()=>{Ne(new Set),ut(new Set)},Be=U.useCallback((G,Te)=>{if(!Te)return[];const We=new Map;return Te.forEach(ae=>{let Pe,Ce,He=null,Ct,Je;if(G==="campaign"){if(He=ae.campaign_id,!He)return;Pe=He,Ce=ae.campaign||"none"}else if(G==="medium"){if(He=ae.adset_id,!He)return;Pe=He,Ce=ae.medium||"none",Ct=ae.campaign}else{if(He=ae.ad_id,!He)return;Pe=He,Ce=ae.content||"none",Ct=ae.medium,Je=ae.campaign}We.has(Pe)||We.set(Pe,{id:He,name:Ce,parentName:Ct,grandParentName:Je,fullKey:Pe,visits:0,unique_visits:0,clicks:0,unique_clicks:0,purchases:0,order_bumps:0,revenue:0,ad_spend:0,campaign_budget_values:[],adset_budget_values:[],budget_display:"",budget_value:0});const O=We.get(Pe);O.visits+=ae.visits,O.unique_visits+=ae.unique_visits,O.clicks+=ae.clicks,O.unique_clicks+=ae.unique_clicks,O.purchases+=ae.purchases,O.order_bumps+=ae.order_bumps,O.revenue+=ae.revenue,O.ad_spend+=ae.ad_spend,ae.campaign_budget>0&&O.campaign_budget_values.push(ae.campaign_budget),ae.adset_budget>0&&O.adset_budget_values.push(ae.adset_budget)}),Array.from(We.values()).forEach(ae=>{const Pe=ae.campaign_budget_values.length>0?Math.max(...ae.campaign_budget_values):0,Ce=ae.adset_budget_values.length>0?Math.max(...ae.adset_budget_values):0;if(G==="campaign")Pe>0?(ae.budget_display=`$${Pe.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ae.budget_value=Pe):Ce>0?(ae.budget_display="Presupuesto ABO",ae.budget_value=0):(ae.budget_display="Sin presupuesto",ae.budget_value=0);else if(G==="medium")Ce>0?(ae.budget_display=`$${Ce.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ae.budget_value=Ce):Pe>0?(ae.budget_display="Presupuesto CBO",ae.budget_value=0):(ae.budget_display="Sin presupuesto",ae.budget_value=0);else{const He=Ce||Pe||0;He>0?(ae.budget_display=`$${He.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ae.budget_value=He):(ae.budget_display="Sin presupuesto",ae.budget_value=0)}delete ae.campaign_budget_values,delete ae.adset_budget_values}),Array.from(We.values()).map(ae=>({...ae,roas:ae.ad_spend>0?ae.revenue/ae.ad_spend:0,conversion_rate:ae.visits>0?ae.purchases/ae.visits*100:0,unique_conversion_rate:ae.unique_visits>0?ae.purchases/ae.unique_visits*100:0,persuasion_rate:ae.clicks>0?ae.clicks/ae.visits*100:0,unique_persuasion_rate:ae.unique_visits>0?ae.unique_clicks/ae.unique_visits*100:0,checkout_conversion_rate:ae.clicks>0?ae.purchases/ae.clicks*100:0,unique_checkout_conversion_rate:ae.unique_clicks>0?ae.purchases/ae.unique_clicks*100:0,order_bump_rate:ae.purchases>0?ae.order_bumps/ae.purchases*100:0}))},[]),ht=U.useMemo(()=>Be("campaign",i==null?void 0:i.utm_stats),[Be,i]),ft=U.useMemo(()=>{if(!i)return[];const G=V.size>0?i.utm_stats.filter(Te=>V.has(Te.campaign||"none")):i.utm_stats;return Be("medium",G)},[Be,i,V]),mn=U.useMemo(()=>{if(!i)return[];let G=i.utm_stats;return V.size>0&&(G=G.filter(Te=>V.has(Te.campaign||"none"))),Ve.size>0&&(G=G.filter(Te=>Ve.has(Te.medium||"none"))),Be("content",G)},[Be,i,V,Ve]),Vt=U.useMemo(()=>i!=null&&i.daily_stats?i.daily_stats.map(G=>{const Te=G.revenue-G.ad_spend;return{...G,spend:G.ad_spend,profit:Te,sales:G.purchases,profitArea:Te>=0?[G.ad_spend,G.revenue]:[G.revenue,G.revenue],lossArea:Te<0?[G.revenue,G.ad_spend]:[G.ad_spend,G.ad_spend],roasProfitArea:G.roas>=1?[1,G.roas]:[1,1],roasLossArea:G.roas<1?[G.roas,1]:[1,1]}}):[],[i==null?void 0:i.daily_stats]),Vn=async(G,Te)=>{const We=new Set,ae=new Set,Pe=new Set;Zr.forEach(Y=>{var he;if((he=Y.event_data)!=null&&he.utm_data){const ge=Y.event_data.utm_data,pe=Mr(ge.utm_campaign||""),xe=Mr(ge.utm_medium||""),Ie=Mr(ge.utm_content||"");pe&&We.add(pe),xe&&ae.add(xe),Ie&&Pe.add(Ie),ge.utm_campaign&&We.add(ge.utm_campaign),ge.utm_medium&&ae.add(ge.utm_medium),ge.utm_content&&Pe.add(ge.utm_content)}});const Ce=Ua.filter(Y=>{const he=We.has(Y.campaign_id)||ae.has(Y.adset_id)||Pe.has(Y.ad_id),ge=We.has(Y.campaign_name||"")||ae.has(Y.adset_name||"")||Pe.has(Y.ad_name||"");return he||ge}),He=new Map;Ce.forEach(Y=>{const he=`${Y.campaign_id}|${Y.adset_id}|${Y.ad_id}`;He.has(he)||He.set(he,{campaign_id:Y.campaign_id,adset_id:Y.adset_id,ad_id:Y.ad_id,campaign:Y.campaign_name||"Sin nombre",medium:Y.adset_name||"Sin nombre",content:Y.ad_name||"Sin nombre"})});const Ct=new Map,Je=new Map;Zr.forEach(Y=>{var ge,pe;const he=Y.session_id||Y.visitor_id;if(Y.event_type==="pageview"&&((ge=Y.event_data)!=null&&ge.utm_data))Ct.set(he,Y.event_data.utm_data);else if(Y.event_type==="hotmart_click"){let xe=(pe=Y.event_data)==null?void 0:pe.utm_data;!xe&&Ct.has(he)&&(xe=Ct.get(he)),xe&&Je.set(he,xe)}});const F=Zr.filter(Y=>Y.event_type==="compra_hotmart"||Y.event_type==="compra_hotmart_orderbump").filter(Y=>{var Et;const he=Y.session_id||Y.visitor_id,ge=((Et=Y.event_data)==null?void 0:Et.utm_data)||Je.get(he)||Ct.get(he);if(!ge)return!1;const pe=Mr(ge.utm_campaign||""),xe=Mr(ge.utm_medium||""),Ie=Mr(ge.utm_content||"");let et=null;if(pe&&xe&&Ie&&(et=`${pe}|${xe}|${Ie}`),(!et||!He.has(et))&&(et=Vw(ge,He)),!et||!He.has(et))return!1;const ot=He.get(et);return Te==="campaign"?ot.campaign_id===G.id:Te==="adset"?ot.adset_id===G.id:Te==="ad"?ot.ad_id===G.id:!1}),C=Ua.filter(Y=>Te==="campaign"?Y.campaign_id===G.id:Te==="adset"?Y.adset_id===G.id:Te==="ad"?Y.ad_id===G.id:!1),P=new Map;C.forEach(Y=>{const he=Y.date;P.has(he)||P.set(he,{date:he,spend:0,sales:0,revenue:0});const ge=P.get(he);ge.spend+=parseFloat(Y.spend)||0}),F.forEach(Y=>{const he=xl(Y.created_at,r).split(" ")[0];P.has(he)||P.set(he,{date:he,spend:0,sales:0,revenue:0});const ge=P.get(he);ge.sales+=1,ge.revenue+=Pi(Y)});const R=Array.from(P.values()).map(Y=>{const he=Y.revenue-Y.spend,ge=Y.spend>0?Y.revenue/Y.spend:0;return{...Y,profit:he,roas:ge,revenue:Y.revenue}}).sort((Y,he)=>new Date(Y.date).getTime()-new Date(he.date).getTime()),B=R.reduce((Y,he)=>(Y.totalSpend+=he.spend,Y.totalSales+=he.sales,Y.totalProfit+=he.profit,Y.totalRevenue+=he.revenue,Y),{totalSpend:0,totalSales:0,totalProfit:0,totalRevenue:0}),J=B.totalSpend>0?B.totalRevenue/B.totalSpend:0,ie=R.map(Y=>Y.roas).filter(Y=>isFinite(Y)&&Y>0),X=ie.length>0?Math.max(...ie):0,Z=ie.length>0?Math.min(...ie):0,te={id:G.id,name:G.name,parentName:G.parentName,grandParentName:G.grandParentName,type:Te,totalSales:B.totalSales,avgRoas:J,maxRoas:X,minRoas:Z,totalSpend:B.totalSpend,totalProfit:B.totalProfit,dailyData:R,status:"ACTIVE",lastWeekRoas:0};Gt(te),vr(!0)};if(n)return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:u.jsxs("div",{className:"flex flex-wrap gap-4 items-start justify-between",children:[u.jsxs("div",{className:"space-y-4 w-full lg:w-auto",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[u.jsxs("div",{className:"relative",ref:_,children:[u.jsx("label",{htmlFor:"date-picker-button",className:"block text-sm font-medium text-gray-700",children:"Rango de Fechas"}),u.jsxs("button",{id:"date-picker-button",onClick:()=>x(!w),className:"mt-1 flex items-center justify-between w-64 text-left bg-white border border-gray-300 rounded-md shadow-sm px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[u.jsx("span",{children:`${va((j==null?void 0:j.from)||new Date,"dd MMM yyyy",{locale:Ya})} - ${va((j==null?void 0:j.to)||(j==null?void 0:j.from)||new Date,"dd MMM yyyy",{locale:Ya})}`}),u.jsx(H0,{className:"h-4 w-4 text-gray-400"})]}),w&&u.jsx("div",{className:"absolute top-full mt-2 z-10 bg-white border border-gray-200 rounded-lg shadow-lg",children:u.jsx(Gw,{mode:"range",selected:j,onSelect:bi,locale:Ya,numberOfMonths:2,defaultMonth:(j==null?void 0:j.from)||new Date,disabled:{after:new Date},showOutsideDays:!0,fixedWeeks:!0})})]}),u.jsx("button",{onClick:()=>Wa(),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",title:"Refrescar datos",children:u.jsx(Uu,{className:"h-4 w-4"})})]}),v&&u.jsx("div",{className:"text-sm text-red-600",children:v}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Kw.map(G=>u.jsx("button",{className:"px-4 py-2 rounded-md text-sm font-medium transition-colors bg-gray-100 text-gray-500 border border-gray-200 cursor-not-allowed",disabled:!0,children:G.label},G.value))})]}),u.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-400 cursor-not-allowed",disabled:!0,children:[u.jsx(qv,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((G,Te)=>u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[u.jsx(Ni,{height:20,width:150}),u.jsx(Ni,{height:40,className:"mt-2"})]},Te))}),u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:u.jsx(Ni,{width:200})}),u.jsx("div",{className:"h-80",children:u.jsx(Ni,{height:"100%"})})]}),u.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[u.jsx("div",{className:"px-4 py-5 sm:px-6",children:u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:u.jsx(Ni,{width:250})})}),u.jsx("div",{className:"border-t border-gray-200",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsx("tr",{children:["Campaña","Segmentación","Anuncio","Visitas","Pagos Iniciados","Compras","Conversión","Persuasión"].map((G,Te)=>u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx(Ni,{width:G.length*8})},Te))})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.from({length:5}).map((G,Te)=>u.jsx("tr",{children:Array.from({length:8}).map((We,ae)=>u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx(Ni,{})},ae))},Te))})]})})})]})]});if(T)return u.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:u.jsx("p",{className:"text-red-500",children:T})});if(!i)return u.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:u.jsx("p",{className:"text-gray-500",children:"No hay datos disponibles"})});const It=i.total_purchases>0?i.total_revenue/i.total_purchases:0,kr=i.total_purchases-i.total_order_bumps;return I?i.unique_visits>0&&i.total_revenue/i.unique_visits:i.total_visits>0&&i.total_revenue/i.total_visits,u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:u.jsxs("div",{className:"flex flex-wrap gap-4 items-start justify-between",children:[u.jsxs("div",{className:"space-y-4 w-full lg:w-auto",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[u.jsxs("div",{className:"relative",ref:_,children:[u.jsx("label",{htmlFor:"date-picker-button",className:"block text-sm font-medium text-gray-700",children:"Rango de Fechas"}),u.jsxs("button",{id:"date-picker-button",onClick:ws,className:"mt-1 flex items-center justify-between w-64 text-left bg-white border border-gray-300 rounded-md shadow-sm px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[u.jsx("span",{className:j!=null&&j.from&&(j!=null&&j.to)?"text-gray-900":"text-gray-500",children:j!=null&&j.from&&(j!=null&&j.to)?`${va(j.from,"dd MMM yyyy",{locale:Ya})} - ${va(j.to,"dd MMM yyyy",{locale:Ya})}`:"Seleccionar rango de fechas"}),u.jsx(H0,{className:"h-4 w-4 text-gray-400"})]}),w&&u.jsxs("div",{className:"absolute top-full mt-2 z-10 bg-white border border-gray-200 rounded-xl shadow-xl overflow-hidden min-w-max",children:[u.jsxs("div",{className:"flex",children:[u.jsxs("div",{className:"w-64 bg-gray-50 border-r border-gray-200 p-4 flex-shrink-0",children:[u.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Rangos Rápidos"]}),u.jsx("div",{className:"space-y-1",children:Kw.map(G=>u.jsx("div",{className:"relative",children:u.jsx("button",{onClick:()=>{ve(G.value,!1),wi(G.value,G.daysBack,G.canIncludeToday,!1)},className:`w-full text-left px-3 py-2 text-sm rounded-lg transition-all flex items-center justify-between group ${H===G.value?"bg-indigo-100 text-indigo-700 border border-indigo-200":o===G.value&&!H?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-white hover:shadow-sm border border-transparent"}`,children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${H===G.value?"bg-indigo-500":o===G.value&&!H?"bg-blue-500":"bg-gray-400 group-hover:bg-gray-500"}`}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"font-medium",children:G.label}),H===G.value&&G.canIncludeToday&&u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Incluir hoy:"}),u.jsx("button",{onClick:Te=>{Te.stopPropagation();const We=!se(G.value);ve(G.value,We),wi(G.value,G.daysBack,G.canIncludeToday,We)},className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${se(G.value)?"bg-indigo-600":"bg-gray-300"}`,children:u.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform duration-200 ${se(G.value)?"translate-x-5":"translate-x-1"}`})}),u.jsx("span",{className:"text-xs font-medium text-gray-700",children:se(G.value)?"Sí":"No"})]}),o===G.value&&!H&&G.canIncludeToday&&u.jsx("span",{className:"text-xs text-blue-600 opacity-75 font-medium",children:se(G.value)?"• con hoy":"• sin hoy"})]})]})})},G.value))})]}),u.jsxs("div",{className:"p-4 min-w-max",children:[u.jsxs("div",{className:"text-sm text-gray-600 mb-3 min-h-[20px]",children:[!(L!=null&&L.from)&&"📅 Selecciona la fecha de inicio",(L==null?void 0:L.from)&&!(L!=null&&L.to)&&"📅 Ahora selecciona la fecha de fin",(L==null?void 0:L.from)&&(L==null?void 0:L.to)&&u.jsxs("span",{className:"text-indigo-700 font-medium",children:["📅 ",va(L.from,"dd MMM yyyy",{locale:Ya})," - ",va(L.to,"dd MMM yyyy",{locale:Ya})]})]}),u.jsx(Gw,{mode:"range",selected:L,onSelect:bi,locale:Ya,numberOfMonths:2,defaultMonth:(()=>{const G=new Date;return new Date(G.getFullYear(),G.getMonth()-1,1)})(),disabled:{after:new Date},showOutsideDays:!1,fixedWeeks:!1,className:"border-0",classNames:{months:"flex flex-row space-x-4",month:"space-y-4"}})]})]}),u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 bg-gray-50 border-t border-gray-200",children:[u.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-md transition-colors",children:"Cancelar"}),u.jsx("button",{onClick:bs,disabled:!(L!=null&&L.from)||!(L!=null&&L.to),className:"px-6 py-2 text-sm bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Aplicar Rango"})]})]})]}),u.jsx("button",{onClick:()=>Wa(),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",title:"Refrescar datos",children:u.jsx(Uu,{className:"h-4 w-4"})})]}),v&&u.jsx("div",{className:"text-sm text-red-600",children:v})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{onClick:_s,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[u.jsx(qv,{className:"h-4 w-4 mr-2"}),"Exportar"]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:I,onChange:()=>ee(!I),className:"sr-only peer"}),u.jsx("div",{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 
              peer-checked:after:translate-x-5 peer-checked:after:border-white after:content-[''] 
              after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 
              after:border after:rounded-full after:h-5 after:w-5 after:transition-all 
              peer-checked:bg-indigo-600`}),u.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:I?"Únicos":"Totales"})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 flex flex-col justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Ingresos Totales"}),u.jsxs("h3",{className:"text-3xl font-bold text-gray-900",children:["$",i.total_revenue.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-green-700 font-semibold",children:"Principal:"}),u.jsxs("span",{className:"font-bold text-gray-800",children:["$",i.total_main_product_revenue.toLocaleString("es-ES",{maximumFractionDigits:0})]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-orange-600 font-semibold",children:"Order Bumps:"}),u.jsxs("span",{className:"font-bold text-gray-800",children:["$",i.total_order_bump_revenue.toLocaleString("es-ES",{maximumFractionDigits:0})]})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 flex flex-col justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Beneficio Neto"}),u.jsxs("h3",{className:`text-3xl font-bold ${i.total_revenue-i.total_ad_spend>=0?"text-green-600":"text-red-600"}`,children:["$",(i.total_revenue-i.total_ad_spend).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Gasto Pub.:"}),u.jsxs("span",{className:"font-semibold text-red-600",children:["$",i.total_ad_spend.toLocaleString("es-ES",{maximumFractionDigits:2})]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Margen:"}),u.jsxs("span",{className:"font-semibold text-gray-800",children:[(i.total_revenue>0?(i.total_revenue-i.total_ad_spend)/i.total_revenue*100:0).toFixed(1),"%"]})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 flex flex-col justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-baseline",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"ROAS Total"}),u.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.roas>=3?"bg-green-100 text-green-800":i.roas>=2?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:i.roas>=3?"Excelente":i.roas>=2?"Bueno":"Crítico"})]}),u.jsxs("h3",{className:"text-3xl font-bold text-gray-900",children:[i.roas.toFixed(2),"x"]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-purple-700 font-semibold",children:"ROAS Principal:"}),u.jsxs("span",{className:"font-bold text-gray-800",children:[(i.total_ad_spend>0?i.total_main_product_revenue/i.total_ad_spend:0).toFixed(2),"x"]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-indigo-700 font-semibold",children:"ROAS Total:"}),u.jsxs("span",{className:"font-bold text-gray-800",children:[i.roas.toFixed(2),"x"]})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 flex flex-col justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"CPA (Principal)"}),u.jsxs("h3",{className:"text-3xl font-bold text-gray-900",children:["$",(kr>0?i.total_ad_spend/kr:0).toFixed(2)]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"CPV:"}),u.jsxs("span",{className:"font-semibold text-gray-800",children:["$",((I?i.unique_visits:i.total_visits)>0?i.total_ad_spend/(I?i.unique_visits:i.total_visits):0).toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Costo / Click:"}),u.jsxs("span",{className:"font-semibold text-gray-800",children:["$",((I?i.unique_clicks:i.total_clicks)>0?i.total_ad_spend/(I?i.unique_clicks:i.total_clicks):0).toFixed(2)]})]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden mb-6",children:[u.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Métricas de Rendimiento"})}),u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"flex items-center justify-center mb-3",children:u.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:u.jsx(Ui,{className:"h-6 w-6 text-blue-600"})})}),u.jsxs("p",{className:"text-xs font-medium text-gray-500 mb-2",children:["Visitas ",I?"Únicas":"Totales"]}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:(I?i.unique_visits:i.total_visits).toLocaleString()}),u.jsxs("p",{className:"text-sm font-medium text-blue-600",children:["CPV: $",((I?i.unique_visits:i.total_visits)>0?i.total_ad_spend/(I?i.unique_visits:i.total_visits):0).toFixed(2)]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"flex items-center justify-center mb-3",children:u.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:u.jsx(z0,{className:"h-6 w-6 text-green-600"})})}),u.jsxs("p",{className:"text-xs font-medium text-gray-500 mb-2",children:["Pagos Iniciados ",I?"Únicos":"Totales"]}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:(I?i.unique_clicks:i.total_clicks).toLocaleString()}),u.jsxs("p",{className:"text-sm font-medium text-green-600",children:["Persuasión: ",((I?i.unique_clicks:i.total_clicks)/(I?i.unique_visits:i.total_visits)*100).toFixed(1),"%"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"flex items-center justify-center mb-3",children:u.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:u.jsx(zu,{className:"h-6 w-6 text-purple-600"})})}),u.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Compras Totales"}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:i.total_purchases.toLocaleString()}),u.jsxs("div",{className:"text-sm space-y-1 mt-2",children:[u.jsxs("p",{className:"text-purple-600 font-semibold",children:["Principal: ",i.total_purchases-i.total_order_bumps]}),u.jsxs("p",{className:"text-orange-600 font-semibold",children:["Order Bump: ",i.total_order_bumps]})]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"flex items-center justify-center mb-3",children:u.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg",children:u.jsx(yP,{className:"h-6 w-6 text-yellow-600"})})}),u.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Tasa de Conversión"}),u.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:[(I?i.unique_conversion_rate:i.conversion_rate).toFixed(2),"%"]}),u.jsxs("p",{className:"text-sm font-medium text-yellow-600",children:["Checkout: ",((I?i.unique_clicks:i.total_clicks)>0?i.total_purchases/(I?i.unique_clicks:i.total_clicks)*100:0).toFixed(1),"%"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"flex items-center justify-center mb-3",children:u.jsx("div",{className:"p-3 bg-indigo-50 rounded-lg",children:u.jsx(Hu,{className:"h-6 w-6 text-indigo-600"})})}),u.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Valor Promedio"}),u.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:["$",It.toFixed(0)]}),u.jsxs("p",{className:"text-sm font-medium text-indigo-600",children:["OB Rate: ",i.order_bump_rate.toFixed(1),"%"]})]})]})})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Análisis de Rentabilidad"})}),u.jsx("div",{className:"h-80",children:u.jsx(sf,{width:"100%",height:"100%",children:u.jsxs(Kf,{data:Vt,margin:{top:5,right:30,left:30,bottom:0},syncId:"finance",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"profitGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.4}),u.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:.05})]}),u.jsxs("linearGradient",{id:"lossGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.4}),u.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:.05})]})]}),u.jsx(Ac,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),u.jsx(rs,{dataKey:"date",hide:!0}),u.jsx(ns,{yAxisId:"money",orientation:"right",tick:{fontSize:12,fill:"#6b7280"},tickLine:{stroke:"#d1d5db"},axisLine:{stroke:"#d1d5db"},tickFormatter:G=>`$${G.toLocaleString("es-ES",{maximumFractionDigits:0})}`,label:{value:"Dinero ($)",angle:90,position:"insideRight",style:{textAnchor:"middle",fill:"#6b7280"}}}),u.jsx(on,{content:u.jsx(Eue,{})}),u.jsx(li,{wrapperStyle:{paddingTop:"20px"}}),u.jsx(Lr,{yAxisId:"money",type:"monotone",dataKey:"profitArea",name:"Beneficio",stroke:"none",fill:"url(#profitGradient)",connectNulls:!0}),u.jsx(Lr,{yAxisId:"money",type:"monotone",dataKey:"lossArea",name:"Pérdida",stroke:"none",fill:"url(#lossGradient)",connectNulls:!0}),u.jsx(ia,{yAxisId:"money",type:"monotone",dataKey:"revenue",name:"Ingresos",stroke:"#10B981",strokeWidth:3,dot:{r:3,strokeWidth:2,fill:"#fff",stroke:"#10B981"},activeDot:{r:5,strokeWidth:2},children:u.jsx(jr,{dataKey:"revenue",position:"top",style:{fontSize:"10px",fill:"#374151"},formatter:G=>`$${Math.round(G)}`,offset:8})}),u.jsx(ia,{yAxisId:"money",type:"monotone",dataKey:"spend",name:"Gasto",stroke:"#EF4444",strokeWidth:3,dot:{r:3,strokeWidth:2,fill:"#fff",stroke:"#EF4444"},activeDot:{r:5,strokeWidth:2},children:u.jsx(jr,{dataKey:"spend",position:"bottom",style:{fontSize:"10px",fill:"#374151"},formatter:G=>`$${Math.round(G)}`,offset:8})})]})})}),u.jsx("div",{className:"mt-0",children:u.jsx("div",{className:"h-40",children:u.jsx(sf,{width:"100%",height:"100%",children:u.jsxs(Kf,{data:Vt,margin:{top:10,right:95,left:30,bottom:20},syncId:"finance",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"roasProfitGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.4}),u.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:.05})]}),u.jsxs("linearGradient",{id:"roasLossGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.4}),u.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:.05})]})]}),u.jsx(Ac,{strokeDasharray:"3 3",stroke:"#f0f0f0",vertical:!1}),u.jsx(rs,{dataKey:"date",tick:{fontSize:12,fill:"#6b7280"}}),u.jsx(ns,{hide:!0,domain:[0,"dataMax + 0.5"]}),u.jsx(on,{content:({active:G,payload:Te,label:We})=>{if(G&&Te&&Te.length){const ae=Te.find(Pe=>Pe.dataKey==="roas");if(ae){const Pe=ae.value;return u.jsxs("div",{className:"bg-white p-2 rounded shadow border text-sm",children:[u.jsx("p",{children:We}),u.jsxs("p",{className:"font-bold text-blue-600",children:["ROAS: ",Pe==null?void 0:Pe.toFixed(2),"x"]})]})}}return null}}),u.jsx(Yc,{y:1,stroke:"#B45309",strokeDasharray:"3 3"}),u.jsx(Lr,{type:"monotone",dataKey:"roasProfitArea",stroke:"none",fill:"url(#roasProfitGradient)",name:"ROAS > 1"}),u.jsx(Lr,{type:"monotone",dataKey:"roasLossArea",stroke:"none",fill:"url(#roasLossGradient)",name:"ROAS < 1"}),u.jsx(ia,{type:"monotone",dataKey:"roas",name:"ROAS",stroke:"#3B82F6",strokeWidth:3,dot:{r:3,strokeWidth:2,fill:"#fff",stroke:"#3B82F6"},activeDot:{r:5,strokeWidth:2},children:u.jsx(jr,{dataKey:"roas",position:"top",style:{fontSize:"10px",fill:"#374151"},formatter:G=>`${G.toFixed(1)}x`,offset:8})})]})})})})]}),u.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[u.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("button",{onClick:()=>Ee("resumen"),className:`px-4 py-2 text-sm font-medium ${_e==="resumen"?"border-b-2 border-indigo-600 text-indigo-600":"text-gray-500"}`,children:"RESUMEN"}),u.jsx("button",{onClick:()=>Ee("detalle"),className:`px-4 py-2 text-sm font-medium ${_e==="detalle"?"border-b-2 border-indigo-600 text-indigo-600":"text-gray-500"}`,children:"TABLA CAMPAÑAS"})]})}),_e==="resumen"?u.jsxs("div",{className:"p-6 space-y-8 bg-gray-50",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[u.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[u.jsx(N_,{className:"h-6 w-6 text-indigo-600 mr-3"}),"Funnel de Conversión"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 bg-blue-100 rounded-lg w-16 h-16 flex items-center justify-center",children:u.jsx(Ui,{className:"w-8 h-8 text-blue-600"})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-lg font-bold text-gray-900",children:I?i.unique_visits:i.total_visits}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Visitas ",I?"Únicas":"Totales"]})]})]}),u.jsxs("div",{className:"ml-8 pl-1 flex items-center",style:{minHeight:"40px"},children:[u.jsx("div",{className:"w-px h-full bg-gray-300 mr-4"}),u.jsxs("div",{className:"text-xs text-blue-600 font-semibold bg-blue-50 px-2 py-1 rounded-full",children:[((I?i.unique_clicks:i.total_clicks)/(I?i.unique_visits:i.total_visits)*100).toFixed(1),"%"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-lg w-16 h-16 flex items-center justify-center",children:u.jsx(z0,{className:"w-8 h-8 text-green-600"})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-lg font-bold text-gray-900",children:I?i.unique_clicks:i.total_clicks}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Pagos Iniciados ",I?"Únicos":"Totales"]})]})]}),u.jsxs("div",{className:"ml-8 pl-1 flex items-center",style:{minHeight:"40px"},children:[u.jsx("div",{className:"w-px h-full bg-gray-300 mr-4"}),u.jsxs("div",{className:"text-xs text-green-600 font-semibold bg-green-50 px-2 py-1 rounded-full",children:[(i.total_purchases/(I?i.unique_clicks:i.total_clicks)*100).toFixed(1),"%"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 bg-purple-100 rounded-lg w-16 h-16 flex items-center justify-center",children:u.jsx(zu,{className:"w-8 h-8 text-purple-600"})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-lg font-bold text-gray-900",children:i.total_purchases}),u.jsx("p",{className:"text-sm text-gray-500",children:"Compras"})]})]}),u.jsxs("div",{className:"ml-8 pl-1 flex items-center",style:{minHeight:"40px"},children:[u.jsx("div",{className:"w-px h-full bg-gray-300 mr-4"}),u.jsxs("div",{className:"text-xs text-emerald-600 font-semibold bg-emerald-50 px-2 py-1 rounded-full",children:["$",It.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})," / compra"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 bg-emerald-100 rounded-lg w-16 h-16 flex items-center justify-center",children:u.jsx(Hu,{className:"w-8 h-8 text-emerald-600"})}),u.jsxs("div",{className:"ml-4",children:[u.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",i.total_revenue.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),u.jsx("p",{className:"text-sm text-gray-500",children:"Ingresos Totales"})]})]}),u.jsxs("div",{className:"ml-8 pl-1 flex items-center",style:{minHeight:"40px"},children:[u.jsx("div",{className:"w-px h-full bg-red-300 mr-4"}),u.jsxs("div",{className:"text-xs text-red-600 font-semibold bg-red-50 px-2 py-1 rounded-full",children:["ROAS: ",i.roas.toFixed(2),"x"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 bg-red-100 rounded-lg w-16 h-16 flex items-center justify-center",children:u.jsx(TP,{className:"w-8 h-8 text-red-600"})}),u.jsxs("div",{className:"ml-4",children:[u.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",i.total_ad_spend.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),u.jsx("p",{className:"text-sm text-gray-500",children:"Gasto Publicitario"})]})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border space-y-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Métricas Clave"}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ROAS Total"}),u.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[i.roas.toFixed(2),"x"]}),u.jsx("p",{className:"text-xs text-gray-400",children:i.roas>=3?"🟢 Excelente":i.roas>=2?"🟡 Bueno":"🔴 Mejorar"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Conversión General"}),u.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:[(I?i.unique_conversion_rate:i.conversion_rate).toFixed(2),"%"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Gasto / Visita (CPV)"}),u.jsxs("p",{className:"text-3xl font-bold text-red-600",children:["$",((I?i.unique_visits:i.total_visits)>0?i.total_ad_spend/(I?i.unique_visits:i.total_visits):0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Ingreso / Compra (AOV)"}),u.jsxs("p",{className:"text-3xl font-bold text-emerald-600",children:["$",It.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Beneficio Neto"}),u.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["$",(i.total_revenue-i.total_ad_spend).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Margen de Beneficio"}),u.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[(i.total_revenue>0?(i.total_revenue-i.total_ad_spend)/i.total_revenue*100:0).toFixed(2),"%"]})]})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[u.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[u.jsx(q0,{className:"h-6 w-6 text-purple-600 mr-3"}),"Análisis de Rentabilidad"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-6 rounded-lg border border-purple-200",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ROAS y Rentabilidad"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"ROAS:"}),u.jsxs("span",{className:`text-lg font-bold ${i.roas>=3?"text-green-600":i.roas>=2?"text-yellow-600":"text-red-600"}`,children:[i.roas.toFixed(2),"x"]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"ROI:"}),u.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[(i.total_ad_spend>0?(i.total_revenue-i.total_ad_spend)/i.total_ad_spend*100:0).toFixed(1),"%"]})]}),u.jsx("div",{className:"text-xs text-gray-500 mt-2",children:i.roas>=3?"🟢 Excelente rentabilidad":i.roas>=2?"🟡 Rentabilidad aceptable":"🔴 Revisar estrategia"})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-pink-50 p-6 rounded-lg border border-red-200",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Costos y Eficiencia"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Gasto Total:"}),u.jsxs("span",{className:"text-lg font-bold text-red-600",children:["$",i.total_ad_spend.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"CPV (Costo/Visita):"}),u.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["$",((I?i.unique_visits:i.total_visits)>0?i.total_ad_spend/(I?i.unique_visits:i.total_visits):0).toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"CPC (Costo/Click):"}),u.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["$",((I?i.unique_clicks:i.total_clicks)>0?i.total_ad_spend/(I?i.unique_clicks:i.total_clicks):0).toFixed(2)]})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-lg border border-green-200",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Beneficios"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Beneficio Neto:"}),u.jsxs("span",{className:`text-lg font-bold ${i.total_revenue-i.total_ad_spend>=0?"text-green-600":"text-red-600"}`,children:["$",(i.total_revenue-i.total_ad_spend).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Margen:"}),u.jsxs("span",{className:`text-lg font-bold ${(i.total_revenue-i.total_ad_spend)/i.total_revenue*100>=0?"text-green-600":"text-red-600"}`,children:[(i.total_revenue>0?(i.total_revenue-i.total_ad_spend)/i.total_revenue*100:0).toFixed(1),"%"]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"ROI:"}),u.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[(i.total_ad_spend>0?(i.total_revenue-i.total_ad_spend)/i.total_ad_spend*100:0).toFixed(1),"%"]})]})]})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[u.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[u.jsx(xP,{className:"h-6 w-6 text-yellow-500 mr-3"}),"Inteligencia de Campañas"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[u.jsx(Sl,{icon:u.jsx(q0,{className:"h-8 w-8 text-white"}),bgColor:"bg-purple-500",title:"ROAS Champions",description:"Campañas con mejor retorno de inversión. ¡Duplicar presupuesto!",campaigns:Gn.roasChampions,showUnique:I,metricType:"roas"}),u.jsx(Sl,{icon:u.jsx(SP,{className:"h-8 w-8 text-white"}),bgColor:"bg-green-500",title:"Máquinas de Dinero",description:"Campañas que más ingresos generan. ¡Escalar!",campaigns:Gn.moneyMachines,showUnique:I,metricType:"revenue"}),u.jsx(Sl,{icon:u.jsx(gP,{className:"h-8 w-8 text-white"}),bgColor:"bg-sky-500",title:"Joyas Ocultas",description:"Campañas con el mayor valor por compra (AOV). ¡Analizar!",campaigns:Gn.hiddenGems,showUnique:I,metricType:"aov"}),u.jsx(Sl,{icon:u.jsx(Er,{className:"h-8 w-8 text-white"}),bgColor:"bg-amber-500",title:"Gigantes Cansados",description:"Atraen clicks pero no convierten. ¡Optimizar landing/oferta!",campaigns:Gn.leakyFaucets,showUnique:I,metricType:"clicks"}),u.jsx(Sl,{icon:u.jsx(D_,{className:"h-8 w-8 text-white"}),bgColor:"bg-red-500",title:"Agujeros Negros",description:"Atraen visitas pero no convierten. ¡Revisar creativos!",campaigns:Gn.wastedAdSpend,showUnique:I,metricType:"visits"})]})]})]}):u.jsxs("div",{className:"border-t border-gray-200 p-6",children:[u.jsxs("div",{className:"flex items-center space-x-2 border-b border-gray-200 mb-4",children:[u.jsxs("button",{onClick:()=>$e("campaign"),className:`px-4 py-2 text-sm font-medium rounded-t-lg ${Re==="campaign"?"bg-indigo-50 text-indigo-700 border-indigo-300 border-t border-l border-r":"text-gray-500 hover:text-gray-700"}`,children:["Campañas ",V.size>0&&u.jsxs("span",{className:"text-xs opacity-80",children:["(",V.size,")"]})]}),u.jsxs("button",{onClick:()=>$e("medium"),className:`px-4 py-2 text-sm font-medium rounded-t-lg ${Re==="medium"?"bg-indigo-50 text-indigo-700 border-indigo-300 border-t border-l border-r":"text-gray-500 hover:text-gray-700"}`,children:["Segmentación ",Ve.size>0&&u.jsxs("span",{className:"text-xs opacity-80",children:["(",Ve.size,")"]})]}),u.jsx("button",{onClick:()=>$e("content"),className:`px-4 py-2 text-sm font-medium rounded-t-lg ${Re==="content"?"bg-indigo-50 text-indigo-700 border-indigo-300 border-t border-l border-r":"text-gray-500 hover:text-gray-700"}`,children:"Anuncios"}),(V.size>0||Ve.size>0)&&u.jsxs("button",{onClick:_i,className:"ml-auto text-sm font-medium text-indigo-600 hover:text-indigo-800 self-center pb-2 flex items-center gap-1",children:[u.jsx(Uu,{className:"h-3 w-3"}),"Limpiar filtros"]})]}),Re==="campaign"&&u.jsx(D0,{data:ht,title:"Campaña",showUnique:I,selectedItems:V,onSelectionChange:rl,showBudgetColumn:!0,onItemClick:G=>Vn(G,"campaign")}),Re==="medium"&&u.jsx(D0,{data:ft,title:"Segmentación",showUnique:I,selectedItems:Ve,onSelectionChange:ut,showBudgetColumn:!0,onItemClick:G=>Vn(G,"adset")}),Re==="content"&&u.jsx(D0,{data:mn,title:"Anuncio",showUnique:I,selectedItems:new Set,onSelectionChange:()=>{},showBudgetColumn:!1,onItemClick:G=>Vn(G,"ad")})]})]}),u.jsx(Kse,{isOpen:er,onClose:()=>vr(!1),item:Jr})]})}const Sl=({icon:e,bgColor:t,title:r,description:n,campaigns:a,showUnique:i,metricType:s})=>{const o=l=>{switch(s){case"revenue":return u.jsxs("span",{className:"font-bold text-base text-green-700",children:["$",(l.revenue||0).toLocaleString("es-ES",{maximumFractionDigits:0})]});case"aov":return u.jsxs("span",{className:"font-bold text-base text-sky-700",children:["$",(l.aov||0).toLocaleString("es-ES",{maximumFractionDigits:0})," AOV"]});case"clicks":return u.jsxs("span",{className:"font-bold text-base text-amber-700",children:[l.clicks," Clicks"]});case"visits":return u.jsxs("span",{className:"font-bold text-base text-red-700",children:[l.visits," Visitas"]});case"roas":return u.jsxs("span",{className:"font-bold text-base text-purple-700",children:[(l.roas||0).toFixed(2),"x ROAS"]});default:return null}};return u.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200 flex flex-col",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsx("div",{className:`p-3 rounded-lg ${t}`,children:e}),u.jsx("span",{className:"font-bold text-3xl text-gray-300",children:a.length})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:r}),u.jsx("p",{className:"text-xs text-gray-500 h-8",children:n})]}),u.jsx("div",{className:"mt-4 space-y-3 flex-grow",children:a.slice(0,3).map((l,c)=>u.jsxs("div",{className:"bg-white p-3 rounded-lg text-xs border border-gray-200",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"inline-block w-20 text-center bg-blue-100 text-blue-800 text-[10px] font-semibold mr-2 px-2 py-0.5 rounded-full",children:"CAMPAÑA"}),u.jsx("p",{className:"font-medium text-gray-700 truncate",title:l.campaign,children:l.campaign})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"inline-block w-20 text-center bg-green-100 text-green-800 text-[10px] font-semibold mr-2 px-2 py-0.5 rounded-full",children:"CONJUNTO"}),u.jsx("p",{className:"text-gray-600 truncate",title:l.medium,children:l.medium})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"inline-block w-20 text-center bg-purple-100 text-purple-800 text-[10px] font-semibold mr-2 px-2 py-0.5 rounded-full",children:"ANUNCIO"}),u.jsx("p",{className:"text-gray-600 truncate",title:l.content,children:l.content})]})]}),u.jsxs("div",{className:"flex justify-between items-center text-gray-600 mt-2 pt-2 border-t border-gray-100",children:[u.jsx("span",{className:"font-medium text-sm",children:l.purchases>0?`${l.purchases} compras`:`${i?l.unique_visits:l.visits} visitas`}),o(l)]})]},c))}),a.length===0&&u.jsx("div",{className:"flex-grow flex items-center justify-center",children:u.jsx("p",{className:"text-sm text-gray-400",children:"No hay campañas aquí."})})]})},Xw=(e,t,r)=>{if(r===t||!isFinite(e))return"bg-gray-100 text-gray-800";const n=(e-t)/(r-t);return n<.15?"bg-red-100 text-red-800":n<.75?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"},Oue=({onApply:e,onClear:t})=>{const[r,n]=U.useState(">"),[a,i]=U.useState(""),s=()=>{a&&e(r,a)};return u.jsxs("div",{className:"absolute top-full mt-2 right-0 bg-white p-4 rounded-lg shadow-2xl border z-10 w-56 space-y-3",children:[u.jsx("h4",{className:"text-sm font-bold text-gray-800",children:"Filtrar Métrica"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("select",{value:r,onChange:o=>n(o.target.value),className:"block w-1/3 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[u.jsx("option",{value:">",children:">"}),u.jsx("option",{value:"<",children:"<"}),u.jsx("option",{value:"=",children:"="})]}),u.jsx("input",{type:"number",placeholder:"Valor",value:a,onChange:o=>i(o.target.value),className:"block w-2/3 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("button",{onClick:()=>{t(),i("")},className:"text-xs text-gray-500 hover:text-gray-700",children:"Limpiar"}),u.jsx("button",{onClick:s,className:"text-xs bg-indigo-600 text-white px-3 py-1 rounded-md hover:bg-indigo-700",children:"Aplicar"})]})]})};function D0({data:e,title:t,showUnique:r,selectedItems:n,onSelectionChange:a,showBudgetColumn:i=!0,onItemClick:s}){const[o,l]=U.useState("revenue"),[c,f]=U.useState("desc"),[d,h]=U.useState(""),[m,g]=U.useState({}),[p,v]=U.useState(null),b=T=>{T===o?f(c==="asc"?"desc":"asc"):(l(T),f("desc"))},{tableData:w,minMaxValues:x}=U.useMemo(()=>{const T=(q,H)=>{switch(H){case"visits":return r?q.unique_visits:q.visits;case"clicks":return r?q.unique_clicks:q.clicks;case"purchases":return q.purchases;case"revenue":return q.revenue;case"ad_spend":return q.ad_spend;case"budget":return q.budget_value||0;case"roas":return q.roas;case"conversion_rate":return r?q.unique_conversion_rate:q.conversion_rate;case"checkout_conversion_rate":return r?q.unique_checkout_conversion_rate:q.checkout_conversion_rate;case"profit":return(q.revenue||0)-(q.ad_spend||0);default:return q[H]}},N=e.filter(q=>{if(d&&!q.name.toLowerCase().includes(d.toLowerCase()))return!1;for(const H in m){const K=m[H];if(!K)continue;const Q=T(q,H);if(K.op===">"&&!(Q>K.val)||K.op==="<"&&!(Q<K.val)||K.op==="="&&Q!=K.val)return!1}return!0}),D=["conversion_rate","checkout_conversion_rate","roas"].reduce((q,H)=>{const K=N.map(Q=>T(Q,H)).filter(Q=>typeof Q=="number"&&isFinite(Q));return q[H]={min:K.length>0?Math.min(...K):0,max:K.length>0?Math.max(...K):0},q},{}),L=[...N];return L.sort((q,H)=>{const K=T(q,o),Q=T(H,o),fe=c==="asc"?1:-1;return typeof K=="number"&&typeof Q=="number"?(K-Q)*fe:String(K).localeCompare(String(Q))*fe}),{tableData:L,minMaxValues:D}},[e,o,c,r,d,m]),_=T=>{const N=new Set(n);N.has(T)?N.delete(T):N.add(T),a(N)},y=(T,N,j)=>{const D=parseFloat(j);isNaN(D)||g(L=>({...L,[T]:{op:N,val:D}})),v(null)},E=T=>{g(N=>{const j={...N};return delete j[T],j}),v(null)},S=()=>{n.size===w.length?a(new Set):a(new Set(w.map(T=>T.name)))},A=({field:T,label:N,align:j="right"})=>{const D=!!m[T];return u.jsx("th",{scope:"col",className:`px-3 py-3 text-${j} text-xs font-medium text-gray-500 uppercase tracking-wider`,children:u.jsxs("div",{className:"flex items-center gap-2",style:{justifyContent:j},children:[u.jsxs("button",{onClick:()=>b(T),className:"group inline-flex items-center space-x-1 hover:text-gray-900",children:[u.jsx("span",{className:D?"text-indigo-600":"",children:N}),u.jsx(Hv,{className:`h-4 w-4 ${o===T?"text-gray-900":D?"text-indigo-400":"text-gray-400 group-hover:text-gray-500"}`})]}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>v(p===T?null:T),children:u.jsx(N_,{className:`h-4 w-4 ${D?"text-indigo-600":"text-gray-400 hover:text-gray-700"}`})}),p===T&&u.jsx(Oue,{onApply:(L,q)=>y(T,L,q),onClear:()=>E(T)})]})]})})};return u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"pl-4 pr-3 py-3 text-left",children:u.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",checked:w.length>0&&n.size===w.length,onChange:S})}),u.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>b("name"),className:"group inline-flex items-center space-x-1 hover:text-gray-900",children:[u.jsx("span",{children:t}),u.jsx(Hv,{className:`h-4 w-4 ${o==="name"?"text-gray-900":"text-gray-400 group-hover:text-gray-500"}`})]}),u.jsx("input",{type:"text",placeholder:"Buscar...",value:d,onChange:T=>h(T.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-xs p-1.5"})]})}),i&&u.jsx(A,{field:"budget",label:"Presupuesto"}),u.jsx(A,{field:"visits",label:"Visitas"}),u.jsx(A,{field:"clicks",label:"Pagos Iniciados"}),u.jsx(A,{field:"purchases",label:"Compras"}),u.jsx(A,{field:"conversion_rate",label:"Conversión"}),u.jsx(A,{field:"revenue",label:"Ingresos"}),u.jsx(A,{field:"ad_spend",label:"Gasto Pub."}),u.jsx(A,{field:"profit",label:"Beneficio"}),u.jsx(A,{field:"roas",label:"ROAS"})]})}),u.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[w.map((T,N)=>{var j,D;return u.jsxs("tr",{className:`hover:bg-gray-100 cursor-pointer ${n.has(T.name)?"bg-indigo-50":""}`,onClick:()=>_(T.name),children:[u.jsx("td",{className:"px-6 py-4",children:u.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",checked:n.has(T.name),readOnly:!0})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 cursor-pointer hover:text-indigo-600 hover:underline",onClick:L=>{L.stopPropagation(),s(T)},children:T.name}),i&&u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:u.jsx("span",{className:`${(j=T.budget_display)!=null&&j.includes("CBO")||(D=T.budget_display)!=null&&D.includes("ABO")?"text-gray-500 italic text-xs":"text-blue-600 font-bold"}`,children:T.budget_display||"Sin presupuesto"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-medium text-right",children:r?T.unique_visits:T.visits}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-medium text-right",children:r?T.unique_clicks:T.clicks}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-medium text-right",children:T.purchases}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{children:u.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Xw(r?T.unique_conversion_rate:T.conversion_rate,x.conversion_rate.min,x.conversion_rate.max)}`,children:[(r?T.unique_conversion_rate:T.conversion_rate).toFixed(2),"% Total"]})}),u.jsx("div",{children:u.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-medium rounded-full ${Xw(r?T.unique_checkout_conversion_rate:T.checkout_conversion_rate,x.checkout_conversion_rate.min,x.checkout_conversion_rate.max)} opacity-75`,children:[(r?T.unique_checkout_conversion_rate:T.checkout_conversion_rate).toFixed(2),"% Checkout"]})})]})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-bold text-right",children:["$",(T.revenue||0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-bold text-right",children:["$",(T.ad_spend||0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-right",children:(()=>{const L=(T.revenue||0)-(T.ad_spend||0);return u.jsxs("span",{className:L>=0?"text-green-600":"text-red-600",children:[L>=0?"+":"","$",L.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})})()}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:u.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${(T.roas||0)>=3?"bg-green-100 text-green-800":(T.roas||0)>=2?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[(T.roas||0).toFixed(2),"x"]})})]},N)}),w.length>0&&(()=>{const T=w.reduce((q,H)=>({visits:q.visits+(r?H.unique_visits:H.visits),clicks:q.clicks+(r?H.unique_clicks:H.clicks),purchases:q.purchases+H.purchases,revenue:q.revenue+(H.revenue||0),ad_spend:q.ad_spend+(H.ad_spend||0),budget:q.budget+(H.budget_value||0)}),{visits:0,clicks:0,purchases:0,revenue:0,ad_spend:0,budget:0}),N=T.visits>0?T.purchases/T.visits*100:0,j=T.clicks>0?T.purchases/T.clicks*100:0,D=T.ad_spend>0?T.revenue/T.ad_spend:0,L=T.revenue-T.ad_spend;return u.jsxs("tr",{className:"bg-gray-100 font-bold border-t-2 border-gray-300",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"text-gray-500",children:"📊"})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-bold",children:["TOTALES (",w.length," ",w.length===1?"elemento":"elementos",")"]}),i&&u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-bold text-right",children:["$",T.budget.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-bold text-right",children:T.visits.toLocaleString()}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-bold text-right",children:T.clicks.toLocaleString()}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-bold text-right",children:T.purchases.toLocaleString()}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{children:u.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-bold rounded-full bg-blue-100 text-blue-800",children:[N.toFixed(2),"% Total"]})}),u.jsx("div",{children:u.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-medium rounded-full bg-blue-100 text-blue-800 opacity-75",children:[j.toFixed(2),"% Checkout"]})})]})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-bold text-right",children:["$",T.revenue.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-bold text-right",children:["$",T.ad_spend.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-right",children:u.jsxs("span",{className:L>=0?"text-green-600":"text-red-600",children:[L>=0?"+":"","$",L.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:u.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-bold rounded-full ${D>=3?"bg-green-100 text-green-800":D>=2?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[D.toFixed(2),"x"]})})]})})()]})]})})}function Aue(){const{id:e}=KA(),[t]=YA(),{user:r}=Ia(),n=Co(),[a,i]=U.useState(null),[s,o]=U.useState(null),[l,c]=U.useState(""),[f,d]=U.useState(""),[h,m]=U.useState(""),[g,p]=U.useState(!1),[v,b]=U.useState(""),[w,x]=U.useState(!0),[_,y]=U.useState("setup"),[E,S]=U.useState(1),[A,T]=U.useState(!1),[N,j]=U.useState(""),[D,L]=U.useState(!1),[q,H]=U.useState(null),[K,Q]=U.useState(null),[fe,se]=U.useState([]),[ve,Oe]=U.useState(new Set),[M,z]=U.useState([]),[W,I]=U.useState(!1);U.useEffect(()=>{t.get("tab")==="analytics"&&y("analytics")},[t]),U.useEffect(()=>{r&&e&&(ee(),_e(),Ee())},[e,r]),U.useEffect(()=>{a!=null&&a.id&&re()},[a]);async function ee(){if(!(!e||!r))try{x(!0),b("");const{data:V}=await ze.from("users").select("role").eq("id",r.id).single(),{data:Ne,error:Ve}=await ze.from("products").select("*").eq("id",e).single();if(Ve||!Ne)throw new Error("Producto no encontrado");if(Ne.user_id!==r.id&&(V==null?void 0:V.role)!=="admin")throw new Error("No tienes acceso a este producto");i(Ne),j(Ne.name),c(Ne.fb_pixel_id||""),d(Ne.fb_access_token||""),m(Ne.fb_test_event_code||"")}catch(V){console.error("Error loading product:",V),b(V instanceof Error?V.message:"Error cargando el producto")}finally{x(!1)}}async function _e(){if(!(!e||!r))try{const{data:V,error:Ne}=await ze.from("product_integrations").select("*").eq("product_id",e).eq("provider","meta").eq("status","active").single();!Ne&&V&&H(V)}catch(V){console.error("Error loading Meta integration:",V)}}async function Ee(){if(r)try{const{data:V,error:Ne}=await ze.from("user_integrations").select("*").eq("user_id",r.id).eq("provider","meta").eq("status","active").single();if(!Ne&&V){Q(V);const{data:Ve,error:ut}=await ze.from("meta_ad_accounts").select("*").eq("user_integration_id",V.id).eq("status","active");!ut&&Ve&&se(Ve)}}catch(V){console.error("Error loading user ad accounts:",V)}}async function re(){if(a!=null&&a.id)try{const{data:V,error:Ne}=await ze.from("product_ad_accounts").select(`
          ad_account_id,
          meta_ad_accounts!inner(id, name, status)
        `).eq("product_id",a.id);if(!Ne&&V){const Ve=V.map(ut=>ut.meta_ad_accounts).flat();z(Ve),Oe(new Set(Ve.map(ut=>ut.id)))}}catch(V){console.error("Error loading product ad accounts:",V)}}async function ce(){if(!(!e||!r||!N.trim())){p(!0),b("");try{const{error:V}=await ze.from("products").update({name:N.trim()}).eq("id",e).eq("user_id",r.id);if(V)throw V;await ee(),T(!1)}catch(V){console.error("Error updating product name:",V),b("Error al actualizar el nombre del producto")}finally{p(!1)}}}async function Se(){if(!(!e||!r)){p(!0),b("");try{const{error:V}=await ze.from("tracking_events").delete().eq("product_id",e);V&&console.error("Error deleting tracking events:",V);const{error:Ne}=await ze.from("hotmart_clicks").delete().eq("product_id",e);Ne&&console.error("Error deleting hotmart clicks:",Ne);const{error:Ve}=await ze.from("products").delete().eq("id",e).eq("user_id",r.id);if(Ve)throw Ve;n("/")}catch(V){console.error("Error deleting product:",V);let Ne="Error al eliminar el producto";V instanceof Error&&(V.message.includes("foreign key constraint")?Ne="No se puede eliminar el producto porque tiene datos asociados. Contacte al soporte técnico.":Ne=V.message),b(Ne),p(!1)}}}async function ne(){if(!(!e||!r)){I(!0),b("");try{if(await ze.from("product_ad_accounts").delete().eq("product_id",e),ve.size>0){const V=Array.from(ve).map(Ve=>({product_id:e,ad_account_id:Ve})),{error:Ne}=await ze.from("product_ad_accounts").insert(V);if(Ne)throw Ne}await re();try{console.log("Iniciando sincronización automática de ads spend para el producto...");const V=await fetch("/api/ad-spend/sync-product",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e,userId:r.id})}),Ne=await V.json();V.ok&&Ne.success?(console.log("Sincronización de ads spend completada:",Ne),Ne.processed>0&&console.log(`✅ Se sincronizaron ${Ne.processed} registros de gasto publicitario`)):console.warn("La sincronización de ads spend falló:",Ne.error)}catch(V){console.warn("Error en la sincronización automática de ads spend:",V)}}catch(V){console.error("Error saving ad accounts:",V),b("Error al guardar las cuentas publicitarias")}finally{I(!1)}}}async function Le(V){if(V.preventDefault(),!(!e||!r)){p(!0),b("");try{const{error:Ne}=await ze.from("products").update({fb_pixel_id:l,fb_access_token:f,fb_test_event_code:h}).eq("id",e).eq("user_id",r.id);if(Ne)throw Ne;await ee(),S(2)}catch(Ne){console.error("Error saving Facebook config:",Ne),b("Error al guardar la configuración de Facebook")}finally{p(!1)}}}function je(){return`${window.location.origin}/api/hotmart/webhook`}function Re(){return a?`<!-- Script de Seguimiento -->
<script>
(function() {
  var t = document.createElement('script');
  t.async = true;
  t.src = '${window.location.origin}/track.js';
  t.setAttribute('data-tracking-id', '${a.tracking_id}');
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(t, s);
  window._lt = window._lt || [];
  window._lt.push(['init', '${a.tracking_id}']);
})();
<\/script>
<!-- Fin del Script de Seguimiento -->

${a.fb_pixel_id?`<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '${a.fb_pixel_id}');
fbq('track', 'PageView');
<\/script>
<noscript>
  <img height="1" width="1" style="display:none" 
       src="https://www.facebook.com/tr?id=${a.fb_pixel_id}&ev=PageView&noscript=1"/>
</noscript>
<!-- End Meta Pixel Code -->`:""}`:""}function $e(V,Ne){navigator.clipboard.writeText(V),o(Ne),setTimeout(()=>o(null),2e3)}return w?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):v||!a?u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Er,{className:"h-5 w-5 text-red-400"})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm text-red-700",children:v||"Error cargando el producto"}),u.jsx(Hr,{to:"/",className:"mt-2 text-sm text-red-700 underline",children:"Volver al inicio"})]})]})})}):u.jsxs("div",{className:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[u.jsxs(Hr,{to:"/",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[u.jsx(A_,{className:"h-4 w-4 mr-2"}),"Volver al Dashboard"]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[A?u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"text",value:N,onChange:V=>j(V.target.value),className:"border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),u.jsx("button",{onClick:ce,disabled:g,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:g?"Guardando...":"Guardar"}),u.jsx("button",{onClick:()=>{T(!1),j(a.name)},className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancelar"})]}):u.jsxs("div",{className:"flex items-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mr-3",children:a.name}),u.jsx("button",{onClick:()=>T(!0),className:"p-1 text-gray-400 hover:text-gray-600",title:"Editar nombre",children:u.jsx(wP,{className:"h-4 w-4"})})]}),u.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.active?"Activo":"Inactivo"}),u.jsx("button",{onClick:()=>L(!0),className:"inline-flex items-center px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50",title:"Eliminar producto",children:u.jsx(EP,{className:"h-4 w-4"})})]})]}),D&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"¿Estás seguro de que quieres eliminar este producto?"}),u.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Esta acción no se puede deshacer. Se eliminarán todos los datos asociados al producto (eventos de tracking, clicks de Hotmart, etc.)."}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx("button",{onClick:()=>L(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancelar"}),u.jsx("button",{onClick:Se,disabled:g,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:g?"Eliminando...":"Eliminar"})]})]})}),u.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[u.jsx("div",{className:"border-b border-gray-200",children:u.jsxs("nav",{className:"-mb-px flex","aria-label":"Tabs",children:[u.jsxs("button",{onClick:()=>y("setup"),className:`${_==="setup"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/2 py-4 px-1 text-center border-b-2 font-medium text-sm flex items-center justify-center`,children:[u.jsx($h,{className:"h-4 w-4 mr-2"}),"Guía de Instalación"]}),u.jsxs("button",{onClick:()=>y("analytics"),className:`${_==="analytics"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/2 py-4 px-1 text-center border-b-2 font-medium text-sm flex items-center justify-center`,children:[u.jsx(vP,{className:"h-4 w-4 mr-2"}),"Analytics"]})]})}),_==="setup"?u.jsx("div",{className:"px-4 py-5 sm:px-6",children:u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:u.jsx("div",{className:"w-full border-t border-gray-200"})}),u.jsx("div",{className:"relative flex justify-between",children:[{step:1,title:"Facebook",icon:u.jsx(Bi,{className:"h-4 w-4"})},{step:2,title:"Script",icon:u.jsx($h,{className:"h-4 w-4"})},{step:3,title:"Meta",icon:u.jsx(Bi,{className:"h-4 w-4"})},{step:4,title:"Hotmart",icon:u.jsx(Vv,{className:"h-4 w-4"})},{step:5,title:"UTMs",icon:u.jsx(Rh,{className:"h-4 w-4"})}].map(({step:V,title:Ne,icon:Ve})=>u.jsxs("button",{onClick:()=>S(V),className:`${E===V?"border-indigo-500 bg-indigo-600 text-white":E>V?"border-indigo-500 bg-indigo-100 text-indigo-500":"border-gray-200 bg-white text-gray-500"} relative w-24 h-24 rounded-full border-2 flex flex-col items-center justify-center text-sm font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`,children:[u.jsx("div",{className:`mb-1 ${E===V?"text-white":""}`,children:Ve}),u.jsx("span",{className:`text-xs ${E===V?"text-white":"text-gray-500"}`,children:Ne}),u.jsx("span",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 w-6 h-6 rounded-full bg-indigo-600 text-white flex items-center justify-center text-xs",children:V})]},V))})]}),u.jsxs("div",{className:"mt-12",children:[E===1&&u.jsx("div",{className:"space-y-6",children:u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[u.jsx(Bi,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Configurar Facebook Pixel"]}),u.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[u.jsx("p",{className:"mb-4",children:"Para rastrear las conversiones de tus ventas en Facebook Ads, necesitas configurar el Pixel:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-3",children:[u.jsxs("li",{children:["Accede a tu ",u.jsxs("a",{href:"https://business.facebook.com/events_manager",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-500",children:["Events Manager ",u.jsx(kl,{className:"h-3 w-3 inline"})]})]}),u.jsx("li",{children:"Crea un nuevo Pixel o selecciona uno existente"}),u.jsx("li",{children:"Copia el ID del Pixel y el Token de Acceso"})]})]}),u.jsx("div",{className:"mt-6",children:u.jsxs("form",{onSubmit:Le,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fbPixelId",className:"block text-sm font-medium text-gray-700",children:"ID del Píxel"}),u.jsx("input",{type:"text",id:"fbPixelId",value:l,onChange:V=>c(V.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Ej: 123456789012345",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fbAccessToken",className:"block text-sm font-medium text-gray-700",children:"Token de Acceso"}),u.jsx("input",{type:"text",id:"fbAccessToken",value:f,onChange:V=>d(V.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Ej: EAAxxxxx...",required:!0}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Encuentra esto en Events Manager → Configuración → Token de Acceso"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fbTestEventCode",className:"block text-sm font-medium text-gray-700",children:"Código de TEST EVENT (opcional)"}),u.jsx("input",{type:"text",id:"fbTestEventCode",value:h,onChange:V=>m(V.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Ej: TEST123"}),u.jsx("div",{className:"mt-2 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:u.jsxs("div",{className:"flex items-center text-yellow-800",children:[u.jsx(Er,{className:"h-5 w-5 mr-2 text-yellow-600"}),u.jsxs("p",{className:"text-xs",children:["Este TEST EVENT es temporal y sirve únicamente para verificar la correcta llegada de eventos API al pixel.",u.jsx("span",{className:"ml-1 font-bold text-red-600",children:"Debes eliminarlo antes de comenzar a recibir ventas reales."})]})]})})]}),u.jsx("div",{className:"flex justify-end pt-4",children:u.jsx("button",{type:"submit",disabled:g,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:g?"Guardando...":"Guardar y Continuar"})})]})})]})})}),E===2&&u.jsx("div",{className:"space-y-6",children:u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[u.jsx($h,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Instalar Script de Seguimiento"]}),u.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[u.jsx("p",{className:"mb-4",children:"Para comenzar a rastrear las visitas y conversiones, agrega este código a tu página de venta:"}),u.jsxs("ol",{className:"space-y-4",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"bg-indigo-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 flex-shrink-0",children:"1"}),u.jsx("span",{className:"text-gray-700",children:"Accede al editor de tu página de venta"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"bg-indigo-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 flex-shrink-0",children:"2"}),u.jsxs("div",{className:"text-gray-700",children:["Debes instalar este script en el ",u.jsx("code",{className:"bg-gray-100 px-2 py-0.5 rounded text-indigo-600 font-mono",children:"</HEAD>"})," de la página",u.jsxs("div",{className:"mt-2 bg-amber-50 border border-amber-200 rounded-lg p-4 text-amber-800",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Er,{className:"h-5 w-5 mr-2 text-amber-500"}),u.jsx("span",{className:"font-semibold",children:"IMPORTANTE"})]}),u.jsx("p",{className:"mt-1",children:"Asegúrate de borrar cualquier script de trackeo anterior relacionado con Hotmart. También quita el pixel de Facebook de la página, nuestro script lo dispara automáticamente."})]})]})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"bg-indigo-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 flex-shrink-0",children:"3"}),u.jsxs("div",{className:"text-gray-700",children:["Pega el siguiente código justo antes de esa etiqueta",u.jsxs("div",{className:"mt-2 bg-red-50 border border-red-200 rounded-lg p-4 text-red-800",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Er,{className:"h-5 w-5 mr-2 text-red-500"}),u.jsx("span",{className:"font-semibold",children:"¡ATENCIÓN!"})]}),u.jsx("p",{className:"mt-1",children:"Si cambias el pixel por algún motivo, deberás volver a esta pantalla, copiar e instalar nuevamente EL SCRIPT COMPLETO en tu página de venta."})]})]})]})]})]}),u.jsxs("div",{className:"relative mt-4",children:[u.jsx("pre",{className:"bg-gray-800 text-white p-4 rounded-lg text-sm overflow-x-auto",children:Re()}),u.jsx("button",{onClick:()=>$e(Re(),"script"),className:"absolute top-2 right-2 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-indigo-500",children:s==="script"?u.jsxs(u.Fragment,{children:[u.jsx(_r,{className:"h-4 w-4 mr-1"}),"¡Copiado!"]}):u.jsxs(u.Fragment,{children:[u.jsx(Fh,{className:"h-4 w-4 mr-1"}),"Copiar Script"]})})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("button",{onClick:()=>S(1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Anterior"}),u.jsx("button",{onClick:()=>S(3),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Siguiente: Seleccionar Cuenta Publicitaria"})]})]})})}),E===3&&u.jsx("div",{className:"space-y-6",children:u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[u.jsx(Bi,{className:"h-5 w-5 mr-2 text-blue-600"}),"Seleccionar Cuenta Publicitaria de Meta (Opcional)"]}),u.jsx("div",{className:"mt-2 text-sm text-gray-500",children:u.jsx("p",{className:"mb-4",children:"Asocia una cuenta publicitaria específica a este producto para rastrear el gasto publicitario y calcular el ROAS automáticamente."})}),K?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start",children:[u.jsx(_r,{className:"h-5 w-5 text-green-400 mt-0.5"}),u.jsxs("div",{className:"ml-3 flex-1",children:[u.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Meta conectado"}),u.jsxs("div",{className:"mt-1 text-sm text-green-700",children:[u.jsxs("p",{children:["Tienes ",fe.length," cuenta(s) publicitaria(s) disponible(s)"]}),u.jsxs("p",{className:"text-xs",children:["Conectado el ",new Date(K.created_at).toLocaleDateString()]})]})]})]})}),fe.length>0?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Selecciona las cuentas publicitarias para este producto:"}),u.jsx("button",{type:"button",onClick:async()=>{if(!(!r||!K)){I(!0);try{(await(await fetch("/api/meta/refresh-ad-accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r.id,integrationId:K.id})})).json()).success&&await Ee()}catch(V){console.error("Error refreshing ad accounts:",V)}finally{I(!1)}}},disabled:W,className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",title:"Actualizar lista de cuentas publicitarias",children:W?u.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"h-3 w-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Actualizar"]})})]}),u.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto border border-gray-200 rounded-lg p-4",children:fe.map(V=>{const Ne=ve.has(V.id),Ve=M.some(ut=>ut.id===V.id);return u.jsxs("div",{className:`
                                            flex items-center justify-between p-3 rounded-lg border-2 cursor-pointer transition-all duration-200
                                            ${Ne?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white hover:border-gray-300 hover:bg-gray-50"}
                                          `,onClick:()=>{const ut=new Set(ve);Ne?ut.delete(V.id):ut.add(V.id),Oe(ut)},children:[u.jsxs("div",{className:"flex items-center flex-1",children:[u.jsx("input",{type:"checkbox",checked:Ne,onChange:()=>{},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),u.jsxs("div",{className:"ml-3 flex-1",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-900",children:V.name}),u.jsx("p",{className:"text-xs text-gray-500",children:V.id})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[Ve&&u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Activa"}),u.jsx("span",{className:`
                                              inline-flex items-center px-2 py-1 rounded-full text-xs font-medium
                                              ${V.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                                            `,children:V.status==="active"?"Disponible":"Inactiva"})]})]},V.id)})}),u.jsxs("div",{className:"flex items-center justify-between mt-4",children:[u.jsxs("p",{className:"text-sm text-gray-500",children:[ve.size," de ",fe.length," cuentas seleccionadas"]}),u.jsx("button",{onClick:ne,disabled:W,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:W?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Guardando..."]}):"Guardar Selección"})]})]}),M.length>0&&u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start",children:[u.jsx(Rh,{className:"h-5 w-5 text-blue-400 mt-0.5"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h5",{className:"text-sm font-medium text-blue-900",children:"Cuentas activas para este producto:"}),u.jsx("div",{className:"mt-2 space-y-1",children:M.map(V=>u.jsxs("p",{className:"text-sm text-blue-700",children:["• ",V.name," (",V.id,")"]},V.id))})]})]})}),u.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[u.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"💡 Beneficios de conectar una cuenta publicitaria:"}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[u.jsx("li",{children:"• Seguimiento automático del gasto publicitario"}),u.jsx("li",{children:"• Cálculo de ROAS (Retorno de Inversión Publicitaria) en tiempo real"}),u.jsx("li",{children:"• Reportes consolidados de rendimiento"}),u.jsx("li",{children:"• Alertas cuando el ROAS baja de cierto umbral"})]})]})]}):u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start",children:[u.jsx(Er,{className:"h-5 w-5 text-yellow-400 mt-0.5"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"No hay cuentas publicitarias disponibles"}),u.jsx("p",{className:"mt-1 text-sm text-yellow-700",children:"Es posible que Meta aún no haya aprobado los permisos de ads_read para tu aplicación, o no tengas cuentas publicitarias activas."})]})]})})]}):u.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start",children:[u.jsx(Er,{className:"h-5 w-5 text-orange-400 mt-0.5"}),u.jsxs("div",{className:"ml-3 flex-1",children:[u.jsx("h3",{className:"text-sm font-medium text-orange-800",children:"Conecta primero tu cuenta de Meta"}),u.jsxs("div",{className:"mt-2 text-sm text-orange-700",children:[u.jsx("p",{children:"Para poder seleccionar cuentas publicitarias, necesitas conectar tu cuenta de Meta primero."}),u.jsxs("p",{className:"mt-2",children:["Ve a"," ",u.jsx(Hr,{to:"/settings",className:"font-medium text-orange-800 underline hover:text-orange-900",children:"Configuración → Integración con Meta"})," ","y conecta tu cuenta."]})]})]})]})}),u.jsxs("div",{className:"flex justify-between mt-6",children:[u.jsx("button",{onClick:()=>S(2),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Anterior"}),u.jsx("button",{onClick:()=>S(4),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Siguiente: Configurar Hotmart"})]})]})})}),E===4&&u.jsx("div",{className:"space-y-6",children:u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[u.jsx(Vv,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Configurar Webhook en Hotmart"]}),u.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[u.jsx("p",{className:"mb-4",children:"Para recibir notificaciones de ventas en tiempo real, configura el webhook en Hotmart:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-3",children:[u.jsxs("li",{children:["Accede a tu ",u.jsxs("a",{href:"https://app-vlc.hotmart.com/",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-500",children:["Panel de Hotmart ",u.jsx(kl,{className:"h-3 w-3 inline"})]})]}),u.jsx("li",{children:"Ve a la configuración de tu producto"}),u.jsx("li",{children:'Busca la sección de "Notificaciones" o "Webhooks"'}),u.jsxs("li",{children:["Agrega esta URL como nuevo webhook:",u.jsx("div",{className:"mt-2 rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Er,{className:"h-5 w-5 text-red-400"})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"text-sm font-medium text-red-800",children:"¡Aviso Importante!"}),u.jsx("div",{className:"mt-2 text-sm text-red-700",children:"Elimina el pixel del producto en Hotmart. Nuestro sistema lo dispara automáticamente en pagos iniciados y compras."})]})]})})]})]})]}),u.jsx("div",{className:"mt-4",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("code",{className:"bg-gray-100 px-3 py-2 rounded-md flex-grow text-sm",children:je()}),u.jsx("button",{onClick:()=>$e(je(),"webhook"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s==="webhook"?u.jsxs(u.Fragment,{children:[u.jsx(_r,{className:"h-4 w-4 text-green-500 mr-2"}),"¡Copiado!"]}):u.jsxs(u.Fragment,{children:[u.jsx(Fh,{className:"h-4 w-4 text-gray-500 mr-2"}),"Copiar URL"]})})]})}),u.jsxs("div",{className:"mt-6 text-sm text-gray-500",children:[u.jsx("p",{className:"mb-2",children:u.jsx("strong",{children:"Configuración del webhook:"})}),u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Evento:"}),' Selecciona el evento "PURCHASE_APPROVED" para recibir notificaciones solo cuando las compras sean aprobadas.']}),u.jsx("li",{children:u.jsx("strong",{children:"Versión: 2"})})]})]}),u.jsxs("div",{className:"mt-6 flex justify-between",children:[u.jsx("button",{onClick:()=>S(3),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Anterior"}),u.jsx("button",{onClick:()=>S(5),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Siguiente: Configurar UTM"})]})]})})}),E===5&&u.jsx("div",{className:"space-y-6",children:u.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[u.jsx(Rh,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Configuración de UTMs en los Links de Facebook Ads"]}),u.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[u.jsx("p",{className:"mb-4",children:"Para rastrear correctamente las conversiones provenientes de Facebook Ads, es esencial que todos los enlaces a tu página de ventas contengan los parámetros UTM."}),u.jsx("p",{className:"mb-4",children:"Facebook Ads ofrece parámetros dinámicos que facilitan la asignación automática de nombres a las UTMs basándose en la información de tu anuncio."}),u.jsx("h5",{className:"text-md font-medium text-gray-700 mb-2",children:"Cómo Configurar:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-3",children:[u.jsx("li",{children:"Accede a tu cuenta de Facebook Ads y selecciona los anuncios deseados."}),u.jsx("li",{children:'Haz clic en "Editar" y localiza el campo SEGUIMIENTO y en "parametros url" y pon esto:'})]})]}),u.jsx("div",{className:"mt-4",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("code",{className:"bg-gray-100 px-3 py-2 rounded-md flex-grow text-sm",children:"utm_source={{placement}}&utm_campaign={{campaign.name}}||{{campaign.id}}&utm_medium={{adset.name}}||{{adset.id}}&utm_content={{ad.name}}||{{ad.id}}&utm_term={{site_source_name}}"}),u.jsx("button",{onClick:()=>$e("utm_source={{placement}}&utm_campaign={{campaign.name}}||{{campaign.id}}&utm_medium={{adset.name}}||{{adset.id}}&utm_content={{ad.name}}||{{ad.id}}&utm_term={{site_source_name}}","utm"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s==="utm"?u.jsxs(u.Fragment,{children:[u.jsx(_r,{className:"h-4 w-4 text-green-500 mr-2"}),"¡Copiado!"]}):u.jsxs(u.Fragment,{children:[u.jsx(Fh,{className:"h-4 w-4 text-gray-500 mr-2"}),"Copiar UTMs"]})})]})}),u.jsxs("div",{className:"mt-6 text-sm text-gray-500",children:[u.jsx("p",{className:"mb-2",children:u.jsx("strong",{children:"Consejo:"})}),u.jsx("h5",{className:"text-md font-medium text-gray-700 mt-4",children:"Entiende los Parámetros Dinámicos:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsxs("li",{children:[u.jsx("code",{className:"inline-block bg-gray-100 px-2 py-1 rounded-md text-sm",children:"{{ placement }}"}),": Posicionamiento del anuncio (Facebook_Feed, Instagram_Stories, etc.)"]}),u.jsxs("li",{children:[u.jsx("code",{className:"inline-block bg-gray-100 px-2 py-1 rounded-md text-sm",children:"{{ ad.name }}"}),": Nombre del anuncio"]}),u.jsxs("li",{children:[u.jsx("code",{className:"inline-block bg-gray-100 px-2 py-1 rounded-md text-sm",children:"{{ adset.name }}"}),": Nombre del conjunto de anuncios"]}),u.jsxs("li",{children:[u.jsx("code",{className:"inline-block bg-gray-100 px-2 py-1 rounded-md text-sm",children:"{{ site_source_name }}"}),": Red social (Fb, Ig, Msg, An)"]}),u.jsxs("li",{children:[u.jsx("code",{className:"inline-block bg-gray-100 px-2 py-1 rounded-md text-sm",children:"{{ campaign.name }}"}),": Nombre de la campaña"]})]}),u.jsxs("p",{className:"mt-4",children:["Para más información, consulta la ",u.jsxs("a",{href:"https://www.facebook.com/business/help/952192354843755",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-500",children:["documentación de Facebook Ads ",u.jsx(kl,{className:"h-3 w-3 inline"})]}),"."]})]}),u.jsxs("div",{className:"mt-6 flex justify-between",children:[u.jsx("button",{onClick:()=>S(4),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Anterior"}),u.jsx("button",{onClick:()=>y("analytics"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ver Analytics"})]})]})})})]})]})}):u.jsx(Tue,{productId:a.id})]})]})}var jue={};function Nue(){const[e,t]=U.useState(!1),[r,n]=U.useState(null),a=async()=>{t(!0),n(null);try{const s=await(await fetch("/api/ad-spend/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${jue.REACT_APP_CRON_SECRET||"your-secret-key"}`},body:JSON.stringify({})})).json();n(s)}catch(i){console.error("Error en sincronización:",i),n({success:!1,error:"Error de conexión al servidor"})}finally{t(!1)}};return u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Sincronización de Gastos Publicitarios"}),u.jsxs("button",{onClick:a,disabled:e,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[u.jsx(Uu,{className:`h-4 w-4 mr-2 ${e?"animate-spin":""}`}),e?"Sincronizando...":"Sincronizar Ahora"]})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Este proceso obtiene los gastos publicitarios del día actual desde Meta Ads API y los guarda en la base de datos para cada producto configurado."}),u.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[u.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"🚀 Carga Automática de Historial"}),u.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[u.jsxs("p",{children:["• ",u.jsx("strong",{children:"Al conectar cuentas nuevas:"})," Se cargan automáticamente los últimos 30 días"]}),u.jsxs("p",{children:["• ",u.jsx("strong",{children:"Sincronización diaria:"})," Solo actualiza el día actual (cada 5 minutos)"]}),u.jsxs("p",{children:["• ",u.jsx("strong",{children:"Crecimiento natural:"})," El historial crece día a día (31, 32, 33 días...)"]})]})]}),u.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[u.jsx("h4",{className:"text-sm font-medium text-green-900 mb-2",children:"🛡️ Protección de Datos Históricos"}),u.jsxs("div",{className:"text-xs text-green-700 space-y-1",children:[u.jsx("p",{children:"• Los datos del día actual se actualizarán cada vez que se ejecute"}),u.jsx("p",{children:"• Los datos de días anteriores están protegidos y NO se sobreescriben"}),u.jsx("p",{children:"• Esto preserva el historial exacto de gastos de cada día"})]})]}),u.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[u.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"🔍 Debug y Verificación"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("a",{href:"/debug/ad-spend-status",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-blue-700 hover:text-blue-800 underline",children:"Ver estado detallado del sistema"}),u.jsxs("p",{className:"text-xs text-blue-600",children:["• Verifica si el cron está funcionando",u.jsx("br",{}),"• Muestra últimos datos sincronizados",u.jsx("br",{}),"• Estado de integraciones de Meta"]})]})]}),r&&u.jsx("div",{className:`p-4 rounded-lg ${r.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:u.jsxs("div",{className:"flex items-center",children:[r.success?u.jsx(_r,{className:"h-5 w-5 text-green-600"}):u.jsx(O_,{className:"h-5 w-5 text-red-600"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h4",{className:`text-sm font-medium ${r.success?"text-green-900":"text-red-900"}`,children:r.success?"Sincronización Completada":"Error en Sincronización"}),u.jsx("div",{className:`text-sm ${r.success?"text-green-700":"text-red-700"} mt-1`,children:r.success?u.jsxs("div",{children:[u.jsx("p",{children:r.message}),typeof r.processed<"u"&&u.jsxs("div",{className:"mt-2 space-y-1",children:[u.jsxs("p",{children:["• Gastos procesados: ",r.processed]}),u.jsxs("p",{children:["• Errores: ",r.errors]}),typeof r.adPerformanceSynced<"u"&&u.jsxs(u.Fragment,{children:[u.jsxs("p",{children:["• Anuncios sincronizados: ",r.adPerformanceSynced]}),u.jsxs("p",{children:["• Errores en anuncios: ",r.adPerformanceErrors]}),r.adPerformanceSkipped>0&&u.jsxs("p",{children:["• Datos históricos preservados: ",r.adPerformanceSkipped]})]}),r.date&&u.jsxs("p",{children:["• Fecha: ",r.date]}),r.dateRange&&u.jsxs("p",{children:["• Rango de fechas: ",r.dateRange]}),r.daysProcessed&&u.jsxs("p",{children:["• Días procesados: ",r.daysProcessed]})]})]}):u.jsx("p",{children:r.error||r.message})})]})]})}),u.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Información del Sistema"}),u.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[u.jsx("p",{children:u.jsx("strong",{children:"Cron Job Automático:"})}),u.jsx("p",{children:"• Se ejecuta cada 5 minutos sincronizando solo el día actual"}),u.jsx("p",{children:"• Mantiene los datos frescos sin sobreescribir historial"}),u.jsx("p",{children:u.jsx("strong",{children:"Carga Inicial (al conectar cuentas):"})}),u.jsx("p",{children:"• Obtiene automáticamente los últimos 30 días de historial"}),u.jsx("p",{children:"• Permite análisis inmediato con contexto completo"}),u.jsx("p",{children:u.jsx("strong",{children:"Uso de datos:"})}),u.jsx("p",{children:"• Gastos por producto y métricas detalladas por anuncio"}),u.jsx("p",{children:"• Cálculo de ROAS y análisis de rendimiento en dashboard"})]})]})]})}function Pue(){const{user:e}=Ia(),[t,r]=U.useState(!0),[n,a]=U.useState(!1),[i,s]=U.useState("UTC"),[o,l]=U.useState(""),[c,f]=U.useState(""),[d,h]=U.useState("private"),[m,g]=U.useState(!1),[p,v]=U.useState(!1),[b,w]=U.useState(""),[x,_]=U.useState(!1),[y,E]=U.useState(!1),[S,A]=U.useState(""),[T,N]=U.useState(null),[j,D]=U.useState(!1),[L,q]=U.useState(""),H=Co();U.useEffect(()=>{e&&(K(),Q())},[e]);async function K(){try{if(r(!0),!e)return;const{data:W,error:I}=await ze.from("user_settings").select("timezone, telegram_chat_id, telegram_thread_id, telegram_notification_type").eq("user_id",e.id).maybeSingle();!I&&W&&(s(W.timezone),l(W.telegram_chat_id||""),f(W.telegram_thread_id||""),h(W.telegram_notification_type||"private"),g(W.telegram_notification_type!=="private"||!!W.telegram_thread_id))}catch(W){console.error("Error loading settings:",W)}finally{r(!1)}}async function Q(){var W,I;try{if(!e)return;const{data:ee,error:_e}=await ze.from("user_integrations").select(`
          id,
          provider,
          status,
          created_at,
          meta_ad_accounts(count)
        `).eq("user_id",e.id).eq("provider","meta").maybeSingle();!_e&&ee&&N({...ee,ad_accounts_count:((I=(W=ee.meta_ad_accounts)==null?void 0:W[0])==null?void 0:I.count)||0})}catch(ee){console.error("Error loading Meta integration:",ee)}}async function fe(W){if(W.preventDefault(),!!e){a(!0),v(!1),w("");try{const{error:I}=await ze.from("user_settings").upsert({user_id:e.id,timezone:i,telegram_chat_id:o||null,telegram_thread_id:c||null,telegram_notification_type:d},{onConflict:"user_id"});if(I)throw I;v(!0),await K()}catch(I){console.error("Error saving settings:",I),w("Error al guardar la configuración")}finally{a(!1)}}}const se=()=>{H("/dashboard")};async function ve(){if(e){D(!0),q("");try{const I=`${window.location.origin}/api/auth/meta/callback`;throw new Error("Meta App ID no configurado")}catch(W){console.error("Error connecting to Meta:",W),q(W instanceof Error?W.message:"Error conectando con Meta"),D(!1)}}}async function Oe(){if(!(!e||!T))try{const{error:W}=await ze.from("user_integrations").delete().eq("id",T.id);if(W)throw W;N(null)}catch(W){console.error("Error disconnecting Meta:",W),q("Error desconectando Meta")}}async function M(){if(!(!e||!T)){D(!0),q("");try{const W=await fetch("/api/meta/refresh-ad-accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id,integrationId:T.id})}),I=await W.json();if(!W.ok||!I.success)throw new Error(I.error||"Error al actualizar cuentas publicitarias");await Q(),console.log(`[Meta Refresh] ${I.adAccountsCount} cuentas publicitarias sincronizadas`)}catch(W){console.error("Error refreshing ad accounts:",W),q(W instanceof Error?W.message:"Error actualizando cuentas publicitarias")}finally{D(!1)}}}async function z(){if(!o.trim()){A("Por favor ingresa un Chat ID válido antes de probar");return}_(!0),E(!1),A("");try{const W=await fetch("/api/telegram/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatId:o,threadId:c||null,userId:e==null?void 0:e.id})}),I=await W.json();W.ok&&I.success?(E(!0),A("")):(A(I.error||"Error al enviar la notificación de prueba"),E(!1))}catch(W){console.error("Error testing Telegram notification:",W),A("Error de conexión al probar la notificación"),E(!1)}finally{_(!1)}}return t?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"max-w-3xl mx-auto",children:u.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:u.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[" ",u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ip,{className:"h-6 w-6 text-gray-400"}),u.jsx("h3",{className:"ml-2 text-lg leading-6 font-medium text-gray-900",children:"Configuración"})]}),u.jsxs("button",{onClick:se,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[u.jsx(A_,{className:"h-4 w-4 mr-2"}),"Volver"]})]}),p&&u.jsx("div",{className:"mb-4 bg-green-50 border-l-4 border-green-400 p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-green-700",children:"Configuración guardada exitosamente"})})]})}),b&&u.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-red-700",children:b})})]})}),u.jsxs("form",{onSubmit:fe,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"timezone",className:"block text-sm font-medium text-gray-700",children:"Zona Horaria"}),u.jsxs("select",{id:"timezone",value:i,onChange:W=>s(W.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[u.jsx("option",{value:"UTC",children:"UTC"}),u.jsx("option",{value:"America/Bogota",children:"America/Bogota"}),u.jsx("option",{value:"America/Mexico_City",children:"America/Mexico City"}),u.jsx("option",{value:"America/Lima",children:"America/Lima"}),u.jsx("option",{value:"America/Santiago",children:"America/Santiago"}),u.jsx("option",{value:"America/Buenos_Aires",children:"America/Buenos Aires"}),u.jsx("option",{value:"America/Caracas",children:"America/Caracas"}),u.jsx("option",{value:"America/La_Paz",children:"America/La Paz"}),u.jsx("option",{value:"America/Asuncion",children:"America/Asuncion"}),u.jsx("option",{value:"America/Montevideo",children:"America/Montevideo"}),u.jsx("option",{value:"America/Guayaquil",children:"America/Guayaquil"})]}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Esta configuración afectará cómo se muestran las fechas y horas en tus reportes."})]}),u.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Bi,{className:"h-5 w-5 text-blue-600"}),u.jsx("h4",{className:"ml-2 text-lg font-medium text-gray-900",children:"Integración con Meta (Facebook/Instagram)"})]})}),T?u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(_r,{className:"h-5 w-5 text-green-600"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h5",{className:"text-sm font-medium text-green-900",children:"Cuenta Conectada"}),u.jsxs("p",{className:"text-sm text-green-700",children:[T.ad_accounts_count," cuenta(s) publicitaria(s) disponible(s)"]}),u.jsxs("p",{className:"text-xs text-green-600",children:["Conectado el ",new Date(T.created_at).toLocaleDateString()]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{type:"button",onClick:M,disabled:j,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",title:"Sincronizar cuentas publicitarias",children:j?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Actualizar"]})}),u.jsxs("button",{type:"button",onClick:Oe,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[u.jsx(C_,{className:"h-4 w-4 mr-2"}),"Desconectar"]})]})]})}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start",children:[u.jsx(Bi,{className:"h-5 w-5 text-blue-600 mt-0.5"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h5",{className:"text-sm font-medium text-blue-900",children:"¿Por qué conectar tu cuenta de Meta?"}),u.jsxs("ul",{className:"mt-2 text-sm text-blue-700 space-y-1",children:[u.jsx("li",{children:"• Obtener el gasto publicitario automáticamente"}),u.jsx("li",{children:"• Calcular el ROAS (Retorno de Inversión Publicitaria)"}),u.jsx("li",{children:"• Seleccionar cuentas publicitarias específicas por producto"}),u.jsx("li",{children:"• Análisis completo de rendimiento"})]})]})]})}),u.jsx("button",{type:"button",onClick:ve,disabled:j,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:j?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Conectando con Meta..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Bi,{className:"h-4 w-4 mr-2"}),"Conectar con Meta"]})}),L&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:u.jsxs("div",{className:"flex",children:[u.jsx(Er,{className:"h-5 w-5 text-red-400"}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-red-700",children:L})})]})})]})]}),(e==null?void 0:e.role)==="admin"&&u.jsx("div",{className:"border-t border-gray-200 pt-6",children:u.jsx(Nue,{})}),u.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ih,{className:"h-5 w-5 text-gray-400"}),u.jsx("h4",{className:"ml-2 text-lg font-medium text-gray-900",children:"Notificaciones de Telegram"})]}),u.jsx("button",{type:"button",onClick:()=>g(!m),className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:m?u.jsxs(u.Fragment,{children:[u.jsx(Bh,{className:"h-4 w-4 mr-1"}),"Modo Simple",u.jsx(pP,{className:"h-4 w-4 ml-1"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ui,{className:"h-4 w-4 mr-1"}),"Modo Avanzado",u.jsx(mP,{className:"h-4 w-4 ml-1"})]})})]}),!m&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-200",children:[u.jsxs("div",{className:"flex items-center mb-2",children:[u.jsx(Bh,{className:"h-5 w-5 text-blue-600"}),u.jsx("h5",{className:"ml-2 text-sm font-medium text-blue-900",children:"💬 Configuración Simple (Recomendada)"})]}),u.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Perfecta para recibir notificaciones directamente en tu chat privado con el bot."}),u.jsxs("div",{className:"bg-white p-3 rounded border",children:[u.jsx("h6",{className:"text-xs font-semibold text-gray-900 mb-2",children:"PASOS RÁPIDOS:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs text-gray-600",children:[u.jsxs("li",{children:["Abre:"," ",u.jsxs("a",{href:"https://t.me/HotApi_bot",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-indigo-600 hover:text-indigo-500 font-medium",children:["@HotApi_bot",u.jsx(kl,{className:"h-3 w-3 ml-1"})]})]}),u.jsxs("li",{children:["Envía ",u.jsx("code",{className:"bg-gray-200 px-1 py-0.5 rounded text-xs",children:"/start"})]}),u.jsx("li",{children:"Copia tu Chat ID"}),u.jsx("li",{children:"Pégalo abajo"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"telegram-chat-id-simple",className:"block text-sm font-medium text-gray-700",children:"Tu Chat ID"}),u.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[u.jsx("input",{type:"text",id:"telegram-chat-id-simple",value:o,onChange:W=>{l(W.target.value),h("private"),f(""),E(!1),A("")},placeholder:"Ej: 123456789",className:"flex-1 block w-full border-gray-300 rounded-l-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),u.jsx("button",{type:"button",onClick:z,disabled:x||!o.trim(),className:"inline-flex items-center px-4 py-2 border border-l-0 border-gray-300 rounded-r-md bg-gray-50 text-gray-700 text-sm font-medium hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-2"}),"Probando..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Ih,{className:"h-4 w-4 mr-2"}),"Probar"]})})]}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"✨ Fácil y directo - las notificaciones llegarán a tu chat privado"})]})]}),m&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-amber-50 p-4 rounded-md border border-amber-200",children:[u.jsxs("div",{className:"flex items-center mb-2",children:[u.jsx(Ui,{className:"h-5 w-5 text-amber-600"}),u.jsx("h5",{className:"ml-2 text-sm font-medium text-amber-900",children:"⚙️ Configuración Avanzada"})]}),u.jsx("p",{className:"text-sm text-amber-700",children:"Para notificaciones en grupos de Telegram o temas específicos dentro de grupos."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tipo de Notificación"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"notification-private",name:"notification-type",type:"radio",checked:d==="private",onChange:()=>{h("private"),f("")},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),u.jsxs("label",{htmlFor:"notification-private",className:"ml-3 flex items-center",children:[u.jsx(Bh,{className:"h-4 w-4 text-blue-500 mr-2"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Chat Privado"}),u.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Recomendado)"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"notification-group",name:"notification-type",type:"radio",checked:d==="group",onChange:()=>{h("group"),f("")},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),u.jsxs("label",{htmlFor:"notification-group",className:"ml-3 flex items-center",children:[u.jsx(Ui,{className:"h-4 w-4 text-green-500 mr-2"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Grupo General"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"notification-group-topic",name:"notification-type",type:"radio",checked:d==="group_topic",onChange:()=>h("group_topic"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),u.jsxs("label",{htmlFor:"notification-group-topic",className:"ml-3 flex items-center",children:[u.jsx(Ui,{className:"h-4 w-4 text-purple-500 mr-2"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tema Específico del Grupo"})]})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"telegram-chat-id-advanced",className:"block text-sm font-medium text-gray-700",children:d==="private"?"Tu Chat ID":"Chat ID del Grupo"}),u.jsx("input",{type:"text",id:"telegram-chat-id-advanced",value:o,onChange:W=>{l(W.target.value),E(!1),A("")},placeholder:d==="private"?"Ej: 123456789":"Ej: -1001234567890",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),d==="group_topic"&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"telegram-thread-id",className:"block text-sm font-medium text-gray-700",children:"Thread ID del Tema"}),u.jsx("input",{type:"text",id:"telegram-thread-id",value:c,onChange:W=>{f(W.target.value),E(!1),A("")},placeholder:"Ej: 12345",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"💡 Usa el comando /info dentro del tema específico para obtener este ID"})]}),u.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[u.jsx("h6",{className:"text-xs font-semibold text-gray-900 mb-2",children:"📋 CÓMO OBTENER LOS IDs:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs text-gray-600",children:[u.jsxs("li",{children:["Agrega el bot a tu ",d==="private"?"chat":"grupo",":"," ",u.jsxs("a",{href:"https://t.me/HotApi_bot",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-indigo-600 hover:text-indigo-500 font-medium",children:["@HotApi_bot",u.jsx(kl,{className:"h-3 w-3 ml-1"})]})]}),d!=="private"&&u.jsx("li",{children:"Asegúrate de que el bot tenga permisos para enviar mensajes"}),u.jsxs("li",{children:[d==="group_topic"?"Ve al tema específico y envía":"Envía"," ",u.jsx("code",{className:"bg-gray-200 px-1 py-0.5 rounded text-xs",children:"/info"})]}),u.jsx("li",{children:"Copia los IDs que te proporcione"})]})]}),u.jsx("div",{className:"flex space-x-2",children:u.jsx("button",{type:"button",onClick:z,disabled:x||!o.trim()||d==="group_topic"&&!c.trim(),className:"flex-1 inline-flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Probando..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Ih,{className:"h-4 w-4 mr-2"}),"Probar Configuración"]})})})]})]}),y&&u.jsx("div",{className:"mt-4 bg-green-50 border-l-4 border-green-400 p-3",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-green-700",children:"✅ ¡Notificación enviada con éxito! Revisa tu Telegram."})})]})}),S&&u.jsx("div",{className:"mt-4 bg-red-50 border-l-4 border-red-400 p-3",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsxs("p",{className:"text-sm text-red-700",children:["❌ ",S]})})]})})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"submit",disabled:n,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:n?"Guardando...":"Guardar"})})]})]})})})})}function kue(){Co();const[e,t]=U.useState(""),[r,n]=U.useState(""),[a,i]=U.useState(1e4),[s,o]=U.useState(1),[l,c]=U.useState(!1),[f,d]=U.useState(""),[h,m]=U.useState(!1),g=async p=>{p.preventDefault(),c(!0),d(""),m(!1);try{const{data:v,error:b}=await ze.auth.signUp({email:e,password:r});if(b)throw b;if(!v.user)throw new Error("Error creating user");const{error:w}=await ze.from("users").insert([{id:v.user.id,active:!0,max_monthly_events:a,max_products:s,events_count:0,role:"user"}]);if(w)throw await ze.auth.admin.deleteUser(v.user.id),w;m(!0),t(""),n(""),i(1e4),o(1)}catch(v){console.error("Error creating user:",v),d(v instanceof Error?v.message:"Error al crear el usuario")}finally{c(!1)}};return u.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Crear Usuario con Plan"}),f&&u.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx(O_,{className:"h-5 w-5 text-red-400"}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-red-700",children:f})})]})}),h&&u.jsx("div",{className:"mb-4 bg-green-50 border-l-4 border-green-400 p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx(_r,{className:"h-5 w-5 text-green-400"}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-green-700",children:"Usuario creado exitosamente"})})]})}),u.jsxs("form",{onSubmit:g,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),u.jsx("input",{type:"email",id:"email",value:e,onChange:p=>t(p.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contraseña"}),u.jsx("input",{type:"password",id:"password",value:r,onChange:p=>n(p.target.value),required:!0,minLength:6,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"maxEvents",className:"block text-sm font-medium text-gray-700",children:"Eventos Mensuales Máximos"}),u.jsx("input",{type:"number",id:"maxEvents",value:a,onChange:p=>i(parseInt(p.target.value)),required:!0,min:1e3,step:1e3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Número máximo de eventos que el usuario puede registrar por mes"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"maxProducts",className:"block text-sm font-medium text-gray-700",children:"Productos Máximos"}),u.jsx("input",{type:"number",id:"maxProducts",value:s,onChange:p=>o(parseInt(p.target.value)),required:!0,min:1,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Número máximo de productos que el usuario puede crear"})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"submit",disabled:l,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:l?"Creando...":"Crear Usuario"})})]})]})})}function Cue({onLogout:e,isAdmin:t}){const r=Co(),n=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).email:"",a=()=>{e(),r("/")};return u.jsx("header",{className:"bg-gradient-to-r from-indigo-600 to-purple-600",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsx("div",{className:"flex items-center",children:u.jsxs(Hr,{to:"/",className:"flex items-center",children:[u.jsx(xd,{className:"h-8 w-8 text-white"}),u.jsx("span",{className:"ml-2 text-white text-xl font-bold",children:"HotAPI"}),u.jsx("span",{className:"ml-1 text-gray-300 text-sm",children:"by Automscc"})]})}),u.jsxs("div",{className:"flex items-center space-x-4",children:[n&&u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(bP,{className:"h-4 w-4 mr-2"}),u.jsx("span",{className:"text-sm",children:n})]}),t&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-white bg-indigo-700 px-3 py-1 rounded-full text-sm",children:"Admin"}),u.jsxs(Hr,{to:"/admin/create-user",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-indigo-700 hover:bg-indigo-800",children:[u.jsx(OP,{className:"h-4 w-4 mr-2"}),"Crear Usuario"]})]}),u.jsxs(Hr,{to:"/settings",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-indigo-700 hover:bg-indigo-800",children:[u.jsx(Ip,{className:"h-4 w-4 mr-2"}),"Ajustes"]}),u.jsxs("button",{onClick:a,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-indigo-700 hover:bg-indigo-800",children:[u.jsx(P_,{className:"h-4 w-4 mr-2"}),"Cerrar Sesión"]})]})]})})})}function El({children:e}){const{user:t,loading:r}=Ia();return r?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):t?u.jsx(u.Fragment,{children:e}):u.jsx(Bu,{to:"/login"})}function Due(){const[e,t]=U.useState(""),[r,n]=U.useState(""),[a,i]=U.useState(""),[s,o]=U.useState(""),[l,c]=U.useState(""),[f,d]=U.useState(!1),{signUp:h}=Ia(),m=async g=>{if(g.preventDefault(),o(""),c(""),a!=="admin123"){o("Contraseña de administrador incorrecta.");return}if(r.length<6){o("La contraseña debe tener al menos 6 caracteres.");return}d(!0);try{const{error:p}=await h(e,r);if(p)throw p;c(`¡Usuario ${e} creado exitosamente! Ahora puedes iniciar sesión.`),t(""),n(""),i("")}catch(p){o(p.message||"Error al crear el usuario.")}finally{d(!1)}};return u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center py-12 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Crear Nuevo Usuario"})}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[u.jsxs("form",{className:"space-y-6",onSubmit:m,children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email del nuevo usuario"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:g=>t(g.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password","aria-label":"Password",className:"block text-sm font-medium text-gray-700",children:"Contraseña para el nuevo usuario"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:r,onChange:g=>n(g.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"admin-password","aria-label":"Admin Password",className:"block text-sm font-medium text-gray-700",children:"Contraseña de Administrador"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"admin-password",name:"admin-password",type:"password",required:!0,value:a,onChange:g=>i(g.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),s&&u.jsx("p",{className:"text-red-500 text-sm",children:s}),l&&u.jsx("p",{className:"text-green-500 text-sm",children:l}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:f,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:f?"Creando...":"Crear Usuario"})})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white text-gray-500",children:"¿Ya tienes una cuenta?"})})]}),u.jsx("div",{className:"mt-6",children:u.jsx(Hr,{to:"/",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Ir a Iniciar Sesión"})})]})]})})]})}function Mue(){return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("header",{className:"bg-white shadow-sm",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center py-6",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Mh,{className:"h-8 w-8 text-blue-600"}),u.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"TrackPro"})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(Hr,{to:"/create-user-public",className:"text-gray-500 hover:text-gray-700 font-medium",children:"Crear Cuenta"}),u.jsx(Hr,{to:"/",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 font-medium",children:"Iniciar Sesión"})]})]})})}),u.jsx("section",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Trackea, Analiza y ",u.jsx("span",{className:"text-blue-200",children:"Optimiza"})," tu Marketing Digital"]}),u.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto",children:"La plataforma todo-en-uno para tracking de conversiones, análisis de ROAS y automatización de reportes publicitarios."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(Hr,{to:"/create-user-public",className:"bg-white text-blue-600 px-8 py-4 rounded-lg font-semibold hover:bg-gray-50 transition-colors inline-flex items-center justify-center",children:["Comenzar Gratis",u.jsx(zv,{className:"ml-2 h-5 w-5"})]}),u.jsx("button",{className:"border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors",children:"Ver Demo"})]})]})})}),u.jsx("section",{className:"py-24 bg-gray-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Todo lo que necesitas para optimizar tu marketing"}),u.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Conecta todos tus canales de marketing en una sola plataforma y toma decisiones basadas en datos reales."})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm",children:[u.jsx(q0,{className:"h-12 w-12 text-blue-600 mb-4"}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Tracking Preciso"}),u.jsx("p",{className:"text-gray-600",children:"Rastrea cada interacción del usuario desde el primer clic hasta la conversión final con precisión milimétrica."})]}),u.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm",children:[u.jsx(Mh,{className:"h-12 w-12 text-blue-600 mb-4"}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Análisis de ROAS"}),u.jsx("p",{className:"text-gray-600",children:"Calcula automáticamente el retorno de inversión publicitaria y identifica tus campañas más rentables."})]}),u.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm",children:[u.jsx(D_,{className:"h-12 w-12 text-blue-600 mb-4"}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Automatización"}),u.jsx("p",{className:"text-gray-600",children:"Reportes automáticos, notificaciones en tiempo real y sincronización con Facebook Ads y Hotmart."})]})]})]})}),u.jsx("section",{className:"py-24",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Integra con tus herramientas favoritas"}),u.jsx("p",{className:"text-xl text-gray-600",children:"Conecta automáticamente con las plataformas que ya usas"})]}),u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"bg-blue-600 text-white p-4 rounded-lg mb-4 mx-auto w-16 h-16 flex items-center justify-center",children:u.jsx("span",{className:"font-bold text-lg",children:"FB"})}),u.jsx("h3",{className:"font-semibold text-gray-900",children:"Facebook Ads"}),u.jsx("p",{className:"text-gray-600 text-sm",children:"Sincronización automática de gastos y métricas"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"bg-orange-500 text-white p-4 rounded-lg mb-4 mx-auto w-16 h-16 flex items-center justify-center",children:u.jsx("span",{className:"font-bold text-lg",children:"HM"})}),u.jsx("h3",{className:"font-semibold text-gray-900",children:"Hotmart"}),u.jsx("p",{className:"text-gray-600 text-sm",children:"Webhooks de ventas en tiempo real"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"bg-blue-400 text-white p-4 rounded-lg mb-4 mx-auto w-16 h-16 flex items-center justify-center",children:u.jsx("span",{className:"font-bold text-lg",children:"TG"})}),u.jsx("h3",{className:"font-semibold text-gray-900",children:"Telegram"}),u.jsx("p",{className:"text-gray-600 text-sm",children:"Notificaciones instantáneas de ventas"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"bg-green-600 text-white p-4 rounded-lg mb-4 mx-auto w-16 h-16 flex items-center justify-center",children:u.jsx("span",{className:"font-bold text-lg",children:"GA"})}),u.jsx("h3",{className:"font-semibold text-gray-900",children:"Google Analytics"}),u.jsx("p",{className:"text-gray-600 text-sm",children:"Datos complementarios de tráfico"})]})]})]})}),u.jsx("section",{className:"py-24 bg-gray-50",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Reduce costos y maximiza resultados"}),u.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Toma decisiones inteligentes basadas en datos reales y optimiza cada euro invertido en publicidad."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx(_r,{className:"h-6 w-6 text-green-500 mr-3 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:"Atribución Precisa"}),u.jsx("p",{className:"text-gray-600",children:"Identifica exactamente qué campañas generan más ventas"})]})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx(_r,{className:"h-6 w-6 text-green-500 mr-3 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:"Reportes Automáticos"}),u.jsx("p",{className:"text-gray-600",children:"Ahorra horas de trabajo manual con reportes automatizados"})]})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx(_r,{className:"h-6 w-6 text-green-500 mr-3 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:"Optimización Continua"}),u.jsx("p",{className:"text-gray-600",children:"Mejora constantemente el rendimiento de tus campañas"})]})]})]})]}),u.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Lo que incluye tu plan:"}),u.jsxs("ul",{className:"space-y-4",children:[u.jsxs("li",{className:"flex items-center",children:[u.jsx(_r,{className:"h-5 w-5 text-green-500 mr-3"}),u.jsx("span",{children:"Tracking ilimitado de eventos"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(_r,{className:"h-5 w-5 text-green-500 mr-3"}),u.jsx("span",{children:"Hasta 10 productos/sitios web"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(_r,{className:"h-5 w-5 text-green-500 mr-3"}),u.jsx("span",{children:"Integraciones con Facebook Ads"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(_r,{className:"h-5 w-5 text-green-500 mr-3"}),u.jsx("span",{children:"Webhooks de Hotmart"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(_r,{className:"h-5 w-5 text-green-500 mr-3"}),u.jsx("span",{children:"Notificaciones por Telegram"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(_r,{className:"h-5 w-5 text-green-500 mr-3"}),u.jsx("span",{children:"Soporte técnico 24/7"})]})]})]})]})})}),u.jsx("section",{className:"py-24 bg-blue-600",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"¿Listo para optimizar tu marketing?"}),u.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Únete a cientos de marketers que ya están mejorando sus resultados con TrackPro"}),u.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:u.jsxs(Hr,{to:"/create-user-public",className:"bg-white text-blue-600 px-8 py-4 rounded-lg font-semibold hover:bg-gray-50 transition-colors inline-flex items-center justify-center",children:["Comenzar Prueba Gratuita",u.jsx(zv,{className:"ml-2 h-5 w-5"})]})})]})}),u.jsx("footer",{className:"bg-gray-900 text-white py-12",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx(Mh,{className:"h-8 w-8 text-blue-400"}),u.jsx("span",{className:"ml-2 text-xl font-bold",children:"TrackPro"})]}),u.jsx("p",{className:"text-gray-400",children:"La plataforma de tracking más completa para tu marketing digital."})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-4",children:"Producto"}),u.jsxs("ul",{className:"space-y-2 text-gray-400",children:[u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-white",children:"Características"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-white",children:"Precios"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-white",children:"Integraciones"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-4",children:"Soporte"}),u.jsxs("ul",{className:"space-y-2 text-gray-400",children:[u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-white",children:"Documentación"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-white",children:"Contacto"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-white",children:"API"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-4",children:"Legal"}),u.jsxs("ul",{className:"space-y-2 text-gray-400",children:[u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-white",children:"Privacidad"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-white",children:"Términos"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-white",children:"Cookies"})})]})]})]}),u.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:u.jsx("p",{children:"© 2024 TrackPro. Todos los derechos reservados."})})]})})]})}function Iue(){const{user:e,loading:t,signOut:r}=Ia();if(t)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})});if(!e)return u.jsxs(jv,{children:[u.jsx(Nn,{path:"/landing",element:u.jsx(Mue,{})}),u.jsx(Nn,{path:"/create-user-public",element:u.jsx(Due,{})}),u.jsx(Nn,{path:"*",element:u.jsx(AP,{})})]});const n=e.role==="admin";return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(Cue,{onLogout:r,isAdmin:n}),u.jsxs(jv,{children:[u.jsx(Nn,{path:"/",element:u.jsx(El,{children:u.jsx(jP,{})})}),u.jsx(Nn,{path:"/products/new",element:u.jsx(El,{children:u.jsx(NP,{})})}),u.jsx(Nn,{path:"/products/:id",element:u.jsx(El,{children:u.jsx(Aue,{})})}),u.jsx(Nn,{path:"/settings",element:u.jsx(El,{children:u.jsx(Pue,{})})}),n&&u.jsx(Nn,{path:"/admin/create-user",element:u.jsx(El,{children:u.jsx(kue,{})})}),u.jsx(Nn,{path:"/landing",element:u.jsx(Bu,{to:"/",replace:!0})}),u.jsx(Nn,{path:"/create-user-public",element:u.jsx(Bu,{to:"/",replace:!0})}),u.jsx(Nn,{path:"*",element:u.jsx(Bu,{to:"/",replace:!0})})]})]})}function $ue(){return u.jsx(XA,{children:u.jsx(fP,{children:u.jsx(Iue,{})})})}const LA=document.getElementById("root");if(!LA)throw new Error("Failed to find root element");const Fue=e_(LA);Fue.render(u.jsx(U.StrictMode,{children:u.jsx($ue,{})}));
