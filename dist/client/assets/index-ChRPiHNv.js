const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-C0TzPtb9.js","assets/vendor-DNILJbIb.js"])))=>i.map(i=>d[i]);
var pA=Object.defineProperty;var mA=(e,t,r)=>t in e?pA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var nc=(e,t,r)=>mA(e,typeof t!="symbol"?t+"":t,r);import{r as W,a as op,g as tb,c as ir,u as Ps,L as bn,b as mt,R as L,d as vA,e as gA,N as ph,f as Km,h as Cn,B as xA}from"./vendor-DNILJbIb.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var rb={exports:{}},Ju={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yA=W,bA=Symbol.for("react.element"),wA=Symbol.for("react.fragment"),_A=Object.prototype.hasOwnProperty,SA=yA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EA={key:!0,ref:!0,__self:!0,__source:!0};function nb(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)_A.call(t,n)&&!EA.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:bA,type:e,key:a,ref:s,props:i,_owner:SA.current}}Ju.Fragment=wA;Ju.jsx=nb;Ju.jsxs=nb;rb.exports=Ju;var d=rb.exports,ib,Xm=op;ib=Xm.createRoot,Xm.hydrateRoot;const AA="modulepreload",TA=function(e){return"/"+e},Ym={},Qa=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=TA(l),l in Ym)return;Ym[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":AA,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},OA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qa(async()=>{const{default:n}=await Promise.resolve().then(()=>js);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class lp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class PA extends lp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jA extends lp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class NA extends lp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var mh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(mh||(mh={}));var CA=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class kA{constructor(t,{headers:r={},customFetch:n,region:i=mh.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=OA(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return CA(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(o["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(o["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:c}).catch(v=>{throw new PA(v)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new jA(u);if(!u.ok)throw new NA(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var vr={},cp={},Zu={},$l={},Qu={},ef={},DA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},es=DA();const IA=es.fetch,ab=es.fetch.bind(es),sb=es.Headers,$A=es.Request,MA=es.Response,js=Object.freeze(Object.defineProperty({__proto__:null,Headers:sb,Request:$A,Response:MA,default:ab,fetch:IA},Symbol.toStringTag,{value:"Module"})),FA=tb(js);var tf={};Object.defineProperty(tf,"__esModule",{value:!0});let RA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};tf.default=RA;var ob=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ef,"__esModule",{value:!0});const LA=ob(FA),BA=ob(tf);let UA=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=LA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l;let c=null,u=null,f=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),g=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");m&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await a.text();try{c=JSON.parse(m),Array.isArray(c)&&a.status===404&&(u=[],c=null,h=200,p="OK")}catch{a.status===404&&m===""?(h=204,p="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new BA.default(c)}return{error:c,data:u,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};ef.default=UA;var WA=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qu,"__esModule",{value:!0});const zA=WA(ef);let HA=class extends zA.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qu.default=HA;var qA=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($l,"__esModule",{value:!0});const GA=qA(Qu);let VA=class extends GA.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};$l.default=VA;var KA=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zu,"__esModule",{value:!0});const oo=KA($l);let XA=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new oo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const s=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new oo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new oo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new oo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new oo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Zu.default=XA;var rf={},nf={};Object.defineProperty(nf,"__esModule",{value:!0});nf.version=void 0;nf.version="0.0.0-automated";Object.defineProperty(rf,"__esModule",{value:!0});rf.DEFAULT_HEADERS=void 0;const YA=nf;rf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${YA.version}`};var lb=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cp,"__esModule",{value:!0});const JA=lb(Zu),ZA=lb($l),QA=rf;let eT=class cb{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},QA.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new JA.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new cb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){let s;const o=new URL(`${this.url}/rpc/${t}`);let l;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{o.searchParams.append(u,f)})):(s="POST",l=r);const c=Object.assign({},this.headers);return a&&(c.Prefer=`count=${a}`),new ZA.default({method:s,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};cp.default=eT;var Ns=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vr,"__esModule",{value:!0});vr.PostgrestError=vr.PostgrestBuilder=vr.PostgrestTransformBuilder=vr.PostgrestFilterBuilder=vr.PostgrestQueryBuilder=vr.PostgrestClient=void 0;const ub=Ns(cp);vr.PostgrestClient=ub.default;const fb=Ns(Zu);vr.PostgrestQueryBuilder=fb.default;const db=Ns($l);vr.PostgrestFilterBuilder=db.default;const hb=Ns(Qu);vr.PostgrestTransformBuilder=hb.default;const pb=Ns(ef);vr.PostgrestBuilder=pb.default;const mb=Ns(tf);vr.PostgrestError=mb.default;var tT=vr.default={PostgrestClient:ub.default,PostgrestQueryBuilder:fb.default,PostgrestFilterBuilder:db.default,PostgrestTransformBuilder:hb.default,PostgrestBuilder:pb.default,PostgrestError:mb.default};const{PostgrestClient:rT,PostgrestQueryBuilder:Bie,PostgrestFilterBuilder:Uie,PostgrestTransformBuilder:Wie,PostgrestBuilder:zie,PostgrestError:Hie}=tT,nT="2.11.2",iT={"X-Client-Info":`realtime-js/${nT}`},aT="1.0.0",vb=1e4,sT=1e3;var qa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qa||(qa={}));var Or;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Or||(Or={}));var rn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rn||(rn={}));var vh;(function(e){e.websocket="websocket"})(vh||(vh={}));var Li;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Li||(Li={}));class oT{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const l=n.decode(t.slice(s,s+a));s=s+a;const c=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class gb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ht||(ht={}));const Jm=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=lT(s,e,t,i),a),{})},lT=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?xb(a,s):gh(s)},xb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return dT(t,r)}switch(e){case ht.bool:return cT(t);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return uT(t);case ht.json:case ht.jsonb:return fT(t);case ht.timestamp:return hT(t);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return gh(t);default:return gh(t)}},gh=e=>e,cT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},uT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dT=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>xb(t,o))}return e},hT=e=>typeof e=="string"?e.replace(" ","T"):e,yb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class hd{constructor(t,r,n={},i=vb){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Zm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Zm||(Zm={}));class Po{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Po.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=Po.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Po.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(a,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const f=a[c];if(f){const h=u.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),v=u.filter(g=>p.indexOf(g.presence_ref)<0),m=f.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(o[c]=v),m.length>0&&(l[c]=m)}else o[c]=u}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const u=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),u.length>0){const f=t[o].map(p=>p.presence_ref),h=u.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,u,l)}),this.map(s,(o,l)=>{let c=t[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[o]=c,i(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qm||(Qm={}));var ev;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ev||(ev={}));var Dn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Dn||(Dn={}));class up{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new hd(this,rn.join,this.params,this.timeout),this.rejoinTimer=new gb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Or.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Po(this),this.broadcastEndpointURL=yb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:s,private:o}}=this.params;this._onError(u=>t==null?void 0:t(Dn.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Dn.CLOSED));const l={},c={broadcast:a,presence:s,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(Dn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let m=0;m<p;m++){const g=h[m],{filter:{event:y,schema:b,table:x,filter:E}}=g,w=u&&u[m];if(w&&w.event===y&&w.schema===b&&w.table===x&&w.filter===E)v.push(Object.assign(Object.assign({},g),{id:w.id}));else{this.unsubscribe(),t==null||t(Dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Dn.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(Dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Or.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new hd(this,rn.leave,{},t);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new hd(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=rn;if(n&&[o,l,c,u].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,m,g;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(m=p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var v,m,g,y,b,x;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const E=p.id,w=(v=p.filter)===null||v===void 0?void 0:v.event;return E&&((m=r.ids)===null||m===void 0?void 0:m.includes(E))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const E=(b=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return E==="*"||E===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:g,commit_timestamp:y,type:b,errors:x}=v;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:y,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===Or.closed}_isJoined(){return this.state===Or.joined}_isJoining(){return this.state===Or.joining}_isLeaving(){return this.state===Or.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&up.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rn.close,{},t)}_onError(t){this._on(rn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Or.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Jm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Jm(t.columns,t.old_record)),r}}const pT=()=>{},mT=typeof WebSocket<"u",vT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gT{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=iT,this.params={},this.timeout=vb,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=pT,this.conn=null,this.sendBuffer=[],this.serializer=new oT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>Qa(async()=>{const{default:l}=await Promise.resolve().then(()=>js);return{default:l}},void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${t}/${vh.websocket}`,this.httpEndpoint=yb(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,s)=>s(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new gb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(mT){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new xT(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Qa(async()=>{const{default:t}=await import("./browser-C0TzPtb9.js").then(r=>r.b);return{default:t}},__vite__mapDeps([0,1])).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aT}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qa.connecting:return Li.Connecting;case qa.open:return Li.Open;case qa.closing:return Li.Closing;default:return Li.Closed}}isConnected(){return this.connectionState()===Li.Open}channel(t,r={config:{}}){const n=new up(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(rn.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(sT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:a,ref:s}=r;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${s&&"("+s+")"||""}`,a),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(rn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([vT],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class xT{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=qa.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class fp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class yT extends fp{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class xh extends fp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var bT=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const bb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qa(async()=>{const{default:n}=await Promise.resolve().then(()=>js);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},wT=()=>bT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qa(()=>Promise.resolve().then(()=>js),void 0)).Response:Response}),yh=e=>{if(Array.isArray(e))return e.map(r=>yh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=yh(n)}),t};var ca=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const pd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_T=(e,t,r)=>ca(void 0,void 0,void 0,function*(){const n=yield wT();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new yT(pd(i),e.status||500))}).catch(i=>{t(new xh(pd(i),i))}):t(new xh(pd(e),e))}),ST=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Ml(e,t,r,n,i,a){return ca(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,ST(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>_T(l,o,n))})})}function Ic(e,t,r,n){return ca(this,void 0,void 0,function*(){return Ml(e,"GET",t,r,n)})}function li(e,t,r,n,i){return ca(this,void 0,void 0,function*(){return Ml(e,"POST",t,n,i,r)})}function ET(e,t,r,n,i){return ca(this,void 0,void 0,function*(){return Ml(e,"PUT",t,n,i,r)})}function AT(e,t,r,n){return ca(this,void 0,void 0,function*(){return Ml(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wb(e,t,r,n,i){return ca(this,void 0,void 0,function*(){return Ml(e,"DELETE",t,n,i,r)})}var pr=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const TT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class OT{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=bb(i)}uploadOrUpdate(t,r,n,i){return pr(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},tv),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:a,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}upload(t,r,n){return pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return pr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:tv.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Ft(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return pr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield li(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new fp("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}update(t,r,n){return pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return pr(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}copy(t,r,n){return pr(this,void 0,void 0,function*(){try{return{data:{path:(yield li(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return pr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield li(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return pr(this,void 0,void 0,function*(){try{const i=yield li(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}download(t,r){return pr(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Ic(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ft(o))return{data:null,error:o};throw o}})}info(t){return pr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ic(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:yh(n),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}exists(t){return pr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield AT(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ft(n)&&n instanceof xh){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return pr(this,void 0,void 0,function*(){try{return{data:yield wb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}list(t,r,n){return pr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},TT),r),{prefix:t||""});return{data:yield li(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const PT="2.7.1",jT={"X-Client-Info":`storage-js/${PT}`};var Ta=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class NT{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},jT),r),this.fetch=bb(n)}listBuckets(){return Ta(this,void 0,void 0,function*(){try{return{data:yield Ic(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ft(t))return{data:null,error:t};throw t}})}getBucket(t){return Ta(this,void 0,void 0,function*(){try{return{data:yield Ic(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ta(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ta(this,void 0,void 0,function*(){try{return{data:yield ET(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ta(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ta(this,void 0,void 0,function*(){try{return{data:yield wb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}}class CT extends NT{constructor(t,r={},n){super(t,r,n)}from(t){return new OT(this.url,this.headers,t,this.fetch)}}const kT="2.49.1";let Ao="";typeof Deno<"u"?Ao="deno":typeof document<"u"?Ao="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ao="react-native":Ao="node";const DT={"X-Client-Info":`supabase-js-${Ao}/${kT}`},IT={headers:DT},$T={schema:"public"},MT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FT={};var RT=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const LT=e=>{let t;return e?t=e:typeof fetch>"u"?t=ab:t=fetch,(...r)=>t(...r)},BT=()=>typeof Headers>"u"?sb:Headers,UT=(e,t,r)=>{const n=LT(r),i=BT();return(a,s)=>RT(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:c}))})};var WT=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};function zT(e){return e.replace(/\/$/,"")}function HT(e,t){const{db:r,auth:n,realtime:i,global:a}=e,{db:s,auth:o,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),a),accessToken:()=>WT(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const _b="2.68.0",Fa=30*1e3,bh=3,md=bh*Fa,qT="http://localhost:9999",GT="supabase.auth.token",VT={"X-Client-Info":`gotrue-js/${_b}`},wh="X-Supabase-Api-Version",Sb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function KT(e){return Math.round(Date.now()/1e3)+e}function XT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const pn=()=>typeof window<"u"&&typeof document<"u",Ci={tested:!1,writable:!1},jo=()=>{if(!pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ci.tested)return Ci.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ci.tested=!0,Ci.writable=!0}catch{Ci.tested=!0,Ci.writable=!1}return Ci.writable};function YT(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Eb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qa(async()=>{const{default:n}=await Promise.resolve().then(()=>js);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},JT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ab=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ic=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ac=async(e,t)=>{await e.removeItem(t)};function ZT(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,i,a,s,o,l,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)s=t.indexOf(e.charAt(u++)),o=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),n=s<<2|o>>4,i=(o&15)<<4|l>>2,a=(l&3)<<6|c,r=r+String.fromCharCode(n),l!=64&&i!=0&&(r=r+String.fromCharCode(i)),c!=64&&a!=0&&(r=r+String.fromCharCode(a));return r}class af{constructor(){this.promise=new af.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}af.promiseConstructor=Promise;function rv(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(ZT(n))}async function QT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function eO(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function tO(e){return("0"+e.toString(16)).substr(-2)}function rO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,tO).join("")}async function nO(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}function iO(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function aO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await nO(e);return iO(r)}async function Oa(e,t,r=!1){const n=rO();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ab(e,`${t}-code-verifier`,i);const a=await aO(n);return[a,n===a?"plain":"s256"]}const sO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oO(e){const t=e.headers.get(wh);if(!t||!t.match(sO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class dp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lO extends dp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function cO(e){return ze(e)&&e.name==="AuthApiError"}class Tb extends dp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ua extends dp{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class ai extends ua{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function uO(e){return ze(e)&&e.name==="AuthSessionMissingError"}class vd extends ua{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sc extends ua{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class oc extends ua{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fO(e){return ze(e)&&e.name==="AuthImplicitGrantRedirectError"}class nv extends ua{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _h extends ua{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function gd(e){return ze(e)&&e.name==="AuthRetryableFetchError"}class iv extends ua{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var dO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Ii=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hO=[502,503,504];async function av(e){var t;if(!JT(e))throw new _h(Ii(e),0);if(hO.includes(e.status))throw new _h(Ii(e),e.status);let r;try{r=await e.json()}catch(a){throw new Tb(Ii(a),a)}let n;const i=oO(e);if(i&&i.getTime()>=Sb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new iv(Ii(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ai}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new iv(Ii(r),e.status,r.weak_password.reasons);throw new lO(Ii(r),e.status||500,n)}const pO=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ve(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[wh]||(a[wh]=Sb["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await mO(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function mO(e,t,r,n,i,a){const s=pO(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new _h(Ii(l),0)}if(o.ok||await av(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await av(l)}}function si(e){var t;let r=null;yO(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=KT(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function sv(e){const t=si(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ui(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vO(e){return{data:e,error:null}}function gO(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=dO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function xO(e){return e}function yO(e){return e.access_token&&e.refresh_token&&e.expires_in}var bO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class wO{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Eb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ve(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ui})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=bO(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:gO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ze(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ui})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:xO});if(u.error)throw u.error;const f=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ze(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await Ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ui})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ui})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ui})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}}const _O={getItem:e=>jo()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{jo()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{jo()&&globalThis.localStorage.removeItem(e)}};function ov(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function SO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Pa={debug:!!(globalThis&&jo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ob extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class EO extends Ob{}async function AO(e,t,r){Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new EO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Pa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}SO();const TO={url:qT,storageKey:GT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:VT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lv(e,t,r){return await r()}class Ho{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ho.nextInstanceID,Ho.nextInstanceID+=1,this.instanceID>0&&pn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},TO),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new wO({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Eb(i.fetch),this.lock=i.lock||lv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:pn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=AO:this.lock=lv,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:jo()?this.storage=_O:(this.memoryStorage={},this.storage=ov(this.memoryStorage)):(this.memoryStorage={},this.storage=ov(this.memoryStorage)),pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_b}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=YT(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),pn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),fO(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ze(r)?{error:r}:{error:new Tb("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:si}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:u,password:f,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Oa(this.storage,this.storageKey)),a=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:si})}else if("phone"in t){const{phone:u,password:f,options:h}=t;a=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:si})}else throw new sc("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:sv})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:sv})}else throw new sc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new vd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ic(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:si});if(await ac(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new vd}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(ze(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:si}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new vd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Oa(this.storage,this.storageKey));const{error:f}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:u}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new sc("You must provide either an email or phone number.")}catch(o){if(ze(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:si});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Oa(this.storage,this.storageKey)),await Ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:vO})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ai;const{error:i}=await Ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await Ve(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await Ve(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new sc("You must provide either an email or phone number and a type")}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ic(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<md:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ui}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ai}:await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ui})})}catch(r){if(ze(r))return uO(r)&&(await this._removeSession(),await ac(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new ai;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Oa(this.storage,this.storageKey));const{data:c,error:u}=await Ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:ui});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return rv(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ai;const r=Date.now()/1e3;let n=r,i=!0,a=null;const s=rv(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(ze(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ai;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!pn())throw new oc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new oc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new nv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nv("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=t;if(!a||!o||!s||!c)throw new oc("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let h=u+f;l&&(h=parseInt(l));const p=h-u;p*1e3<=Fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,u);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(ze(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ic(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(cO(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await ac(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=XT(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Oa(this.storage,this.storageKey,!0));try{return await Ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,c,u;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ve(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return pn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ze(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await eO(async i=>(i>0&&await QT(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:si})),(i,a)=>{const s=200*Math.pow(2,i);return a&&gd(a)&&Date.now()+s-n<Fa})}catch(n){if(this._debug(r,"error",n),ze(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),pn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ic(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<md;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${md}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),gd(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ai;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new af;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new ai;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),ze(a)){const s={session:null,error:a};return gd(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ab(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ac(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Fa}ms, refresh threshold is ${bh} ticks`),i<=bh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ob)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Oa(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Ve(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await Ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(ze(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ze(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Ho.nextInstanceID=0;const OO=Ho;class PO extends OO{constructor(t){super(t)}}var jO=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class NO{constructor(t,r,n){var i,a,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=zT(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:$T,realtime:FT,auth:Object.assign(Object.assign({},MT),{storageKey:l}),global:IT},u=HT(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=UT(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new rT(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new kA(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new CT(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return jO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:s,lock:o,debug:l},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PO({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:s,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new gT(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const CO=(e,t,r)=>new NO(e,t,r),Wi=class Wi{constructor(){nc(this,"logs",[]);nc(this,"MAX_LOGS",100)}static getInstance(){return Wi.instance||(Wi.instance=new Wi),Wi.instance}addLog(t,r,n,i){const a={timestamp:new Date().toISOString(),level:t,context:r,message:n,data:i};this.logs.unshift(a),this.logs.length>this.MAX_LOGS&&this.logs.pop();try{localStorage.setItem("app_diagnostics",JSON.stringify(this.logs))}catch(s){console.error("Error storing diagnostics:",s)}}info(t,r,n){this.addLog("info",t,r,n)}warn(t,r,n){this.addLog("warn",t,r,n)}error(t,r,n){this.addLog("error",t,r,n)}getLogs(){return this.logs}clearLogs(){this.logs=[],localStorage.removeItem("app_diagnostics")}getDiagnosticReport(){const t={userAgent:navigator.userAgent,language:navigator.language,viewport:`${window.innerWidth}x${window.innerHeight}`,timestamp:new Date().toISOString(),url:window.location.href,env:"production"};return JSON.stringify({environment:t,logs:this.logs},null,2)}};nc(Wi,"instance");let Sh=Wi;const qe=Sh.getInstance(),Pb="https://hdkcvkzchfjlqxbfemsc.supabase.co",kO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhka2N2a3pjaGZqbHF4YmZlbXNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDExMzMzMjEsImV4cCI6MjA1NjcwOTMyMX0.bkyaJNpfO_pD74vnfszkfR2W-SrhA9E3guMkrFS3LQM";qe.info("Supabase","Initializing Supabase client",{url:Pb});const Re=CO(Pb,kO,{auth:{persistSession:!1}});Re.handleError=e=>(qe.error("Supabase","Request error",e),e);const jb=W.createContext(void 0);function DO({children:e}){const[t,r]=W.useState(null),[n,i]=W.useState(!0),[a,s]=W.useState(!1);W.useEffect(()=>{qe.info("Auth","Initializing AuthProvider");try{const f=localStorage.getItem("user");if(f){const h=JSON.parse(f);h&&h.id&&h.email?(qe.info("Auth","Restored user from localStorage",{userId:h.id}),r(h),s(h.active)):(qe.warn("Auth","Invalid stored user data, clearing"),localStorage.removeItem("user"))}else qe.info("Auth","No stored user found")}catch(f){qe.error("Auth","Error loading stored user",f),localStorage.removeItem("user")}finally{i(!1)}},[]);const u={user:t,loading:n,signIn:async(f,h)=>{qe.info("Auth","Attempting sign in",{email:f});try{const p=f.toLowerCase(),{data:v,error:m}=await Re.from("users").select("*").ilike("email",p).eq("password",h).single();if(m)throw qe.error("Auth","Sign in error",m),new Error("Credenciales invlidas");if(!v)throw qe.warn("Auth","No user found with credentials"),new Error("Credenciales invlidas");if(!v.active)throw qe.warn("Auth","Inactive user attempted login",{userId:v.id}),new Error("Usuario inactivo");const g={id:v.id,email:v.email,role:v.role,active:v.active};qe.info("Auth","Sign in successful",{userId:g.id,role:g.role}),r(g),s(v.active),localStorage.setItem("user",JSON.stringify(g))}catch(p){throw qe.error("Auth","Sign in process failed",p),p}},signUp:async(f,h)=>{qe.info("Auth","Attempting sign up",{email:f});try{const p=f.toLowerCase(),v=crypto.randomUUID(),{error:m}=await Re.from("users").insert([{id:v,email:p,password:h,active:!0,role:"user",max_monthly_events:1e3,max_products:2,events_count:0}]);if(m)throw qe.error("Auth","Error creating user",m),m.code==="23505"?new Error("El email ya est registrado"):m;const{data:g,error:y}=await Re.from("users").select("*").eq("id",v).single();if(y||!g)throw qe.error("Auth","Error fetching new user",y),new Error("Error al crear el usuario");const b={id:g.id,email:g.email,role:g.role,active:g.active};qe.info("Auth","Sign up successful",{userId:b.id}),r(b),s(!0),localStorage.setItem("user",JSON.stringify(b)),await Re.from("user_settings").insert([{user_id:v,timezone:"UTC",notification_preferences:{email:!0,in_app:!0}}])}catch(p){throw qe.error("Auth","Sign up process failed",p),p}},signOut:()=>{qe.info("Auth","Signing out",{userId:t==null?void 0:t.id}),r(null),s(!1),localStorage.removeItem("user")},isActive:a};return d.jsx(jb.Provider,{value:u,children:e})}function Xn(){const e=W.useContext(jb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),We=(e,t)=>{const r=W.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>W.createElement("svg",{ref:u,...IO,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${$O(e)}`,o].join(" "),...c},[...t.map(([f,h])=>W.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=We("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=We("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=We("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=We("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=We("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=We("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=We("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=We("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=We("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=We("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=We("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=We("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=We("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=We("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=We("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=We("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=We("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=We("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=We("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=We("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=We("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=We("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=We("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=We("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=We("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=We("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=We("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=We("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=We("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=We("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=We("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function YO(){const{signIn:e,signUp:t}=Xn(),r=Ps(),[n,i]=W.useState(""),[a,s]=W.useState(""),[o,l]=W.useState(""),[c,u]=W.useState(!1),[f,h]=W.useState(!1),p=async v=>{v.preventDefault(),u(!0),l("");try{f?await t(n,a):await e(n,a),r("/")}catch(m){console.error("Auth error:",m),l(m instanceof Error?m.message:"Error en la autenticacin")}finally{u(!1)}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-r from-indigo-600 to-purple-600 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-xl",children:[d.jsxs("div",{children:[d.jsx("div",{className:"flex justify-center",children:d.jsx(hp,{className:"h-12 w-12 text-indigo-600"})}),d.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"HotAPI"}),d.jsx("p",{className:"text-center text-sm text-gray-600",children:"by Automscc"}),d.jsx("h3",{className:"mt-4 text-center text-xl font-bold text-gray-900",children:f?"Crear una cuenta":"Iniciar sesin"})]}),o&&d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-red-700",children:o})})]})}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[d.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Correo electrnico"}),d.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:v=>i(v.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Correo electrnico"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"sr-only",children:"Contrasea"}),d.jsx("input",{id:"password",name:"password",type:"password",autoComplete:f?"new-password":"current-password",required:!0,value:a,onChange:v=>s(v.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Contrasea"})]})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:c?"Procesando...":f?"Crear cuenta":"Iniciar sesin"})})]})]})})}function JO(){const{user:e,signOut:t}=Xn(),[r,n]=W.useState([]),[i,a]=W.useState(null),[s,o]=W.useState(!0),[l,c]=W.useState(null),[u,f]=W.useState(null),[h,p]=W.useState(!1),[v,m]=W.useState("today"),[g,y]=W.useState(!1);W.useEffect(()=>{e!=null&&e.id&&(x(),b())},[e==null?void 0:e.id,v]);async function b(){try{if(p(!0),!(e!=null&&e.id))return;const C=new Date;let j;switch(v){case"today":j=new Date(C.getFullYear(),C.getMonth(),C.getDate(),0,0,0);break;case"3days":j=new Date(C),j.setDate(C.getDate()-3),j.setHours(0,0,0,0);break;case"7days":j=new Date(C),j.setDate(C.getDate()-7),j.setHours(0,0,0,0);break}const P=new Date(C.getFullYear(),C.getMonth(),C.getDate(),23,59,59,999),{data:U}=await Re.from("users").select("role").eq("id",e.id).single();let q=[];if((U==null?void 0:U.role)==="admin"){const{data:Y}=await Re.from("products").select("id");q=(Y==null?void 0:Y.map(xe=>xe.id))||[]}else{const{data:Y}=await Re.from("products").select("id").eq("user_id",e.id);q=(Y==null?void 0:Y.map(xe=>xe.id))||[]}if(q.length===0){f({totalVisits:0,uniqueVisits:0,totalClicks:0,uniqueClicks:0,totalPurchases:0,conversionRate:0,uniqueConversionRate:0,persuasionRate:0,uniquePersuasionRate:0});return}const{data:H,error:Z}=await Re.from("tracking_events").select("id, event_type, visitor_id, session_id, created_at, product_id").in("product_id",q).gte("created_at",j.toISOString()).lte("created_at",P.toISOString()).order("created_at",{ascending:!0});if(Z){console.error("Error fetching tracking events:",Z);return}if(!H||H.length===0){f({totalVisits:0,uniqueVisits:0,totalClicks:0,uniqueClicks:0,totalPurchases:0,conversionRate:0,uniqueConversionRate:0,persuasionRate:0,uniquePersuasionRate:0});return}const te=new Set,se=new Set;let oe=0,me=0,_e=0;H.forEach(Y=>{switch(Y.event_type){case"pageview":oe++,te.add(Y.visitor_id);break;case"hotmart_click":me++,se.add(Y.visitor_id);break;case"compra_hotmart":_e++;break;case"compra_hotmart_orderbump":_e++;break}});const D=oe>0?_e/oe*100:0,z=te.size>0?_e/te.size*100:0,F=oe>0?me/oe*100:0,B=te.size>0?se.size/te.size*100:0;f({totalVisits:oe,uniqueVisits:te.size,totalClicks:me,uniqueClicks:se.size,totalPurchases:_e,conversionRate:D,uniqueConversionRate:z,persuasionRate:F,uniquePersuasionRate:B})}catch(C){console.error("Error loading tracking metrics:",C)}finally{p(!1)}}async function x(){try{if(qe.info("Dashboard","Loading dashboard data",{userId:e==null?void 0:e.id}),o(!0),c(null),!(e!=null&&e.id))throw new Error("Usuario no autenticado");const{data:C,error:j}=await Re.from("users").select(`
          events_count,
          max_monthly_events,
          max_products,
          role,
          products:products(count)
        `).eq("id",e.id).single();if(j)throw qe.error("Dashboard","Error loading usage stats",j),new Error("Error cargando estadsticas de uso");qe.info("Dashboard","Usage stats loaded",C),a({eventsCount:C.events_count,maxMonthlyEvents:C.max_monthly_events,productsCount:C.products[0].count,maxProducts:C.max_products});const P=Re.from("products").select("*").order("created_at",{ascending:!1});C.role!=="admin"&&P.eq("user_id",e.id);const{data:U,error:q}=await P;if(q)throw qe.error("Dashboard","Error loading products",q),new Error("Error cargando productos");qe.info("Dashboard","Products loaded",{count:U==null?void 0:U.length}),n(U||[])}catch(C){qe.error("Dashboard","Error in loadData",C),c(C instanceof Error?C.message:"Error cargando el dashboard")}finally{o(!1)}}const E=C=>{switch(C){case"today":return"Hoy";case"3days":return"ltimos 3 das";case"7days":return"ltimos 7 das";default:return"Hoy"}};if(s)return d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})});if(l)return d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx(rr,{className:"h-5 w-5 text-red-400"}),d.jsxs("div",{className:"ml-3",children:[d.jsx("p",{className:"text-sm text-red-700",children:l}),d.jsx("button",{onClick:x,className:"mt-2 text-sm text-red-700 underline hover:text-red-800",children:"Intentar nuevamente"})]})]})}),d.jsx("div",{className:"mt-4",children:d.jsx("button",{onClick:()=>{qe.info("Dashboard","Downloading diagnostic report");const C=qe.getDiagnosticReport(),j=new Blob([C],{type:"application/json"}),P=URL.createObjectURL(j),U=document.createElement("a");U.href=P,U.download="diagnostic-report.json",document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(P)},className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Descargar Reporte de Diagnstico"})})]});const w=i?i.eventsCount/i.maxMonthlyEvents*100:0,S=i?i.productsCount/i.maxProducts*100:0,_=w>=80,A=w>=100,O=i?i.productsCount>=i.maxProducts:!1;return d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Mtricas de Tracking"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"flex space-x-2",children:["today","3days","7days"].map(C=>d.jsx("button",{onClick:()=>m(C),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${v===C?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:E(C)},C))}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:g,onChange:()=>y(!g),className:"sr-only peer"}),d.jsx("div",{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 
                peer-checked:after:translate-x-5 peer-checked:after:border-white after:content-[''] 
                after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 
                after:border after:rounded-full after:h-5 after:w-5 after:transition-all 
                peer-checked:bg-indigo-600`}),d.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:g?"nicos":"Totales"})]})]})]}),h?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((C,j)=>d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),d.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-2"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})},j))}):u?d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-blue-100 rounded",children:d.jsx(RO,{className:"h-6 w-6 text-blue-600"})}),d.jsxs("div",{className:"ml-4 flex-1",children:[d.jsxs("p",{className:"text-sm font-medium text-gray-500",children:["Visitas ",g?"nicas":"Totales"]}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:g?u.uniqueVisits.toLocaleString():u.totalVisits.toLocaleString()}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tasa base de trfico"})]})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-green-100 rounded",children:d.jsx(Dc,{className:"h-6 w-6 text-green-600"})}),d.jsxs("div",{className:"ml-4 flex-1",children:[d.jsxs("p",{className:"text-sm font-medium text-gray-500",children:["Pagos Iniciados ",g?"nicos":"Totales"]}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:g?u.uniqueClicks.toLocaleString():u.totalClicks.toLocaleString()}),d.jsxs("p",{className:"text-xs text-green-600 mt-1 font-medium",children:[(g?u.uniquePersuasionRate:u.persuasionRate).toFixed(2),"% tasa de persuasin"]})]})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-purple-100 rounded",children:d.jsx($i,{className:"h-6 w-6 text-purple-600"})}),d.jsxs("div",{className:"ml-4 flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Compras Completadas"}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:u.totalPurchases.toLocaleString()}),d.jsxs("p",{className:"text-xs text-purple-600 mt-1 font-medium",children:[(g?u.uniqueConversionRate:u.conversionRate).toFixed(2),"% tasa de conversin"]})]})]})})]}):d.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:d.jsx("p",{className:"text-gray-500",children:"No hay datos de tracking disponibles para el perodo seleccionado"})})]}),i&&d.jsxs("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Uso de Eventos"}),d.jsx(hp,{className:"h-5 w-5 text-gray-400"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-900 mb-1",children:[d.jsxs("span",{children:[i.eventsCount.toLocaleString()," de ",i.maxMonthlyEvents.toLocaleString()," eventos"]}),d.jsxs("span",{children:[Math.round(w),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:d.jsx("div",{className:`h-2.5 rounded-full ${A?"bg-red-600":_?"bg-yellow-400":"bg-green-600"}`,style:{width:`${Math.min(w,100)}%`}})})]}),(_||A)&&d.jsx("div",{className:`p-4 rounded-md ${A?"bg-red-50":"bg-yellow-50"}`,children:d.jsxs("div",{className:"flex",children:[d.jsx(rr,{className:`h-5 w-5 ${A?"text-red-400":"text-yellow-400"}`}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:`text-sm font-medium ${A?"text-red-800":"text-yellow-800"}`,children:A?"Has alcanzado el lmite de eventos mensuales":"Ests cerca de alcanzar el lmite de eventos mensuales"}),d.jsx("div",{className:`mt-2 text-sm ${A?"text-red-700":"text-yellow-700"}`,children:d.jsx("p",{children:A?"Contacta con soporte para aumentar tu lmite de eventos.":"Considera contactar con soporte para aumentar tu lmite antes de alcanzarlo."})})]})]})})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Uso de Productos"}),d.jsx(Ib,{className:"h-5 w-5 text-gray-400"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-900 mb-1",children:[d.jsxs("span",{children:[i.productsCount," de ",i.maxProducts," productos"]}),d.jsxs("span",{children:[Math.round(S),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:d.jsx("div",{className:`h-2.5 rounded-full ${O?"bg-red-600":S>=80?"bg-yellow-400":"bg-green-600"}`,style:{width:`${Math.min(S,100)}%`}})})]}),O&&d.jsx("div",{className:"p-4 rounded-md bg-red-50",children:d.jsxs("div",{className:"flex",children:[d.jsx(rr,{className:"h-5 w-5 text-red-400"}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Has alcanzado el lmite de productos"}),d.jsx("div",{className:"mt-2 text-sm text-red-700",children:d.jsx("p",{children:"Contacta con soporte para aumentar tu lmite de productos."})})]})]})})]})]})]}),d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Productos"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs(bn,{to:"/products/new",className:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${O?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,onClick:C=>{O&&C.preventDefault()},children:[d.jsx(qO,{className:"h-5 w-5 mr-2"}),"Nuevo Producto"]}),d.jsxs("button",{onClick:()=>t(),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[d.jsx(Db,{className:"h-5 w-5 mr-2"}),"Cerrar Sesin"]})]})]}),d.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:d.jsxs("ul",{className:"divide-y divide-gray-200",children:[r.map(C=>d.jsx("li",{children:d.jsxs("div",{className:"px-4 py-4 sm:px-6 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("p",{className:"text-sm font-medium text-indigo-600 truncate",children:C.name}),d.jsx("span",{className:`ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${C.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.active?"Activo":"Inactivo"}),d.jsxs("p",{className:"ml-4 text-sm text-gray-500",children:["Creado el ",new Date(C.created_at).toLocaleDateString()]})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsxs(bn,{to:`/products/${C.id}`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[d.jsx(pp,{className:"h-4 w-4 mr-2"}),"Configurar"]}),d.jsxs(bn,{to:`/products/${C.id}?tab=analytics`,className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:[d.jsx(Eh,{className:"h-4 w-4 mr-2"}),"Analytics"]})]})]})},C.id)),r.length===0&&d.jsx("li",{className:"px-4 py-8 text-center text-gray-500",children:"No hay productos an. Crea tu primer producto para comenzar el seguimiento!"})]})})]})}function ZO(){const e=Ps(),[t,r]=W.useState(""),[n,i]=W.useState(!0),[a,s]=W.useState(""),[o,l]=W.useState(0),[c,u]=W.useState(1),[f,h]=W.useState(null);W.useEffect(()=>{p()},[]);async function p(){try{qe.info("CreateProduct","Loading user and limits");const y=localStorage.getItem("user");if(!y)throw new Error("No se encontr informacin del usuario");const b=JSON.parse(y);if(!b.id)throw new Error("Informacin de usuario invlida");const{data:x,error:E}=await Re.from("users").select("id, max_products, active").eq("id",b.id).single();if(E||!x)throw new Error("Usuario no encontrado");if(!x.active)throw new Error("Usuario inactivo");h(x.id),u(x.max_products),qe.info("CreateProduct","User data loaded",{userId:x.id,maxProducts:x.max_products});const{count:w,error:S}=await Re.from("products").select("*",{count:"exact",head:!0}).eq("user_id",x.id);if(S)throw qe.error("CreateProduct","Error fetching product count",S),S;const _=w||0;l(_),qe.info("CreateProduct","Product count loaded",{count:_,maxAllowed:x.max_products})}catch(y){const b=y instanceof Error?y.message:"Error cargando datos del usuario";qe.error("CreateProduct","Error in loadUserAndLimits",y),s(b)}finally{i(!1)}}async function v(y){if(y.preventDefault(),!f){qe.error("CreateProduct","No user ID available for product creation"),s("Error: Usuario no disponible");return}qe.info("CreateProduct","Starting product creation",{productName:t,userId:f}),i(!0),s("");try{const{count:b,error:x}=await Re.from("products").select("*",{count:"exact",head:!0}).eq("user_id",f);if(x)throw x;if((b||0)>=c)throw qe.warn("CreateProduct","Product limit reached",{current:b,max:c}),new Error("Has alcanzado el lmite de productos permitidos");const E=crypto.randomUUID(),{data:w,error:S}=await Re.from("products").insert([{name:t,tracking_id:E,user_id:f,active:!0}]).select().single();if(S||!w)throw qe.error("CreateProduct","Error creating product",S),new Error("Error al crear el producto");qe.info("CreateProduct","Product created successfully",{productId:w.id,name:w.name}),e(`/products/${w.id}`)}catch(b){const x=b instanceof Error?b.message:"Error al crear el producto";qe.error("CreateProduct","Product creation failed",{error:b,message:x}),s(x)}finally{i(!1)}}const m=c-o,g=o/c*100;return n?d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsx("div",{className:"max-w-md mx-auto",children:d.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx(rr,{className:"h-5 w-5 text-yellow-400"}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-yellow-700",children:"Cargando datos del usuario..."})})]})})})}):a?d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsx("div",{className:"max-w-md mx-auto",children:d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx(rr,{className:"h-5 w-5 text-red-400"}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-red-700",children:a})})]})})})}):d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsxs("div",{className:"max-w-md mx-auto",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Crear Nuevo Producto"}),d.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow-sm p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Lmite de Productos"}),d.jsx(Ib,{className:"h-5 w-5 text-gray-400"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-900 mb-1",children:[d.jsxs("span",{children:["Productos Creados: ",o," de ",c]}),d.jsxs("span",{children:[Math.round(g),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:d.jsx("div",{className:`h-2.5 rounded-full transition-all duration-300 ${m<=0?"bg-red-600":m===1?"bg-yellow-400":"bg-green-600"}`,style:{width:`${Math.min(g,100)}%`}})})]}),m<=1&&m>0&&d.jsx("div",{className:"p-4 rounded-md bg-yellow-50",children:d.jsxs("div",{className:"flex",children:[d.jsx(rr,{className:"h-5 w-5 text-yellow-400"}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-yellow-700",children:"Solo te queda 1 producto disponible. Considera contactar con soporte para aumentar tu lmite."})})]})}),m<=0&&d.jsx("div",{className:"p-4 rounded-md bg-red-50",children:d.jsxs("div",{className:"flex",children:[d.jsx(rr,{className:"h-5 w-5 text-red-400"}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-red-700",children:"Has alcanzado el lmite de productos permitidos. Contacta con soporte para aumentar tu lmite."})})]})})]})]}),d.jsxs("form",{onSubmit:v,className:"bg-white shadow-sm rounded-lg p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre del Producto"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{type:"text",id:"name",required:!0,value:t,onChange:y=>r(y.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Ej: Curso de Marketing Digital"})})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:n||m<=0,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${m<=0?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:n?"Creando...":"Crear Producto"})})]})]})})}function $b(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=$b(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ke(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=$b(e))&&(n&&(n+=" "),n+=t);return n}var QO=Array.isArray,_r=QO,eP=typeof ir=="object"&&ir&&ir.Object===Object&&ir,Mb=eP,tP=Mb,rP=typeof self=="object"&&self&&self.Object===Object&&self,nP=tP||rP||Function("return this")(),Tn=nP,iP=Tn,aP=iP.Symbol,Fl=aP,hv=Fl,Fb=Object.prototype,sP=Fb.hasOwnProperty,oP=Fb.toString,lo=hv?hv.toStringTag:void 0;function lP(e){var t=sP.call(e,lo),r=e[lo];try{e[lo]=void 0;var n=!0}catch{}var i=oP.call(e);return n&&(t?e[lo]=r:delete e[lo]),i}var cP=lP,uP=Object.prototype,fP=uP.toString;function dP(e){return fP.call(e)}var hP=dP,pv=Fl,pP=cP,mP=hP,vP="[object Null]",gP="[object Undefined]",mv=pv?pv.toStringTag:void 0;function xP(e){return e==null?e===void 0?gP:vP:mv&&mv in Object(e)?pP(e):mP(e)}var Yn=xP;function yP(e){return e!=null&&typeof e=="object"}var Jn=yP,bP=Yn,wP=Jn,_P="[object Symbol]";function SP(e){return typeof e=="symbol"||wP(e)&&bP(e)==_P}var Cs=SP,EP=_r,AP=Cs,TP=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,OP=/^\w*$/;function PP(e,t){if(EP(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||AP(e)?!0:OP.test(e)||!TP.test(e)||t!=null&&e in Object(t)}var mp=PP;function jP(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var wi=jP;const ks=mt(wi);var NP=Yn,CP=wi,kP="[object AsyncFunction]",DP="[object Function]",IP="[object GeneratorFunction]",$P="[object Proxy]";function MP(e){if(!CP(e))return!1;var t=NP(e);return t==DP||t==IP||t==kP||t==$P}var vp=MP;const Fe=mt(vp);var FP=Tn,RP=FP["__core-js_shared__"],LP=RP,Ed=LP,vv=function(){var e=/[^.]+$/.exec(Ed&&Ed.keys&&Ed.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function BP(e){return!!vv&&vv in e}var UP=BP,WP=Function.prototype,zP=WP.toString;function HP(e){if(e!=null){try{return zP.call(e)}catch{}try{return e+""}catch{}}return""}var Rb=HP,qP=vp,GP=UP,VP=wi,KP=Rb,XP=/[\\^$.*+?()[\]{}|]/g,YP=/^\[object .+?Constructor\]$/,JP=Function.prototype,ZP=Object.prototype,QP=JP.toString,ej=ZP.hasOwnProperty,tj=RegExp("^"+QP.call(ej).replace(XP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rj(e){if(!VP(e)||GP(e))return!1;var t=qP(e)?tj:YP;return t.test(KP(e))}var nj=rj;function ij(e,t){return e==null?void 0:e[t]}var aj=ij,sj=nj,oj=aj;function lj(e,t){var r=oj(e,t);return sj(r)?r:void 0}var fa=lj,cj=fa,uj=cj(Object,"create"),sf=uj,gv=sf;function fj(){this.__data__=gv?gv(null):{},this.size=0}var dj=fj;function hj(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var pj=hj,mj=sf,vj="__lodash_hash_undefined__",gj=Object.prototype,xj=gj.hasOwnProperty;function yj(e){var t=this.__data__;if(mj){var r=t[e];return r===vj?void 0:r}return xj.call(t,e)?t[e]:void 0}var bj=yj,wj=sf,_j=Object.prototype,Sj=_j.hasOwnProperty;function Ej(e){var t=this.__data__;return wj?t[e]!==void 0:Sj.call(t,e)}var Aj=Ej,Tj=sf,Oj="__lodash_hash_undefined__";function Pj(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Tj&&t===void 0?Oj:t,this}var jj=Pj,Nj=dj,Cj=pj,kj=bj,Dj=Aj,Ij=jj;function Ds(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ds.prototype.clear=Nj;Ds.prototype.delete=Cj;Ds.prototype.get=kj;Ds.prototype.has=Dj;Ds.prototype.set=Ij;var $j=Ds;function Mj(){this.__data__=[],this.size=0}var Fj=Mj;function Rj(e,t){return e===t||e!==e&&t!==t}var gp=Rj,Lj=gp;function Bj(e,t){for(var r=e.length;r--;)if(Lj(e[r][0],t))return r;return-1}var of=Bj,Uj=of,Wj=Array.prototype,zj=Wj.splice;function Hj(e){var t=this.__data__,r=Uj(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():zj.call(t,r,1),--this.size,!0}var qj=Hj,Gj=of;function Vj(e){var t=this.__data__,r=Gj(t,e);return r<0?void 0:t[r][1]}var Kj=Vj,Xj=of;function Yj(e){return Xj(this.__data__,e)>-1}var Jj=Yj,Zj=of;function Qj(e,t){var r=this.__data__,n=Zj(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var eN=Qj,tN=Fj,rN=qj,nN=Kj,iN=Jj,aN=eN;function Is(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Is.prototype.clear=tN;Is.prototype.delete=rN;Is.prototype.get=nN;Is.prototype.has=iN;Is.prototype.set=aN;var lf=Is,sN=fa,oN=Tn,lN=sN(oN,"Map"),xp=lN,xv=$j,cN=lf,uN=xp;function fN(){this.size=0,this.__data__={hash:new xv,map:new(uN||cN),string:new xv}}var dN=fN;function hN(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var pN=hN,mN=pN;function vN(e,t){var r=e.__data__;return mN(t)?r[typeof t=="string"?"string":"hash"]:r.map}var cf=vN,gN=cf;function xN(e){var t=gN(this,e).delete(e);return this.size-=t?1:0,t}var yN=xN,bN=cf;function wN(e){return bN(this,e).get(e)}var _N=wN,SN=cf;function EN(e){return SN(this,e).has(e)}var AN=EN,TN=cf;function ON(e,t){var r=TN(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var PN=ON,jN=dN,NN=yN,CN=_N,kN=AN,DN=PN;function $s(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$s.prototype.clear=jN;$s.prototype.delete=NN;$s.prototype.get=CN;$s.prototype.has=kN;$s.prototype.set=DN;var yp=$s,Lb=yp,IN="Expected a function";function bp(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(IN);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(bp.Cache||Lb),r}bp.Cache=Lb;var Bb=bp;const $N=mt(Bb);var MN=Bb,FN=500;function RN(e){var t=MN(e,function(n){return r.size===FN&&r.clear(),n}),r=t.cache;return t}var LN=RN,BN=LN,UN=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WN=/\\(\\)?/g,zN=BN(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(UN,function(r,n,i,a){t.push(i?a.replace(WN,"$1"):n||r)}),t}),HN=zN;function qN(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var wp=qN,yv=Fl,GN=wp,VN=_r,KN=Cs,XN=1/0,bv=yv?yv.prototype:void 0,wv=bv?bv.toString:void 0;function Ub(e){if(typeof e=="string")return e;if(VN(e))return GN(e,Ub)+"";if(KN(e))return wv?wv.call(e):"";var t=e+"";return t=="0"&&1/e==-XN?"-0":t}var YN=Ub,JN=YN;function ZN(e){return e==null?"":JN(e)}var Wb=ZN,QN=_r,eC=mp,tC=HN,rC=Wb;function nC(e,t){return QN(e)?e:eC(e,t)?[e]:tC(rC(e))}var zb=nC,iC=Cs,aC=1/0;function sC(e){if(typeof e=="string"||iC(e))return e;var t=e+"";return t=="0"&&1/e==-aC?"-0":t}var uf=sC,oC=zb,lC=uf;function cC(e,t){t=oC(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[lC(t[r++])];return r&&r==n?e:void 0}var _p=cC,uC=_p;function fC(e,t,r){var n=e==null?void 0:uC(e,t);return n===void 0?r:n}var Hb=fC;const Vr=mt(Hb);function dC(e){return e==null}var hC=dC;const $e=mt(hC);var pC=Yn,mC=_r,vC=Jn,gC="[object String]";function xC(e){return typeof e=="string"||!mC(e)&&vC(e)&&pC(e)==gC}var yC=xC;const Rl=mt(yC);var qb={exports:{}},st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp=Symbol.for("react.element"),Ep=Symbol.for("react.portal"),ff=Symbol.for("react.fragment"),df=Symbol.for("react.strict_mode"),hf=Symbol.for("react.profiler"),pf=Symbol.for("react.provider"),mf=Symbol.for("react.context"),bC=Symbol.for("react.server_context"),vf=Symbol.for("react.forward_ref"),gf=Symbol.for("react.suspense"),xf=Symbol.for("react.suspense_list"),yf=Symbol.for("react.memo"),bf=Symbol.for("react.lazy"),wC=Symbol.for("react.offscreen"),Gb;Gb=Symbol.for("react.module.reference");function Xr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Sp:switch(e=e.type,e){case ff:case hf:case df:case gf:case xf:return e;default:switch(e=e&&e.$$typeof,e){case bC:case mf:case vf:case bf:case yf:case pf:return e;default:return t}}case Ep:return t}}}st.ContextConsumer=mf;st.ContextProvider=pf;st.Element=Sp;st.ForwardRef=vf;st.Fragment=ff;st.Lazy=bf;st.Memo=yf;st.Portal=Ep;st.Profiler=hf;st.StrictMode=df;st.Suspense=gf;st.SuspenseList=xf;st.isAsyncMode=function(){return!1};st.isConcurrentMode=function(){return!1};st.isContextConsumer=function(e){return Xr(e)===mf};st.isContextProvider=function(e){return Xr(e)===pf};st.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sp};st.isForwardRef=function(e){return Xr(e)===vf};st.isFragment=function(e){return Xr(e)===ff};st.isLazy=function(e){return Xr(e)===bf};st.isMemo=function(e){return Xr(e)===yf};st.isPortal=function(e){return Xr(e)===Ep};st.isProfiler=function(e){return Xr(e)===hf};st.isStrictMode=function(e){return Xr(e)===df};st.isSuspense=function(e){return Xr(e)===gf};st.isSuspenseList=function(e){return Xr(e)===xf};st.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ff||e===hf||e===df||e===gf||e===xf||e===wC||typeof e=="object"&&e!==null&&(e.$$typeof===bf||e.$$typeof===yf||e.$$typeof===pf||e.$$typeof===mf||e.$$typeof===vf||e.$$typeof===Gb||e.getModuleId!==void 0)};st.typeOf=Xr;qb.exports=st;var _C=qb.exports,SC=Yn,EC=Jn,AC="[object Number]";function TC(e){return typeof e=="number"||EC(e)&&SC(e)==AC}var Vb=TC;const OC=mt(Vb);var PC=Vb;function jC(e){return PC(e)&&e!=+e}var NC=jC;const Ms=mt(NC);var ln=function(t){return t===0?0:t>0?1:-1},qi=function(t){return Rl(t)&&t.indexOf("%")===t.length-1},ge=function(t){return OC(t)&&!Ms(t)},Dt=function(t){return ge(t)||Rl(t)},CC=0,da=function(t){var r=++CC;return"".concat(t||"").concat(r)},ta=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(t)&&!Rl(t))return n;var a;if(qi(t)){var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return Ms(a)&&(a=n),i&&a>r&&(a=r),a},fi=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},kC=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},At=function(t,r){return ge(t)&&ge(r)?function(n){return t+n*(r-t)}:function(){return r}};function $c(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Vr(n,t))===r})}var DC=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,i=0,a=0,s=0,o=1/0,l=-1/0,c=0,u=0,f=0;f<r;f++)c=t[f].cx||0,u=t[f].cy||0,n+=c,i+=u,a+=c*u,s+=c*c,o=Math.min(o,c),l=Math.max(l,c);var h=r*s!==n*n?(r*a-n*i)/(r*s-n*n):0;return{xmin:o,xmax:l,a:h,b:(i-h*n)/r}};function Ga(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}var IC=["viewBox","children"],$C=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_v=["points","pathLength"],Ad={svg:IC,polygon:_v,polyline:_v},Ap=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Mc=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(W.isValidElement(t)&&(n=t.props),!ks(n))return null;var i={};return Object.keys(n).forEach(function(a){Ap.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},MC=function(t,r,n){return function(i){return t(r,n,i),null}},qo=function(t,r,n){if(!ks(t)||Ah(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];Ap.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=MC(s,r,n))}),i},FC=["children"],RC=["children"];function Sv(e,t){if(e==null)return{};var r=LC(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LC(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}var Ev={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Rn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Av=null,Td=null,Tp=function e(t){if(t===Av&&Array.isArray(Td))return Td;var r=[];return W.Children.forEach(t,function(n){$e(n)||(_C.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Td=r,Av=t,r};function xr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Rn(i)}):n=[Rn(t)],Tp(e).forEach(function(i){var a=Vr(i,"type.displayName")||Vr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Nr(e,t){var r=xr(e,t);return r&&r[0]}var Tv=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!ge(n)||n<=0||!ge(i)||i<=0)},BC=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],UC=function(t){return t&&t.type&&Rl(t.type)&&BC.indexOf(t.type)>=0},Kb=function(t){return t&&Th(t)==="object"&&"clipDot"in t},WC=function(t,r,n,i){var a,s=(a=Ad==null?void 0:Ad[i])!==null&&a!==void 0?a:[];return!Fe(t)&&(i&&s.includes(r)||$C.includes(r))||n&&Ap.includes(r)},Ie=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(W.isValidElement(t)&&(i=t.props),!ks(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;WC((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},Oh=function e(t,r){if(t===r)return!0;var n=W.Children.count(t);if(n!==W.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Ov(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!Ov(a,s))return!1}return!0},Ov=function(t,r){if($e(t)&&$e(r))return!0;if(!$e(t)&&!$e(r)){var n=t.props||{},i=n.children,a=Sv(n,FC),s=r.props||{},o=s.children,l=Sv(s,RC);return i&&o?Ga(a,l)&&Oh(i,o):!i&&!o?Ga(a,l):!1}return!1},Pv=function(t,r){var n=[],i={};return Tp(t).forEach(function(a,s){if(UC(a))n.push(a);else if(a){var o=Rn(a.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(a,o,s);n.push(f),i[o]=!0}}}),n},zC=function(t){var r=t&&t.type;return r&&Ev[r]?Ev[r]:null},HC=function(t,r){return Tp(r).indexOf(t)},qC=["children","width","height","viewBox","className","style","title","desc"];function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(this,arguments)}function GC(e,t){if(e==null)return{};var r=VC(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VC(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jh(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,s=e.style,o=e.title,l=e.desc,c=GC(e,qC),u=i||{width:r,height:n,x:0,y:0},f=Ke("recharts-surface",a);return L.createElement("svg",Ph({},Ie(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),L.createElement("title",null,o),L.createElement("desc",null,l),t)}var KC=["children","className"];function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(this,arguments)}function XC(e,t){if(e==null)return{};var r=YC(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YC(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var et=L.forwardRef(function(e,t){var r=e.children,n=e.className,i=XC(e,KC),a=Ke("recharts-layer",n);return L.createElement("g",Nh({className:a},Ie(i,!0),{ref:t}),r)}),Ln=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function JC(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var ZC=JC,QC=ZC;function e4(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:QC(e,t,r)}var t4=e4,r4="\\ud800-\\udfff",n4="\\u0300-\\u036f",i4="\\ufe20-\\ufe2f",a4="\\u20d0-\\u20ff",s4=n4+i4+a4,o4="\\ufe0e\\ufe0f",l4="\\u200d",c4=RegExp("["+l4+r4+s4+o4+"]");function u4(e){return c4.test(e)}var Xb=u4;function f4(e){return e.split("")}var d4=f4,Yb="\\ud800-\\udfff",h4="\\u0300-\\u036f",p4="\\ufe20-\\ufe2f",m4="\\u20d0-\\u20ff",v4=h4+p4+m4,g4="\\ufe0e\\ufe0f",x4="["+Yb+"]",Ch="["+v4+"]",kh="\\ud83c[\\udffb-\\udfff]",y4="(?:"+Ch+"|"+kh+")",Jb="[^"+Yb+"]",Zb="(?:\\ud83c[\\udde6-\\uddff]){2}",Qb="[\\ud800-\\udbff][\\udc00-\\udfff]",b4="\\u200d",ew=y4+"?",tw="["+g4+"]?",w4="(?:"+b4+"(?:"+[Jb,Zb,Qb].join("|")+")"+tw+ew+")*",_4=tw+ew+w4,S4="(?:"+[Jb+Ch+"?",Ch,Zb,Qb,x4].join("|")+")",E4=RegExp(kh+"(?="+kh+")|"+S4+_4,"g");function A4(e){return e.match(E4)||[]}var T4=A4,O4=d4,P4=Xb,j4=T4;function N4(e){return P4(e)?j4(e):O4(e)}var C4=N4,k4=t4,D4=Xb,I4=C4,$4=Wb;function M4(e){return function(t){t=$4(t);var r=D4(t)?I4(t):void 0,n=r?r[0]:t.charAt(0),i=r?k4(r,1).join(""):t.slice(1);return n[e]()+i}}var F4=M4,R4=F4,L4=R4("toUpperCase"),B4=L4;const wf=mt(B4);function pt(e){return function(){return e}}const rw=Math.cos,Fc=Math.sin,hn=Math.sqrt,Rc=Math.PI,_f=2*Rc,Dh=Math.PI,Ih=2*Dh,Mi=1e-6,U4=Ih-Mi;function nw(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function W4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return nw;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class z4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?nw:W4(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,c=i-r,u=s-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Mi)if(!(Math.abs(f*l-c*u)>Mi)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,v=i-o,m=l*l+c*c,g=p*p+v*v,y=Math.sqrt(m),b=Math.sqrt(h),x=a*Math.tan((Dh-Math.acos((m+h-g)/(2*y*b)))/2),E=x/b,w=x/y;Math.abs(E-1)>Mi&&this._append`L${t+E*u},${r+E*f}`,this._append`A${a},${a},0,0,${+(f*p>u*v)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=t+o,u=r+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Mi||Math.abs(this._y1-u)>Mi)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%Ih+Ih),h>U4?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>Mi&&this._append`A${n},${n},0,${+(h>=Dh)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Op(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new z4(t)}function Pp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function iw(e){this._context=e}iw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Sf(e){return new iw(e)}function aw(e){return e[0]}function sw(e){return e[1]}function ow(e,t){var r=pt(!0),n=null,i=Sf,a=null,s=Op(o);e=typeof e=="function"?e:e===void 0?aw:pt(e),t=typeof t=="function"?t:t===void 0?sw:pt(t);function o(l){var c,u=(l=Pp(l)).length,f,h=!1,p;for(n==null&&(a=i(p=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:pt(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:pt(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:pt(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function cc(e,t,r){var n=null,i=pt(!0),a=null,s=Sf,o=null,l=Op(c);e=typeof e=="function"?e:e===void 0?aw:pt(+e),t=typeof t=="function"?t:pt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?sw:pt(+r);function c(f){var h,p,v,m=(f=Pp(f)).length,g,y=!1,b,x=new Array(m),E=new Array(m);for(a==null&&(o=s(b=l())),h=0;h<=m;++h){if(!(h<m&&i(g=f[h],h,f))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=h-1;v>=p;--v)o.point(x[v],E[v]);o.lineEnd(),o.areaEnd()}y&&(x[h]=+e(g,h,f),E[h]=+t(g,h,f),o.point(n?+n(g,h,f):x[h],r?+r(g,h,f):E[h]))}if(b)return o=null,b+""||null}function u(){return ow().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:pt(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:pt(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:pt(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:pt(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:pt(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:pt(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:pt(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class lw{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function H4(e){return new lw(e,!0)}function q4(e){return new lw(e,!1)}const jp={draw(e,t){const r=hn(t/Rc);e.moveTo(r,0),e.arc(0,0,r,0,_f)}},G4={draw(e,t){const r=hn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},cw=hn(1/3),V4=cw*2,K4={draw(e,t){const r=hn(t/V4),n=r*cw;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},X4={draw(e,t){const r=hn(t),n=-r/2;e.rect(n,n,r,r)}},Y4=.8908130915292852,uw=Fc(Rc/10)/Fc(7*Rc/10),J4=Fc(_f/10)*uw,Z4=-rw(_f/10)*uw,Q4={draw(e,t){const r=hn(t*Y4),n=J4*r,i=Z4*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=_f*a/5,o=rw(s),l=Fc(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},Od=hn(3),ek={draw(e,t){const r=-hn(t/(Od*3));e.moveTo(0,r*2),e.lineTo(-Od*r,-r),e.lineTo(Od*r,-r),e.closePath()}},Br=-.5,Ur=hn(3)/2,$h=1/hn(12),tk=($h/2+1)*3,rk={draw(e,t){const r=hn(t/tk),n=r/2,i=r*$h,a=n,s=r*$h+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Br*n-Ur*i,Ur*n+Br*i),e.lineTo(Br*a-Ur*s,Ur*a+Br*s),e.lineTo(Br*o-Ur*l,Ur*o+Br*l),e.lineTo(Br*n+Ur*i,Br*i-Ur*n),e.lineTo(Br*a+Ur*s,Br*s-Ur*a),e.lineTo(Br*o+Ur*l,Br*l-Ur*o),e.closePath()}};function nk(e,t){let r=null,n=Op(i);e=typeof e=="function"?e:pt(e||jp),t=typeof t=="function"?t:pt(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:pt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:pt(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Lc(){}function Bc(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function fw(e){this._context=e}fw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ik(e){return new fw(e)}function dw(e){this._context=e}dw.prototype={areaStart:Lc,areaEnd:Lc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ak(e){return new dw(e)}function hw(e){this._context=e}hw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Bc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sk(e){return new hw(e)}function pw(e){this._context=e}pw.prototype={areaStart:Lc,areaEnd:Lc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ok(e){return new pw(e)}function jv(e){return e<0?-1:1}function Nv(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(jv(a)+jv(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Cv(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Pd(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Uc(e){this._context=e}Uc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pd(this,this._t0,Cv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Pd(this,Cv(this,r=Nv(this,e,t)),r);break;default:Pd(this,this._t0,r=Nv(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function mw(e){this._context=new vw(e)}(mw.prototype=Object.create(Uc.prototype)).point=function(e,t){Uc.prototype.point.call(this,t,e)};function vw(e){this._context=e}vw.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function lk(e){return new Uc(e)}function ck(e){return new mw(e)}function gw(e){this._context=e}gw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=kv(e),i=kv(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function kv(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function uk(e){return new gw(e)}function Ef(e,t){this._context=e,this._t=t}Ef.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function fk(e){return new Ef(e,.5)}function dk(e){return new Ef(e,0)}function hk(e){return new Ef(e,1)}function ts(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Mh(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function pk(e,t){return e[t]}function mk(e){const t=[];return t.key=e,t}function vk(){var e=pt([]),t=Mh,r=ts,n=pk;function i(a){var s=Array.from(e.apply(this,arguments),mk),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,u=Pp(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:pt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:pt(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Mh:typeof a=="function"?a:pt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??ts,i):r},i}function gk(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}ts(e,t)}}function xk(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}ts(e,t)}}function yk(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,v=0;v<o;++v){var m=e[t[v]],g=m[n][1]||0,y=m[n-1][1]||0;p+=g-y}l+=f,c+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,ts(e,t)}}function Go(e){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(e)}var bk=["type","size","sizeType"];function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fh.apply(this,arguments)}function Dv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Iv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dv(Object(r),!0).forEach(function(n){wk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wk(e,t,r){return t=_k(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _k(e){var t=Sk(e,"string");return Go(t)=="symbol"?t:t+""}function Sk(e,t){if(Go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ek(e,t){if(e==null)return{};var r=Ak(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ak(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xw={symbolCircle:jp,symbolCross:G4,symbolDiamond:K4,symbolSquare:X4,symbolStar:Q4,symbolTriangle:ek,symbolWye:rk},Tk=Math.PI/180,Ok=function(t){var r="symbol".concat(wf(t));return xw[r]||jp},Pk=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Tk;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},jk=function(t,r){xw["symbol".concat(wf(t))]=r},Af=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,s=t.sizeType,o=s===void 0?"area":s,l=Ek(t,bk),c=Iv(Iv({},l),{},{type:n,size:a,sizeType:o}),u=function(){var g=Ok(n),y=nk().type(g).size(Pk(a,o,n));return y()},f=c.className,h=c.cx,p=c.cy,v=Ie(c,!0);return h===+h&&p===+p&&a===+a?L.createElement("path",Fh({},v,{className:Ke("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};Af.registerSymbol=jk;function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rh.apply(this,arguments)}function $v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$v(Object(r),!0).forEach(function(n){Vo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$v(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bw(n.key),n)}}function Dk(e,t,r){return t&&kk(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ik(e,t,r){return t=Wc(t),$k(e,yw()?Reflect.construct(t,r||[],Wc(e).constructor):t.apply(e,r))}function $k(e,t){if(t&&(rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mk(e)}function Mk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yw=function(){return!!e})()}function Wc(e){return Wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wc(e)}function Fk(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lh(e,t)}function Lh(e,t){return Lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lh(e,t)}function Vo(e,t,r){return t=bw(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bw(e){var t=Rk(e,"string");return rs(t)=="symbol"?t:t+""}function Rk(e,t){if(rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wr=32,Np=function(e){function t(){return Ck(this,t),Ik(this,t,arguments)}return Fk(t,e),Dk(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Wr/2,s=Wr/6,o=Wr/3,l=n.inactive?i:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Wr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Wr,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Wr/8,"h").concat(Wr,"v").concat(Wr*3/4,"h").concat(-Wr,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var c=Nk({},n);return delete c.legendIcon,L.cloneElement(n.legendIcon,c)}return L.createElement(Af,{fill:l,cx:a,cy:a,size:Wr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Wr,height:Wr},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,v){var m=p.formatter||l,g=Ke(Vo(Vo({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Fe(p.value)?null:p.value;Ln(!Fe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return L.createElement("li",Rh({className:g,style:f,key:"legend-item-".concat(v)},qo(n.props,p,v)),L.createElement(jh,{width:s,height:s,viewBox:u,style:h},n.renderIcon(p)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,p,v):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(W.PureComponent);Vo(Np,"displayName","Legend");Vo(Np,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Lk=lf;function Bk(){this.__data__=new Lk,this.size=0}var Uk=Bk;function Wk(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var zk=Wk;function Hk(e){return this.__data__.get(e)}var qk=Hk;function Gk(e){return this.__data__.has(e)}var Vk=Gk,Kk=lf,Xk=xp,Yk=yp,Jk=200;function Zk(e,t){var r=this.__data__;if(r instanceof Kk){var n=r.__data__;if(!Xk||n.length<Jk-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Yk(n)}return r.set(e,t),this.size=r.size,this}var Qk=Zk,e3=lf,t3=Uk,r3=zk,n3=qk,i3=Vk,a3=Qk;function Fs(e){var t=this.__data__=new e3(e);this.size=t.size}Fs.prototype.clear=t3;Fs.prototype.delete=r3;Fs.prototype.get=n3;Fs.prototype.has=i3;Fs.prototype.set=a3;var ww=Fs,s3="__lodash_hash_undefined__";function o3(e){return this.__data__.set(e,s3),this}var l3=o3;function c3(e){return this.__data__.has(e)}var u3=c3,f3=yp,d3=l3,h3=u3;function zc(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new f3;++t<r;)this.add(e[t])}zc.prototype.add=zc.prototype.push=d3;zc.prototype.has=h3;var _w=zc;function p3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Sw=p3;function m3(e,t){return e.has(t)}var Ew=m3,v3=_w,g3=Sw,x3=Ew,y3=1,b3=2;function w3(e,t,r,n,i,a){var s=r&y3,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(e),u=a.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,p=r&b3?new v3:void 0;for(a.set(e,t),a.set(t,e);++f<o;){var v=e[f],m=t[f];if(n)var g=s?n(m,v,f,t,e,a):n(v,m,f,e,t,a);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!g3(t,function(y,b){if(!x3(p,b)&&(v===y||i(v,y,r,n,a)))return p.push(b)})){h=!1;break}}else if(!(v===m||i(v,m,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var Aw=w3,_3=Tn,S3=_3.Uint8Array,E3=S3;function A3(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var T3=A3;function O3(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Cp=O3,Mv=Fl,Fv=E3,P3=gp,j3=Aw,N3=T3,C3=Cp,k3=1,D3=2,I3="[object Boolean]",$3="[object Date]",M3="[object Error]",F3="[object Map]",R3="[object Number]",L3="[object RegExp]",B3="[object Set]",U3="[object String]",W3="[object Symbol]",z3="[object ArrayBuffer]",H3="[object DataView]",Rv=Mv?Mv.prototype:void 0,jd=Rv?Rv.valueOf:void 0;function q3(e,t,r,n,i,a,s){switch(r){case H3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case z3:return!(e.byteLength!=t.byteLength||!a(new Fv(e),new Fv(t)));case I3:case $3:case R3:return P3(+e,+t);case M3:return e.name==t.name&&e.message==t.message;case L3:case U3:return e==t+"";case F3:var o=N3;case B3:var l=n&k3;if(o||(o=C3),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=D3,s.set(e,t);var u=j3(o(e),o(t),n,i,a,s);return s.delete(e),u;case W3:if(jd)return jd.call(e)==jd.call(t)}return!1}var G3=q3;function V3(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Tw=V3,K3=Tw,X3=_r;function Y3(e,t,r){var n=t(e);return X3(e)?n:K3(n,r(e))}var J3=Y3;function Z3(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var Q3=Z3;function eD(){return[]}var tD=eD,rD=Q3,nD=tD,iD=Object.prototype,aD=iD.propertyIsEnumerable,Lv=Object.getOwnPropertySymbols,sD=Lv?function(e){return e==null?[]:(e=Object(e),rD(Lv(e),function(t){return aD.call(e,t)}))}:nD,oD=sD;function lD(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var cD=lD,uD=Yn,fD=Jn,dD="[object Arguments]";function hD(e){return fD(e)&&uD(e)==dD}var pD=hD,Bv=pD,mD=Jn,Ow=Object.prototype,vD=Ow.hasOwnProperty,gD=Ow.propertyIsEnumerable,xD=Bv(function(){return arguments}())?Bv:function(e){return mD(e)&&vD.call(e,"callee")&&!gD.call(e,"callee")},kp=xD,Hc={exports:{}};function yD(){return!1}var bD=yD;Hc.exports;(function(e,t){var r=Tn,n=bD,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Hc,Hc.exports);var Pw=Hc.exports,wD=9007199254740991,_D=/^(?:0|[1-9]\d*)$/;function SD(e,t){var r=typeof e;return t=t??wD,!!t&&(r=="number"||r!="symbol"&&_D.test(e))&&e>-1&&e%1==0&&e<t}var Dp=SD,ED=9007199254740991;function AD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ED}var Ip=AD,TD=Yn,OD=Ip,PD=Jn,jD="[object Arguments]",ND="[object Array]",CD="[object Boolean]",kD="[object Date]",DD="[object Error]",ID="[object Function]",$D="[object Map]",MD="[object Number]",FD="[object Object]",RD="[object RegExp]",LD="[object Set]",BD="[object String]",UD="[object WeakMap]",WD="[object ArrayBuffer]",zD="[object DataView]",HD="[object Float32Array]",qD="[object Float64Array]",GD="[object Int8Array]",VD="[object Int16Array]",KD="[object Int32Array]",XD="[object Uint8Array]",YD="[object Uint8ClampedArray]",JD="[object Uint16Array]",ZD="[object Uint32Array]",gt={};gt[HD]=gt[qD]=gt[GD]=gt[VD]=gt[KD]=gt[XD]=gt[YD]=gt[JD]=gt[ZD]=!0;gt[jD]=gt[ND]=gt[WD]=gt[CD]=gt[zD]=gt[kD]=gt[DD]=gt[ID]=gt[$D]=gt[MD]=gt[FD]=gt[RD]=gt[LD]=gt[BD]=gt[UD]=!1;function QD(e){return PD(e)&&OD(e.length)&&!!gt[TD(e)]}var eI=QD;function tI(e){return function(t){return e(t)}}var jw=tI,qc={exports:{}};qc.exports;(function(e,t){var r=Mb,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(qc,qc.exports);var rI=qc.exports,nI=eI,iI=jw,Uv=rI,Wv=Uv&&Uv.isTypedArray,aI=Wv?iI(Wv):nI,Nw=aI,sI=cD,oI=kp,lI=_r,cI=Pw,uI=Dp,fI=Nw,dI=Object.prototype,hI=dI.hasOwnProperty;function pI(e,t){var r=lI(e),n=!r&&oI(e),i=!r&&!n&&cI(e),a=!r&&!n&&!i&&fI(e),s=r||n||i||a,o=s?sI(e.length,String):[],l=o.length;for(var c in e)(t||hI.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||uI(c,l)))&&o.push(c);return o}var mI=pI,vI=Object.prototype;function gI(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||vI;return e===r}var xI=gI;function yI(e,t){return function(r){return e(t(r))}}var Cw=yI,bI=Cw,wI=bI(Object.keys,Object),_I=wI,SI=xI,EI=_I,AI=Object.prototype,TI=AI.hasOwnProperty;function OI(e){if(!SI(e))return EI(e);var t=[];for(var r in Object(e))TI.call(e,r)&&r!="constructor"&&t.push(r);return t}var PI=OI,jI=vp,NI=Ip;function CI(e){return e!=null&&NI(e.length)&&!jI(e)}var Ll=CI,kI=mI,DI=PI,II=Ll;function $I(e){return II(e)?kI(e):DI(e)}var Tf=$I,MI=J3,FI=oD,RI=Tf;function LI(e){return MI(e,RI,FI)}var BI=LI,zv=BI,UI=1,WI=Object.prototype,zI=WI.hasOwnProperty;function HI(e,t,r,n,i,a){var s=r&UI,o=zv(e),l=o.length,c=zv(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:zI.call(t,h)))return!1}var p=a.get(e),v=a.get(t);if(p&&v)return p==t&&v==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=s;++f<l;){h=o[f];var y=e[h],b=t[h];if(n)var x=s?n(b,y,h,t,e,a):n(y,b,h,e,t,a);if(!(x===void 0?y===b||i(y,b,r,n,a):x)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var E=e.constructor,w=t.constructor;E!=w&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof w=="function"&&w instanceof w)&&(m=!1)}return a.delete(e),a.delete(t),m}var qI=HI,GI=fa,VI=Tn,KI=GI(VI,"DataView"),XI=KI,YI=fa,JI=Tn,ZI=YI(JI,"Promise"),QI=ZI,e$=fa,t$=Tn,r$=e$(t$,"Set"),kw=r$,n$=fa,i$=Tn,a$=n$(i$,"WeakMap"),s$=a$,Bh=XI,Uh=xp,Wh=QI,zh=kw,Hh=s$,Dw=Yn,Rs=Rb,Hv="[object Map]",o$="[object Object]",qv="[object Promise]",Gv="[object Set]",Vv="[object WeakMap]",Kv="[object DataView]",l$=Rs(Bh),c$=Rs(Uh),u$=Rs(Wh),f$=Rs(zh),d$=Rs(Hh),Fi=Dw;(Bh&&Fi(new Bh(new ArrayBuffer(1)))!=Kv||Uh&&Fi(new Uh)!=Hv||Wh&&Fi(Wh.resolve())!=qv||zh&&Fi(new zh)!=Gv||Hh&&Fi(new Hh)!=Vv)&&(Fi=function(e){var t=Dw(e),r=t==o$?e.constructor:void 0,n=r?Rs(r):"";if(n)switch(n){case l$:return Kv;case c$:return Hv;case u$:return qv;case f$:return Gv;case d$:return Vv}return t});var h$=Fi,Nd=ww,p$=Aw,m$=G3,v$=qI,Xv=h$,Yv=_r,Jv=Pw,g$=Nw,x$=1,Zv="[object Arguments]",Qv="[object Array]",uc="[object Object]",y$=Object.prototype,eg=y$.hasOwnProperty;function b$(e,t,r,n,i,a){var s=Yv(e),o=Yv(t),l=s?Qv:Xv(e),c=o?Qv:Xv(t);l=l==Zv?uc:l,c=c==Zv?uc:c;var u=l==uc,f=c==uc,h=l==c;if(h&&Jv(e)){if(!Jv(t))return!1;s=!0,u=!1}if(h&&!u)return a||(a=new Nd),s||g$(e)?p$(e,t,r,n,i,a):m$(e,t,l,r,n,i,a);if(!(r&x$)){var p=u&&eg.call(e,"__wrapped__"),v=f&&eg.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,g=v?t.value():t;return a||(a=new Nd),i(m,g,r,n,a)}}return h?(a||(a=new Nd),v$(e,t,r,n,i,a)):!1}var w$=b$,_$=w$,tg=Jn;function Iw(e,t,r,n,i){return e===t?!0:e==null||t==null||!tg(e)&&!tg(t)?e!==e&&t!==t:_$(e,t,r,n,Iw,i)}var $p=Iw,S$=ww,E$=$p,A$=1,T$=2;function O$(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var o=r[i];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){o=r[i];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new S$;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?E$(u,c,A$|T$,n,f):h))return!1}}return!0}var P$=O$,j$=wi;function N$(e){return e===e&&!j$(e)}var $w=N$,C$=$w,k$=Tf;function D$(e){for(var t=k$(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,C$(i)]}return t}var I$=D$;function $$(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Mw=$$,M$=P$,F$=I$,R$=Mw;function L$(e){var t=F$(e);return t.length==1&&t[0][2]?R$(t[0][0],t[0][1]):function(r){return r===e||M$(r,e,t)}}var B$=L$;function U$(e,t){return e!=null&&t in Object(e)}var W$=U$,z$=zb,H$=kp,q$=_r,G$=Dp,V$=Ip,K$=uf;function X$(e,t,r){t=z$(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=K$(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&V$(i)&&G$(s,i)&&(q$(e)||H$(e)))}var Y$=X$,J$=W$,Z$=Y$;function Q$(e,t){return e!=null&&Z$(e,t,J$)}var eM=Q$,tM=$p,rM=Hb,nM=eM,iM=mp,aM=$w,sM=Mw,oM=uf,lM=1,cM=2;function uM(e,t){return iM(e)&&aM(t)?sM(oM(e),t):function(r){var n=rM(r,e);return n===void 0&&n===t?nM(r,e):tM(t,n,lM|cM)}}var fM=uM;function dM(e){return e}var Ls=dM;function hM(e){return function(t){return t==null?void 0:t[e]}}var pM=hM,mM=_p;function vM(e){return function(t){return mM(t,e)}}var gM=vM,xM=pM,yM=gM,bM=mp,wM=uf;function _M(e){return bM(e)?xM(wM(e)):yM(e)}var SM=_M,EM=B$,AM=fM,TM=Ls,OM=_r,PM=SM;function jM(e){return typeof e=="function"?e:e==null?TM:typeof e=="object"?OM(e)?AM(e[0],e[1]):EM(e):PM(e)}var _i=jM;function NM(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var Fw=NM;function CM(e){return e!==e}var kM=CM;function DM(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var IM=DM,$M=Fw,MM=kM,FM=IM;function RM(e,t,r){return t===t?FM(e,t,r):$M(e,MM,r)}var LM=RM,BM=LM;function UM(e,t){var r=e==null?0:e.length;return!!r&&BM(e,t,0)>-1}var WM=UM;function zM(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var HM=zM;function qM(){}var GM=qM,Cd=kw,VM=GM,KM=Cp,XM=1/0,YM=Cd&&1/KM(new Cd([,-0]))[1]==XM?function(e){return new Cd(e)}:VM,JM=YM,ZM=_w,QM=WM,eF=HM,tF=Ew,rF=JM,nF=Cp,iF=200;function aF(e,t,r){var n=-1,i=QM,a=e.length,s=!0,o=[],l=o;if(r)s=!1,i=eF;else if(a>=iF){var c=t?null:rF(e);if(c)return nF(c);s=!1,i=tF,l=new ZM}else l=t?[]:o;e:for(;++n<a;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),o.push(u)}else i(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var sF=aF,oF=_i,lF=sF;function cF(e,t){return e&&e.length?lF(e,oF(t)):[]}var uF=cF;const rg=mt(uF);function Rw(e,t,r){return t===!0?rg(e,r):Fe(t)?rg(e,t):e}function ns(e){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}var fF=["ref"];function ng(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ng(Object(r),!0).forEach(function(n){Of(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ng(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ig(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bw(n.key),n)}}function hF(e,t,r){return t&&ig(e.prototype,t),r&&ig(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pF(e,t,r){return t=Gc(t),mF(e,Lw()?Reflect.construct(t,r||[],Gc(e).constructor):t.apply(e,r))}function mF(e,t){if(t&&(ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vF(e)}function vF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lw=function(){return!!e})()}function Gc(e){return Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gc(e)}function gF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qh(e,t)}function qh(e,t){return qh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qh(e,t)}function Of(e,t,r){return t=Bw(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bw(e){var t=xF(e,"string");return ns(t)=="symbol"?t:t+""}function xF(e,t){if(ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yF(e,t){if(e==null)return{};var r=bF(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wF(e){return e.value}function _F(e,t){if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return L.createElement(e,t);t.ref;var r=yF(t,fF);return L.createElement(Np,r)}var ag=1,Yi=function(e){function t(){var r;dF(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=pF(this,t,[].concat(i)),Of(r,"lastBoundingBox",{width:-1,height:-1}),r}return gF(t,e),hF(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>ag||Math.abs(i.height-this.lastBoundingBox.height)>ag)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?kn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();h={top:((u||0)-v.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return kn(kn({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=kn(kn({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},_F(a,kn(kn({},this.props),{},{payload:Rw(u,c,wF)})))}}],[{key:"getWithHeight",value:function(n,i){var a=kn(kn({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&ge(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(W.PureComponent);Of(Yi,"displayName","Legend");Of(Yi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sg=Fl,SF=kp,EF=_r,og=sg?sg.isConcatSpreadable:void 0;function AF(e){return EF(e)||SF(e)||!!(og&&e&&e[og])}var TF=AF,OF=Tw,PF=TF;function Uw(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=PF),i||(i=[]);++a<s;){var o=e[a];t>0&&r(o)?t>1?Uw(o,t-1,r,n,i):OF(i,o):n||(i[i.length]=o)}return i}var Ww=Uw;function jF(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++i];if(r(a[l],l,a)===!1)break}return t}}var NF=jF,CF=NF,kF=CF(),DF=kF,IF=DF,$F=Tf;function MF(e,t){return e&&IF(e,t,$F)}var zw=MF,FF=Ll;function RF(e,t){return function(r,n){if(r==null)return r;if(!FF(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var LF=RF,BF=zw,UF=LF,WF=UF(BF),Mp=WF,zF=Mp,HF=Ll;function qF(e,t){var r=-1,n=HF(e)?Array(e.length):[];return zF(e,function(i,a,s){n[++r]=t(i,a,s)}),n}var Hw=qF;function GF(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var VF=GF,lg=Cs;function KF(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=lg(e),s=t!==void 0,o=t===null,l=t===t,c=lg(t);if(!o&&!c&&!a&&e>t||a&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&e<t||c&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var XF=KF,YF=XF;function JF(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,o=r.length;++n<s;){var l=YF(i[n],a[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var ZF=JF,kd=wp,QF=_p,eR=_i,tR=Hw,rR=VF,nR=jw,iR=ZF,aR=Ls,sR=_r;function oR(e,t,r){t.length?t=kd(t,function(a){return sR(a)?function(s){return QF(s,a.length===1?a[0]:a)}:a}):t=[aR];var n=-1;t=kd(t,nR(eR));var i=tR(e,function(a,s,o){var l=kd(t,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return rR(i,function(a,s){return iR(a,s,r)})}var lR=oR;function cR(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var uR=cR,fR=uR,cg=Math.max;function dR(e,t,r){return t=cg(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=cg(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(s),fR(e,this,o)}}var hR=dR;function pR(e){return function(){return e}}var mR=pR,vR=fa,gR=function(){try{var e=vR(Object,"defineProperty");return e({},"",{}),e}catch{}}(),qw=gR,xR=mR,ug=qw,yR=Ls,bR=ug?function(e,t){return ug(e,"toString",{configurable:!0,enumerable:!1,value:xR(t),writable:!0})}:yR,wR=bR,_R=800,SR=16,ER=Date.now;function AR(e){var t=0,r=0;return function(){var n=ER(),i=SR-(n-r);if(r=n,i>0){if(++t>=_R)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var TR=AR,OR=wR,PR=TR,jR=PR(OR),NR=jR,CR=Ls,kR=hR,DR=NR;function IR(e,t){return DR(kR(e,t,CR),e+"")}var $R=IR,MR=gp,FR=Ll,RR=Dp,LR=wi;function BR(e,t,r){if(!LR(r))return!1;var n=typeof t;return(n=="number"?FR(r)&&RR(t,r.length):n=="string"&&t in r)?MR(r[t],e):!1}var Pf=BR,UR=Ww,WR=lR,zR=$R,fg=Pf,HR=zR(function(e,t){if(e==null)return[];var r=t.length;return r>1&&fg(e,t[0],t[1])?t=[]:r>2&&fg(t[0],t[1],t[2])&&(t=[t[0]]),WR(e,UR(t,1),[])}),qR=HR;const Fp=mt(qR);function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gh.apply(this,arguments)}function GR(e,t){return YR(e)||XR(e,t)||KR(e,t)||VR()}function VR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KR(e,t){if(e){if(typeof e=="string")return dg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dg(e,t)}}function dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XR(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function YR(e){if(Array.isArray(e))return e}function hg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hg(Object(r),!0).forEach(function(n){JR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JR(e,t,r){return t=ZR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZR(e){var t=QR(e,"string");return Ko(t)=="symbol"?t:t+""}function QR(e,t){if(Ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e5(e){return Array.isArray(e)&&Dt(e[0])&&Dt(e[1])?e.join(" ~ "):e}var t5=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,v=t.labelClassName,m=t.label,g=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,x=function(){if(u&&u.length){var P={padding:0,margin:0},U=(h?Fp(u,h):u).map(function(q,H){if(q.type==="none")return null;var Z=Dd({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},o),te=q.formatter||f||e5,se=q.value,oe=q.name,me=se,_e=oe;if(te&&me!=null&&_e!=null){var D=te(se,oe,q,H,u);if(Array.isArray(D)){var z=GR(D,2);me=z[0],_e=z[1]}else me=D}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:Z},Dt(_e)?L.createElement("span",{className:"recharts-tooltip-item-name"},_e):null,Dt(_e)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},me),L.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:P},U)}return null},E=Dd({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=Dd({margin:0},c),S=!$e(m),_=S?m:"",A=Ke("recharts-default-tooltip",p),O=Ke("recharts-tooltip-label",v);S&&g&&u!==void 0&&u!==null&&(_=g(m,u));var C=b?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",Gh({className:A,style:E},C),L.createElement("p",{className:O,style:w},L.isValidElement(_)?_:"".concat(_)),x())};function Xo(e){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(e)}function fc(e,t,r){return t=r5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r5(e){var t=n5(e,"string");return Xo(t)=="symbol"?t:t+""}function n5(e,t){if(Xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var co="recharts-tooltip-wrapper",i5={visibility:"hidden"};function a5(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ke(co,fc(fc(fc(fc({},"".concat(co,"-right"),ge(r)&&t&&ge(t.x)&&r>=t.x),"".concat(co,"-left"),ge(r)&&t&&ge(t.x)&&r<t.x),"".concat(co,"-bottom"),ge(n)&&t&&ge(t.y)&&n>=t.y),"".concat(co,"-top"),ge(n)&&t&&ge(t.y)&&n<t.y))}function pg(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&ge(a[n]))return a[n];var u=r[n]-o-i,f=r[n]+i;if(t[n])return s[n]?u:f;if(s[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var v=f+o,m=l[n]+c;return v>m?Math.max(u,l[n]):Math.max(f,l[n])}function s5(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function o5(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=pg({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=pg({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=s5({translateX:u,translateY:f,useTranslate3d:o})):c=i5,{cssProperties:c,cssClasses:a5({translateX:u,translateY:f,coordinate:r})}}function is(e){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function mg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mg(Object(r),!0).forEach(function(n){Kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vw(n.key),n)}}function u5(e,t,r){return t&&c5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f5(e,t,r){return t=Vc(t),d5(e,Gw()?Reflect.construct(t,r||[],Vc(e).constructor):t.apply(e,r))}function d5(e,t){if(t&&(is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h5(e)}function h5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gw=function(){return!!e})()}function Vc(e){return Vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vc(e)}function p5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vh(e,t)}function Vh(e,t){return Vh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vh(e,t)}function Kh(e,t,r){return t=Vw(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vw(e){var t=m5(e,"string");return is(t)=="symbol"?t:t+""}function m5(e,t){if(is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gg=1,v5=function(e){function t(){var r;l5(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=f5(this,t,[].concat(i)),Kh(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Kh(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return p5(t,e),u5(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>gg||Math.abs(n.height-this.state.lastBoundingBox.height)>gg)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,v=i.position,m=i.reverseDirection,g=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,x=o5({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),E=x.cssClasses,w=x.cssProperties,S=vg(vg({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return L.createElement("div",{tabIndex:-1,className:E,style:S,ref:function(A){n.wrapperNode=A}},c)}}])}(W.PureComponent),g5=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},un={isSsr:g5(),get:function(t){return un[t]},set:function(t,r){if(typeof t=="string")un[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){un[i]=t[i]})}}};function as(e){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(e)}function xg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xg(Object(r),!0).forEach(function(n){Rp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xw(n.key),n)}}function b5(e,t,r){return t&&y5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w5(e,t,r){return t=Kc(t),_5(e,Kw()?Reflect.construct(t,r||[],Kc(e).constructor):t.apply(e,r))}function _5(e,t){if(t&&(as(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S5(e)}function S5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kw=function(){return!!e})()}function Kc(e){return Kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kc(e)}function E5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xh(e,t)}function Xh(e,t){return Xh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xh(e,t)}function Rp(e,t,r){return t=Xw(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xw(e){var t=A5(e,"string");return as(t)=="symbol"?t:t+""}function A5(e,t){if(as(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(as(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T5(e){return e.dataKey}function O5(e,t){return L.isValidElement(e)?L.cloneElement(e,t):typeof e=="function"?L.createElement(e,t):L.createElement(t5,t)}var gn=function(e){function t(){return x5(this,t),w5(this,t,arguments)}return E5(t,e),b5(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,v=i.payload,m=i.payloadUniqBy,g=i.position,y=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,E=i.wrapperStyle,w=v??[];f&&w.length&&(w=Rw(v.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),m,T5));var S=w.length>0;return L.createElement(v5,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:S,offset:p,position:g,reverseDirection:y,useTranslate3d:b,viewBox:x,wrapperStyle:E},O5(c,yg(yg({},this.props),{},{payload:w})))}}])}(W.PureComponent);Rp(gn,"displayName","Tooltip");Rp(gn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!un.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var P5=Tn,j5=function(){return P5.Date.now()},N5=j5,C5=/\s/;function k5(e){for(var t=e.length;t--&&C5.test(e.charAt(t)););return t}var D5=k5,I5=D5,$5=/^\s+/;function M5(e){return e&&e.slice(0,I5(e)+1).replace($5,"")}var F5=M5,R5=F5,bg=wi,L5=Cs,wg=NaN,B5=/^[-+]0x[0-9a-f]+$/i,U5=/^0b[01]+$/i,W5=/^0o[0-7]+$/i,z5=parseInt;function H5(e){if(typeof e=="number")return e;if(L5(e))return wg;if(bg(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=bg(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=R5(e);var r=U5.test(e);return r||W5.test(e)?z5(e.slice(2),r?2:8):B5.test(e)?wg:+e}var Yw=H5,q5=wi,Id=N5,_g=Yw,G5="Expected a function",V5=Math.max,K5=Math.min;function X5(e,t,r){var n,i,a,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(G5);t=_g(t)||0,q5(r)&&(u=!!r.leading,f="maxWait"in r,a=f?V5(_g(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function p(S){var _=n,A=i;return n=i=void 0,c=S,s=e.apply(A,_),s}function v(S){return c=S,o=setTimeout(y,t),u?p(S):s}function m(S){var _=S-l,A=S-c,O=t-_;return f?K5(O,a-A):O}function g(S){var _=S-l,A=S-c;return l===void 0||_>=t||_<0||f&&A>=a}function y(){var S=Id();if(g(S))return b(S);o=setTimeout(y,m(S))}function b(S){return o=void 0,h&&n?p(S):(n=i=void 0,s)}function x(){o!==void 0&&clearTimeout(o),c=0,n=l=i=o=void 0}function E(){return o===void 0?s:b(Id())}function w(){var S=Id(),_=g(S);if(n=arguments,i=this,l=S,_){if(o===void 0)return v(l);if(f)return clearTimeout(o),o=setTimeout(y,t),p(l)}return o===void 0&&(o=setTimeout(y,t)),s}return w.cancel=x,w.flush=E,w}var Y5=X5,J5=Y5,Z5=wi,Q5="Expected a function";function e6(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(Q5);return Z5(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),J5(e,t,{leading:n,maxWait:t,trailing:i})}var t6=e6;const Jw=mt(t6);function Yo(e){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(e)}function Sg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sg(Object(r),!0).forEach(function(n){r6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r6(e,t,r){return t=n6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n6(e){var t=i6(e,"string");return Yo(t)=="symbol"?t:t+""}function i6(e,t){if(Yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a6(e,t){return c6(e)||l6(e,t)||o6(e,t)||s6()}function s6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o6(e,t){if(e){if(typeof e=="string")return Eg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eg(e,t)}}function Eg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l6(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function c6(e){if(Array.isArray(e))return e}var u6=W.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,s=a===void 0?"100%":a,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,v=e.debounce,m=v===void 0?0:v,g=e.id,y=e.className,b=e.onResize,x=e.style,E=x===void 0?{}:x,w=W.useRef(null),S=W.useRef();S.current=b,W.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var _=W.useState({containerWidth:i.width,containerHeight:i.height}),A=a6(_,2),O=A[0],C=A[1],j=W.useCallback(function(U,q){C(function(H){var Z=Math.round(U),te=Math.round(q);return H.containerWidth===Z&&H.containerHeight===te?H:{containerWidth:Z,containerHeight:te}})},[]);W.useEffect(function(){var U=function(oe){var me,_e=oe[0].contentRect,D=_e.width,z=_e.height;j(D,z),(me=S.current)===null||me===void 0||me.call(S,D,z)};m>0&&(U=Jw(U,m,{trailing:!0,leading:!1}));var q=new ResizeObserver(U),H=w.current.getBoundingClientRect(),Z=H.width,te=H.height;return j(Z,te),q.observe(w.current),function(){q.disconnect()}},[j,m]);var P=W.useMemo(function(){var U=O.containerWidth,q=O.containerHeight;if(U<0||q<0)return null;Ln(qi(s)||qi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ln(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=qi(s)?U:s,Z=qi(l)?q:l;r&&r>0&&(H?Z=H/r:Z&&(H=Z*r),h&&Z>h&&(Z=h)),Ln(H>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,Z,s,l,u,f,r);var te=!Array.isArray(p)&&Rn(p.type).endsWith("Chart");return L.Children.map(p,function(se){return L.isValidElement(se)?W.cloneElement(se,dc({width:H,height:Z},te?{style:dc({height:"100%",width:"100%",maxHeight:Z,maxWidth:H},se.props.style)}:{})):se})},[r,p,l,h,f,u,O,s]);return L.createElement("div",{id:g?"".concat(g):void 0,className:Ke("recharts-responsive-container",y),style:dc(dc({},E),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:w},P)}),Lp=function(t){return null};Lp.displayName="Cell";function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}function Ag(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ag(Object(r),!0).forEach(function(n){f6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ag(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f6(e,t,r){return t=d6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d6(e){var t=h6(e,"string");return Jo(t)=="symbol"?t:t+""}function h6(e,t){if(Jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ja={widthCache:{},cacheCount:0},p6=2e3,m6={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Tg="recharts_measurement_span";function v6(e){var t=Yh({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Co=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||un.isSsr)return{width:0,height:0};var n=v6(r),i=JSON.stringify({text:t,copyStyle:n});if(ja.widthCache[i])return ja.widthCache[i];try{var a=document.getElementById(Tg);a||(a=document.createElement("span"),a.setAttribute("id",Tg),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Yh(Yh({},m6),n);Object.assign(a.style,s),a.textContent="".concat(t);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return ja.widthCache[i]=l,++ja.cacheCount>p6&&(ja.cacheCount=0,ja.widthCache={}),l}catch{return{width:0,height:0}}},g6=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function Xc(e,t){return w6(e)||b6(e,t)||y6(e,t)||x6()}function x6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y6(e,t){if(e){if(typeof e=="string")return Og(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Og(e,t)}}function Og(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b6(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function w6(e){if(Array.isArray(e))return e}function _6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E6(n.key),n)}}function S6(e,t,r){return t&&Pg(e.prototype,t),r&&Pg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E6(e){var t=A6(e,"string");return Zo(t)=="symbol"?t:t+""}function A6(e,t){if(Zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jg=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ng=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,T6=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,O6=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Zw={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},P6=Object.keys(Zw),Ba="NaN";function j6(e,t){return e*Zw[t]}var hc=function(){function e(t,r){_6(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!T6.test(r)&&(this.num=NaN,this.unit=""),P6.includes(r)&&(this.num=j6(t,r),this.unit="px")}return S6(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=O6.exec(r))!==null&&n!==void 0?n:[],a=Xc(i,3),s=a[1],o=a[2];return new e(parseFloat(s),o??"")}}])}();function Qw(e){if(e.includes(Ba))return Ba;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=jg.exec(t))!==null&&r!==void 0?r:[],i=Xc(n,4),a=i[1],s=i[2],o=i[3],l=hc.parse(a??""),c=hc.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Ba;t=t.replace(jg,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=Ng.exec(t))!==null&&f!==void 0?f:[],p=Xc(h,4),v=p[1],m=p[2],g=p[3],y=hc.parse(v??""),b=hc.parse(g??""),x=m==="+"?y.add(b):y.subtract(b);if(x.isNaN())return Ba;t=t.replace(Ng,x.toString())}return t}var Cg=/\(([^()]*)\)/;function N6(e){for(var t=e;t.includes("(");){var r=Cg.exec(t),n=Xc(r,2),i=n[1];t=t.replace(Cg,Qw(i))}return t}function C6(e){var t=e.replace(/\s+/g,"");return t=N6(t),t=Qw(t),t}function k6(e){try{return C6(e)}catch{return Ba}}function $d(e){var t=k6(e.slice(5,-1));return t===Ba?"":t}var D6=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],I6=["dx","dy","angle","className","breakAll"];function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jh.apply(this,arguments)}function kg(e,t){if(e==null)return{};var r=$6(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dg(e,t){return L6(e)||R6(e,t)||F6(e,t)||M6()}function M6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F6(e,t){if(e){if(typeof e=="string")return Ig(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ig(e,t)}}function Ig(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R6(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function L6(e){if(Array.isArray(e))return e}var e_=/[ \f\n\r\t\v\u2028\u2029]+/,t_=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];$e(r)||(n?a=r.toString().split(""):a=r.toString().split(e_));var s=a.map(function(l){return{word:l,width:Co(l,i).width}}),o=n?0:Co("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},B6=function(t,r,n,i,a){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=ge(s),f=o,h=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(Z,te){var se=te.word,oe=te.width,me=Z[Z.length-1];if(me&&(i==null||a||me.width+oe+n<Number(i)))me.words.push(se),me.width+=oe+n;else{var _e={words:[se],width:oe};Z.push(_e)}return Z},[])},p=h(r),v=function(H){return H.reduce(function(Z,te){return Z.width>te.width?Z:te})};if(!u)return p;for(var m="",g=function(H){var Z=f.slice(0,H),te=t_({breakAll:c,style:l,children:Z+m}).wordsWithComputedWidth,se=h(te),oe=se.length>s||v(se).width>Number(i);return[oe,se]},y=0,b=f.length-1,x=0,E;y<=b&&x<=f.length-1;){var w=Math.floor((y+b)/2),S=w-1,_=g(S),A=Dg(_,2),O=A[0],C=A[1],j=g(w),P=Dg(j,1),U=P[0];if(!O&&!U&&(y=w+1),O&&U&&(b=w-1),!O&&U){E=C;break}x++}return E||p},$g=function(t){var r=$e(t)?[]:t.toString().split(e_);return[{words:r}]},U6=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!un.isSsr){var l,c,u=t_({breakAll:s,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return $g(i);return B6({breakAll:s,children:i,maxLines:o,style:a},l,c,r,n)}return $g(i)},Mg="#808080",Yc=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,v=t.verticalAnchor,m=v===void 0?"end":v,g=t.fill,y=g===void 0?Mg:g,b=kg(t,D6),x=W.useMemo(function(){return U6({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),E=b.dx,w=b.dy,S=b.angle,_=b.className,A=b.breakAll,O=kg(b,I6);if(!Dt(n)||!Dt(a))return null;var C=n+(ge(E)?E:0),j=a+(ge(w)?w:0),P;switch(m){case"start":P=$d("calc(".concat(c,")"));break;case"middle":P=$d("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:P=$d("calc(".concat(x.length-1," * -").concat(o,")"));break}var U=[];if(f){var q=x[0].width,H=b.width;U.push("scale(".concat((ge(H)?H/q:1)/q,")"))}return S&&U.push("rotate(".concat(S,", ").concat(C,", ").concat(j,")")),U.length&&(O.transform=U.join(" ")),L.createElement("text",Jh({},Ie(O,!0),{x:C,y:j,className:Ke("recharts-text",_),textAnchor:p,fill:y.includes("url")?Mg:y}),x.map(function(Z,te){var se=Z.words.join(A?"":" ");return L.createElement("tspan",{x:C,dy:te===0?P:o,key:"".concat(se,"-").concat(te)},se)}))};function gi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function W6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bp(e){let t,r,n;e.length!==2?(t=gi,r=(o,l)=>gi(e(o),l),n=(o,l)=>e(o)-l):(t=e===gi||e===W6?e:z6,r=e,n=e);function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function z6(){return 0}function r_(e){return e===null?NaN:+e}function*H6(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const q6=Bp(gi),Bl=q6.right;Bp(r_).center;class Fg extends Map{constructor(t,r=K6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Rg(this,t))}has(t){return super.has(Rg(this,t))}set(t,r){return super.set(G6(this,t),r)}delete(t){return super.delete(V6(this,t))}}function Rg({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function G6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function V6({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function K6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function X6(e=gi){if(e===gi)return n_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function n_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Y6=Math.sqrt(50),J6=Math.sqrt(10),Z6=Math.sqrt(2);function Jc(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Y6?10:a>=J6?5:a>=Z6?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Jc(e,t,r*2):[o,l,c]}function Zh(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?Jc(t,e,r):Jc(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Qh(e,t,r){return t=+t,e=+e,r=+r,Jc(e,t,r)[2]}function e0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Qh(t,e,r):Qh(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Lg(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Bg(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function i_(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?n_:X6(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),v=Math.min(n,Math.floor(t+(l-c)*f/l+h));i_(e,t,p,v,i)}const a=e[t];let s=r,o=n;for(uo(e,r,t),i(e[n],a)>0&&uo(e,r,n);s<o;){for(uo(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?uo(e,r,o):(++o,uo(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function uo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Q6(e,t,r){if(e=Float64Array.from(H6(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Bg(e);if(t>=1)return Lg(e);var n,i=(n-1)*t,a=Math.floor(i),s=Lg(i_(e,a).subarray(0,a+1)),o=Bg(e.subarray(a+1));return s+(o-s)*(i-a)}}function e8(e,t,r=r_){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function t8(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Yr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const t0=Symbol("implicit");function Up(){var e=new Fg,t=[],r=[],n=t0;function i(a){let s=e.get(a);if(s===void 0){if(n!==t0)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Fg;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Up(t,r).unknown(n)},Yr.apply(i,arguments),i}function Qo(){var e=Up().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,p=i<n,v=p?i:n,m=p?n:i;a=(m-v)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),v+=(m-v-a*(h-l))*u,s=a*(1-l),o&&(v=Math.round(v),s=Math.round(s));var g=t8(h).map(function(y){return v+a*y});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return Qo(t(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Yr.apply(f(),arguments)}function a_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a_(t())},e}function ko(){return a_(Qo.apply(null,arguments).paddingInner(1))}function Wp(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function s_(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ul(){}var el=.7,Zc=1/el,Va="\\s*([+-]?\\d+)\\s*",tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r8=/^#([0-9a-f]{3,8})$/,n8=new RegExp(`^rgb\\(${Va},${Va},${Va}\\)$`),i8=new RegExp(`^rgb\\(${wn},${wn},${wn}\\)$`),a8=new RegExp(`^rgba\\(${Va},${Va},${Va},${tl}\\)$`),s8=new RegExp(`^rgba\\(${wn},${wn},${wn},${tl}\\)$`),o8=new RegExp(`^hsl\\(${tl},${wn},${wn}\\)$`),l8=new RegExp(`^hsla\\(${tl},${wn},${wn},${tl}\\)$`),Ug={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wp(Ul,rl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Wg,formatHex:Wg,formatHex8:c8,formatHsl:u8,formatRgb:zg,toString:zg});function Wg(){return this.rgb().formatHex()}function c8(){return this.rgb().formatHex8()}function u8(){return o_(this).formatHsl()}function zg(){return this.rgb().formatRgb()}function rl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=r8.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Hg(t):r===3?new gr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?pc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?pc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=n8.exec(e))?new gr(t[1],t[2],t[3],1):(t=i8.exec(e))?new gr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=a8.exec(e))?pc(t[1],t[2],t[3],t[4]):(t=s8.exec(e))?pc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=o8.exec(e))?Vg(t[1],t[2]/100,t[3]/100,1):(t=l8.exec(e))?Vg(t[1],t[2]/100,t[3]/100,t[4]):Ug.hasOwnProperty(e)?Hg(Ug[e]):e==="transparent"?new gr(NaN,NaN,NaN,0):null}function Hg(e){return new gr(e>>16&255,e>>8&255,e&255,1)}function pc(e,t,r,n){return n<=0&&(e=t=r=NaN),new gr(e,t,r,n)}function f8(e){return e instanceof Ul||(e=rl(e)),e?(e=e.rgb(),new gr(e.r,e.g,e.b,e.opacity)):new gr}function r0(e,t,r,n){return arguments.length===1?f8(e):new gr(e,t,r,n??1)}function gr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Wp(gr,r0,s_(Ul,{brighter(e){return e=e==null?Zc:Math.pow(Zc,e),new gr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?el:Math.pow(el,e),new gr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gr(Ji(this.r),Ji(this.g),Ji(this.b),Qc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qg,formatHex:qg,formatHex8:d8,formatRgb:Gg,toString:Gg}));function qg(){return`#${Gi(this.r)}${Gi(this.g)}${Gi(this.b)}`}function d8(){return`#${Gi(this.r)}${Gi(this.g)}${Gi(this.b)}${Gi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gg(){const e=Qc(this.opacity);return`${e===1?"rgb(":"rgba("}${Ji(this.r)}, ${Ji(this.g)}, ${Ji(this.b)}${e===1?")":`, ${e})`}`}function Qc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ji(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gi(e){return e=Ji(e),(e<16?"0":"")+e.toString(16)}function Vg(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sn(e,t,r,n)}function o_(e){if(e instanceof sn)return new sn(e.h,e.s,e.l,e.opacity);if(e instanceof Ul||(e=rl(e)),!e)return new sn;if(e instanceof sn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new sn(s,o,l,e.opacity)}function h8(e,t,r,n){return arguments.length===1?o_(e):new sn(e,t,r,n??1)}function sn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Wp(sn,h8,s_(Ul,{brighter(e){return e=e==null?Zc:Math.pow(Zc,e),new sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?el:Math.pow(el,e),new sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new gr(Md(e>=240?e-240:e+120,i,n),Md(e,i,n),Md(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new sn(Kg(this.h),mc(this.s),mc(this.l),Qc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qc(this.opacity);return`${e===1?"hsl(":"hsla("}${Kg(this.h)}, ${mc(this.s)*100}%, ${mc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Kg(e){return e=(e||0)%360,e<0?e+360:e}function mc(e){return Math.max(0,Math.min(1,e||0))}function Md(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const zp=e=>()=>e;function p8(e,t){return function(r){return e+r*t}}function m8(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function v8(e){return(e=+e)==1?l_:function(t,r){return r-t?m8(t,r,e):zp(isNaN(t)?r:t)}}function l_(e,t){var r=t-e;return r?p8(e,r):zp(isNaN(e)?t:e)}const Xg=function e(t){var r=v8(t);function n(i,a){var s=r((i=r0(i)).r,(a=r0(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=l_(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n}(1);function g8(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function x8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function y8(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Bs(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function b8(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function eu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function w8(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Bs(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var n0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fd=new RegExp(n0.source,"g");function _8(e){return function(){return e}}function S8(e){return function(t){return e(t)+""}}function E8(e,t){var r=n0.lastIndex=Fd.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=n0.exec(e))&&(i=Fd.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:eu(n,i)})),r=Fd.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?S8(l[0].x):_8(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Bs(e,t){var r=typeof t,n;return t==null||r==="boolean"?zp(t):(r==="number"?eu:r==="string"?(n=rl(t))?(t=n,Xg):E8:t instanceof rl?Xg:t instanceof Date?b8:x8(t)?g8:Array.isArray(t)?y8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?w8:eu)(e,t)}function Hp(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function A8(e,t){t===void 0&&(t=e,e=Bs);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function T8(e){return function(){return e}}function tu(e){return+e}var Yg=[0,1];function dr(e){return e}function i0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:T8(isNaN(t)?NaN:.5)}function O8(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function P8(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=i0(i,n),a=r(s,a)):(n=i0(n,i),a=r(a,s)),function(o){return a(n(o))}}function j8(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=i0(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=Bl(e,o,1,n)-1;return a[l](i[l](o))}}function Wl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jf(){var e=Yg,t=Yg,r=Bs,n,i,a,s=dr,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==dr&&(s=O8(e[0],e[h-1])),o=h>2?j8:P8,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((c||(c=o(t,e.map(n),eu)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,tu),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Hp,u()},f.clamp=function(h){return arguments.length?(s=h?!0:dr,u()):s!==dr},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,u()}}function qp(){return jf()(dr,dr)}function N8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ru(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ss(e){return e=ru(Math.abs(e)),e?e[1]:NaN}function C8(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function k8(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var D8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nl(e){if(!(t=D8.exec(e)))throw new Error("invalid format: "+e);var t;return new Gp({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nl.prototype=Gp.prototype;function Gp(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Gp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function I8(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var c_;function $8(e,t){var r=ru(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(c_=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+ru(e,Math.max(0,t+a-1))[0]}function Jg(e,t){var r=ru(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Zg={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:N8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Jg(e*100,t),r:Jg,s:$8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Qg(e){return e}var ex=Array.prototype.map,tx=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function M8(e){var t=e.grouping===void 0||e.thousands===void 0?Qg:C8(ex.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Qg:k8(ex.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=nl(f);var h=f.fill,p=f.align,v=f.sign,m=f.symbol,g=f.zero,y=f.width,b=f.comma,x=f.precision,E=f.trim,w=f.type;w==="n"?(b=!0,w="g"):Zg[w]||(x===void 0&&(x=12),E=!0,w="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",_=m==="$"?n:/[%p]/.test(w)?s:"",A=Zg[w],O=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function C(j){var P=S,U=_,q,H,Z;if(w==="c")U=A(j)+U,j="";else{j=+j;var te=j<0||1/j<0;if(j=isNaN(j)?l:A(Math.abs(j),x),E&&(j=I8(j)),te&&+j==0&&v!=="+"&&(te=!1),P=(te?v==="("?v:o:v==="-"||v==="("?"":v)+P,U=(w==="s"?tx[8+c_/3]:"")+U+(te&&v==="("?")":""),O){for(q=-1,H=j.length;++q<H;)if(Z=j.charCodeAt(q),48>Z||Z>57){U=(Z===46?i+j.slice(q+1):j.slice(q))+U,j=j.slice(0,q);break}}}b&&!g&&(j=t(j,1/0));var se=P.length+j.length+U.length,oe=se<y?new Array(y-se+1).join(h):"";switch(b&&g&&(j=t(oe+j,oe.length?y-U.length:1/0),oe=""),p){case"<":j=P+j+U+oe;break;case"=":j=P+oe+j+U;break;case"^":j=oe.slice(0,se=oe.length>>1)+P+j+U+oe.slice(se);break;default:j=oe+P+j+U;break}return a(j)}return C.toString=function(){return f+""},C}function u(f,h){var p=c((f=nl(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(ss(h)/3)))*3,m=Math.pow(10,-v),g=tx[8+v/3];return function(y){return p(m*y)+g}}return{format:c,formatPrefix:u}}var vc,Vp,u_;F8({thousands:",",grouping:[3],currency:["$",""]});function F8(e){return vc=M8(e),Vp=vc.format,u_=vc.formatPrefix,vc}function R8(e){return Math.max(0,-ss(Math.abs(e)))}function L8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ss(t)/3)))*3-ss(Math.abs(e)))}function B8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ss(t)-ss(e))+1}function f_(e,t,r,n){var i=e0(e,t,r),a;switch(n=nl(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=L8(i,s))&&(n.precision=a),u_(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=B8(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=R8(i))&&(n.precision=a-(n.type==="%")*2);break}}return Vp(n)}function Si(e){var t=e.domain;return e.ticks=function(r){var n=t();return Zh(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return f_(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=Qh(s,o,r),c===l)return n[i]=s,n[a]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function nu(){var e=qp();return e.copy=function(){return Wl(e,nu())},Yr.apply(e,arguments),Si(e)}function d_(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,tu),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return d_(e).unknown(t)},e=arguments.length?Array.from(e,tu):[0,1],Si(r)}function h_(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function rx(e){return Math.log(e)}function nx(e){return Math.exp(e)}function U8(e){return-Math.log(-e)}function W8(e){return-Math.exp(-e)}function z8(e){return isFinite(e)?+("1e"+e):e<0?0:e}function H8(e){return e===10?z8:e===Math.E?Math.exp:t=>Math.pow(e,t)}function q8(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ix(e){return(t,r)=>-e(-t,r)}function Kp(e){const t=e(rx,nx),r=t.domain;let n=10,i,a;function s(){return i=q8(n),a=H8(n),r()[0]<0?(i=ix(i),a=ix(a),e(U8,W8)):e(rx,nx),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),v,m;const g=o==null?10:+o;let y=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(v=1;v<n;++v)if(m=h<0?v/a(-h):v*a(h),!(m<c)){if(m>u)break;y.push(m)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(m=h>0?v/a(-h):v*a(h),!(m<c)){if(m>u)break;y.push(m)}y.length*2<g&&(y=Zh(c,u,g))}else y=Zh(h,p,Math.min(p-h,g)).map(a);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=nl(l)).precision==null&&(l.trim=!0),l=Vp(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(h_(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function p_(){const e=Kp(jf()).domain([1,10]);return e.copy=()=>Wl(e,p_()).base(e.base()),Yr.apply(e,arguments),e}function ax(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sx(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Xp(e){var t=1,r=e(ax(t),sx(t));return r.constant=function(n){return arguments.length?e(ax(t=+n),sx(t)):t},Si(r)}function m_(){var e=Xp(jf());return e.copy=function(){return Wl(e,m_()).constant(e.constant())},Yr.apply(e,arguments)}function ox(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function G8(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function V8(e){return e<0?-e*e:e*e}function Yp(e){var t=e(dr,dr),r=1;function n(){return r===1?e(dr,dr):r===.5?e(G8,V8):e(ox(r),ox(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Si(t)}function Jp(){var e=Yp(jf());return e.copy=function(){return Wl(e,Jp()).exponent(e.exponent())},Yr.apply(e,arguments),e}function K8(){return Jp.apply(null,arguments).exponent(.5)}function lx(e){return Math.sign(e)*e*e}function X8(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function v_(){var e=qp(),t=[0,1],r=!1,n;function i(a){var s=X8(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(lx(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,tu)).map(lx)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return v_(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Yr.apply(i,arguments),Si(i)}function g_(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=e8(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Bl(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(gi),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return g_().domain(e).range(t).unknown(n)},Yr.apply(a,arguments)}function x_(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Bl(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return x_().domain([e,t]).range(i).unknown(a)},Yr.apply(Si(s),arguments)}function y_(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Bl(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return y_().domain(e).range(t).unknown(r)},Yr.apply(i,arguments)}const Rd=new Date,Ld=new Date;function $t(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>$t(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Rd.setTime(+a),Ld.setTime(+s),e(Rd),e(Ld),Math.floor(r(Rd,Ld))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const iu=$t(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);iu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$t(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):iu);iu.range;const $n=1e3,Gr=$n*60,Mn=Gr*60,Hn=Mn*24,Zp=Hn*7,cx=Hn*30,Bd=Hn*365,Vi=$t(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$n)},(e,t)=>(t-e)/$n,e=>e.getUTCSeconds());Vi.range;const Qp=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$n)},(e,t)=>{e.setTime(+e+t*Gr)},(e,t)=>(t-e)/Gr,e=>e.getMinutes());Qp.range;const em=$t(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Gr)},(e,t)=>(t-e)/Gr,e=>e.getUTCMinutes());em.range;const tm=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$n-e.getMinutes()*Gr)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getHours());tm.range;const rm=$t(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getUTCHours());rm.range;const zl=$t(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gr)/Hn,e=>e.getDate()-1);zl.range;const Nf=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>e.getUTCDate()-1);Nf.range;const b_=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>Math.floor(e/Hn));b_.range;function ha(e){return $t(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Gr)/Zp)}const Cf=ha(0),au=ha(1),Y8=ha(2),J8=ha(3),os=ha(4),Z8=ha(5),Q8=ha(6);Cf.range;au.range;Y8.range;J8.range;os.range;Z8.range;Q8.range;function pa(e){return $t(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Zp)}const kf=pa(0),su=pa(1),eL=pa(2),tL=pa(3),ls=pa(4),rL=pa(5),nL=pa(6);kf.range;su.range;eL.range;tL.range;ls.range;rL.range;nL.range;const nm=$t(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());nm.range;const im=$t(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());im.range;const qn=$t(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());qn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});qn.range;const Gn=$t(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Gn.range;function w_(e,t,r,n,i,a){const s=[[Vi,1,$n],[Vi,5,5*$n],[Vi,15,15*$n],[Vi,30,30*$n],[a,1,Gr],[a,5,5*Gr],[a,15,15*Gr],[a,30,30*Gr],[i,1,Mn],[i,3,3*Mn],[i,6,6*Mn],[i,12,12*Mn],[n,1,Hn],[n,2,2*Hn],[r,1,Zp],[t,1,cx],[t,3,3*cx],[e,1,Bd]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),v=p?p.range(c,+u+1):[];return h?v.reverse():v}function l(c,u,f){const h=Math.abs(u-c)/f,p=Bp(([,,g])=>g).right(s,h);if(p===s.length)return e.every(e0(c/Bd,u/Bd,f));if(p===0)return iu.every(Math.max(e0(c,u,f),1));const[v,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return v.every(m)}return[o,l]}const[iL,aL]=w_(Gn,im,kf,b_,rm,em),[sL,oL]=w_(qn,nm,Cf,zl,tm,Qp);function Ud(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Wd(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function lL(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=ho(i),u=po(i),f=ho(a),h=po(a),p=ho(s),v=po(s),m=ho(o),g=po(o),y=ho(l),b=po(l),x={a:te,A:se,b:oe,B:me,c:null,d:mx,e:mx,f:CL,g:UL,G:zL,H:PL,I:jL,j:NL,L:__,m:kL,M:DL,p:_e,q:D,Q:xx,s:yx,S:IL,u:$L,U:ML,V:FL,w:RL,W:LL,x:null,X:null,y:BL,Y:WL,Z:HL,"%":gx},E={a:z,A:F,b:B,B:Y,c:null,d:vx,e:vx,f:KL,g:iB,G:sB,H:qL,I:GL,j:VL,L:E_,m:XL,M:YL,p:xe,q:be,Q:xx,s:yx,S:JL,u:ZL,U:QL,V:eB,w:tB,W:rB,x:null,X:null,y:nB,Y:aB,Z:oB,"%":gx},w={a:C,A:j,b:P,B:U,c:q,d:hx,e:hx,f:EL,g:dx,G:fx,H:px,I:px,j:bL,L:SL,m:yL,M:wL,p:O,q:xL,Q:TL,s:OL,S:_L,u:hL,U:pL,V:mL,w:dL,W:vL,x:H,X:Z,y:dx,Y:fx,Z:gL,"%":AL};x.x=S(r,x),x.X=S(n,x),x.c=S(t,x),E.x=S(r,E),E.X=S(n,E),E.c=S(t,E);function S(Q,ie){return function(we){var ee=[],De=-1,Se=0,Le=Q.length,Ce,G,Pe;for(we instanceof Date||(we=new Date(+we));++De<Le;)Q.charCodeAt(De)===37&&(ee.push(Q.slice(Se,De)),(G=ux[Ce=Q.charAt(++De)])!=null?Ce=Q.charAt(++De):G=Ce==="e"?" ":"0",(Pe=ie[Ce])&&(Ce=Pe(we,G)),ee.push(Ce),Se=De+1);return ee.push(Q.slice(Se,De)),ee.join("")}}function _(Q,ie){return function(we){var ee=fo(1900,void 0,1),De=A(ee,Q,we+="",0),Se,Le;if(De!=we.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(ie&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Se=Wd(fo(ee.y,0,1)),Le=Se.getUTCDay(),Se=Le>4||Le===0?su.ceil(Se):su(Se),Se=Nf.offset(Se,(ee.V-1)*7),ee.y=Se.getUTCFullYear(),ee.m=Se.getUTCMonth(),ee.d=Se.getUTCDate()+(ee.w+6)%7):(Se=Ud(fo(ee.y,0,1)),Le=Se.getDay(),Se=Le>4||Le===0?au.ceil(Se):au(Se),Se=zl.offset(Se,(ee.V-1)*7),ee.y=Se.getFullYear(),ee.m=Se.getMonth(),ee.d=Se.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),Le="Z"in ee?Wd(fo(ee.y,0,1)).getUTCDay():Ud(fo(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(Le+5)%7:ee.w+ee.U*7-(Le+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,Wd(ee)):Ud(ee)}}function A(Q,ie,we,ee){for(var De=0,Se=ie.length,Le=we.length,Ce,G;De<Se;){if(ee>=Le)return-1;if(Ce=ie.charCodeAt(De++),Ce===37){if(Ce=ie.charAt(De++),G=w[Ce in ux?ie.charAt(De++):Ce],!G||(ee=G(Q,we,ee))<0)return-1}else if(Ce!=we.charCodeAt(ee++))return-1}return ee}function O(Q,ie,we){var ee=c.exec(ie.slice(we));return ee?(Q.p=u.get(ee[0].toLowerCase()),we+ee[0].length):-1}function C(Q,ie,we){var ee=p.exec(ie.slice(we));return ee?(Q.w=v.get(ee[0].toLowerCase()),we+ee[0].length):-1}function j(Q,ie,we){var ee=f.exec(ie.slice(we));return ee?(Q.w=h.get(ee[0].toLowerCase()),we+ee[0].length):-1}function P(Q,ie,we){var ee=y.exec(ie.slice(we));return ee?(Q.m=b.get(ee[0].toLowerCase()),we+ee[0].length):-1}function U(Q,ie,we){var ee=m.exec(ie.slice(we));return ee?(Q.m=g.get(ee[0].toLowerCase()),we+ee[0].length):-1}function q(Q,ie,we){return A(Q,t,ie,we)}function H(Q,ie,we){return A(Q,r,ie,we)}function Z(Q,ie,we){return A(Q,n,ie,we)}function te(Q){return s[Q.getDay()]}function se(Q){return a[Q.getDay()]}function oe(Q){return l[Q.getMonth()]}function me(Q){return o[Q.getMonth()]}function _e(Q){return i[+(Q.getHours()>=12)]}function D(Q){return 1+~~(Q.getMonth()/3)}function z(Q){return s[Q.getUTCDay()]}function F(Q){return a[Q.getUTCDay()]}function B(Q){return l[Q.getUTCMonth()]}function Y(Q){return o[Q.getUTCMonth()]}function xe(Q){return i[+(Q.getUTCHours()>=12)]}function be(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var ie=S(Q+="",x);return ie.toString=function(){return Q},ie},parse:function(Q){var ie=_(Q+="",!1);return ie.toString=function(){return Q},ie},utcFormat:function(Q){var ie=S(Q+="",E);return ie.toString=function(){return Q},ie},utcParse:function(Q){var ie=_(Q+="",!0);return ie.toString=function(){return Q},ie}}}var ux={"-":"",_:" ",0:"0"},Wt=/^\s*\d+/,cL=/^%/,uL=/[\\^$*+?|[\]().{}]/g;function Ze(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function fL(e){return e.replace(uL,"\\$&")}function ho(e){return new RegExp("^(?:"+e.map(fL).join("|")+")","i")}function po(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function dL(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function hL(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function pL(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function mL(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function vL(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function fx(e,t,r){var n=Wt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function dx(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function gL(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function xL(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function yL(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function hx(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function bL(e,t,r){var n=Wt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function px(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function wL(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function _L(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function SL(e,t,r){var n=Wt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function EL(e,t,r){var n=Wt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function AL(e,t,r){var n=cL.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function TL(e,t,r){var n=Wt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function OL(e,t,r){var n=Wt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function mx(e,t){return Ze(e.getDate(),t,2)}function PL(e,t){return Ze(e.getHours(),t,2)}function jL(e,t){return Ze(e.getHours()%12||12,t,2)}function NL(e,t){return Ze(1+zl.count(qn(e),e),t,3)}function __(e,t){return Ze(e.getMilliseconds(),t,3)}function CL(e,t){return __(e,t)+"000"}function kL(e,t){return Ze(e.getMonth()+1,t,2)}function DL(e,t){return Ze(e.getMinutes(),t,2)}function IL(e,t){return Ze(e.getSeconds(),t,2)}function $L(e){var t=e.getDay();return t===0?7:t}function ML(e,t){return Ze(Cf.count(qn(e)-1,e),t,2)}function S_(e){var t=e.getDay();return t>=4||t===0?os(e):os.ceil(e)}function FL(e,t){return e=S_(e),Ze(os.count(qn(e),e)+(qn(e).getDay()===4),t,2)}function RL(e){return e.getDay()}function LL(e,t){return Ze(au.count(qn(e)-1,e),t,2)}function BL(e,t){return Ze(e.getFullYear()%100,t,2)}function UL(e,t){return e=S_(e),Ze(e.getFullYear()%100,t,2)}function WL(e,t){return Ze(e.getFullYear()%1e4,t,4)}function zL(e,t){var r=e.getDay();return e=r>=4||r===0?os(e):os.ceil(e),Ze(e.getFullYear()%1e4,t,4)}function HL(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ze(t/60|0,"0",2)+Ze(t%60,"0",2)}function vx(e,t){return Ze(e.getUTCDate(),t,2)}function qL(e,t){return Ze(e.getUTCHours(),t,2)}function GL(e,t){return Ze(e.getUTCHours()%12||12,t,2)}function VL(e,t){return Ze(1+Nf.count(Gn(e),e),t,3)}function E_(e,t){return Ze(e.getUTCMilliseconds(),t,3)}function KL(e,t){return E_(e,t)+"000"}function XL(e,t){return Ze(e.getUTCMonth()+1,t,2)}function YL(e,t){return Ze(e.getUTCMinutes(),t,2)}function JL(e,t){return Ze(e.getUTCSeconds(),t,2)}function ZL(e){var t=e.getUTCDay();return t===0?7:t}function QL(e,t){return Ze(kf.count(Gn(e)-1,e),t,2)}function A_(e){var t=e.getUTCDay();return t>=4||t===0?ls(e):ls.ceil(e)}function eB(e,t){return e=A_(e),Ze(ls.count(Gn(e),e)+(Gn(e).getUTCDay()===4),t,2)}function tB(e){return e.getUTCDay()}function rB(e,t){return Ze(su.count(Gn(e)-1,e),t,2)}function nB(e,t){return Ze(e.getUTCFullYear()%100,t,2)}function iB(e,t){return e=A_(e),Ze(e.getUTCFullYear()%100,t,2)}function aB(e,t){return Ze(e.getUTCFullYear()%1e4,t,4)}function sB(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ls(e):ls.ceil(e),Ze(e.getUTCFullYear()%1e4,t,4)}function oB(){return"+0000"}function gx(){return"%"}function xx(e){return+e}function yx(e){return Math.floor(+e/1e3)}var Na,T_,O_;lB({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lB(e){return Na=lL(e),T_=Na.format,Na.parse,O_=Na.utcFormat,Na.utcParse,Na}function cB(e){return new Date(e)}function uB(e){return e instanceof Date?+e:+new Date(+e)}function am(e,t,r,n,i,a,s,o,l,c){var u=qp(),f=u.invert,h=u.domain,p=c(".%L"),v=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),b=c("%b %d"),x=c("%B"),E=c("%Y");function w(S){return(l(S)<S?p:o(S)<S?v:s(S)<S?m:a(S)<S?g:n(S)<S?i(S)<S?y:b:r(S)<S?x:E)(S)}return u.invert=function(S){return new Date(f(S))},u.domain=function(S){return arguments.length?h(Array.from(S,uB)):h().map(cB)},u.ticks=function(S){var _=h();return e(_[0],_[_.length-1],S??10)},u.tickFormat=function(S,_){return _==null?w:c(_)},u.nice=function(S){var _=h();return(!S||typeof S.range!="function")&&(S=t(_[0],_[_.length-1],S??10)),S?h(h_(_,S)):u},u.copy=function(){return Wl(u,am(e,t,r,n,i,a,s,o,l,c))},u}function fB(){return Yr.apply(am(sL,oL,qn,nm,Cf,zl,tm,Qp,Vi,T_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dB(){return Yr.apply(am(iL,aL,Gn,im,kf,Nf,rm,em,Vi,O_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Df(){var e=0,t=1,r,n,i,a,s=dr,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var p,v;return arguments.length?([p,v]=h,s=f(p,v),c):[s(0),s(1)]}}return c.range=u(Bs),c.rangeRound=u(Hp),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),c}}function Ei(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function P_(){var e=Si(Df()(dr));return e.copy=function(){return Ei(e,P_())},Zn.apply(e,arguments)}function j_(){var e=Kp(Df()).domain([1,10]);return e.copy=function(){return Ei(e,j_()).base(e.base())},Zn.apply(e,arguments)}function N_(){var e=Xp(Df());return e.copy=function(){return Ei(e,N_()).constant(e.constant())},Zn.apply(e,arguments)}function sm(){var e=Yp(Df());return e.copy=function(){return Ei(e,sm()).exponent(e.exponent())},Zn.apply(e,arguments)}function hB(){return sm.apply(null,arguments).exponent(.5)}function C_(){var e=[],t=dr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Bl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(gi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Q6(e,a/n))},r.copy=function(){return C_(t).domain(e)},Zn.apply(r,arguments)}function If(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,c=dr,u,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-a)*(n*m<n*a?o:l),c(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,i=u(e=+e),a=u(t=+t),s=u(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(c=m,p):c};function v(m){return function(g){var y,b,x;return arguments.length?([y,b,x]=g,c=A8(m,[y,b,x]),p):[c(0),c(.5),c(1)]}}return p.range=v(Bs),p.rangeRound=v(Hp),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,i=m(e),a=m(t),s=m(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p}}function k_(){var e=Si(If()(dr));return e.copy=function(){return Ei(e,k_())},Zn.apply(e,arguments)}function D_(){var e=Kp(If()).domain([.1,1,10]);return e.copy=function(){return Ei(e,D_()).base(e.base())},Zn.apply(e,arguments)}function I_(){var e=Xp(If());return e.copy=function(){return Ei(e,I_()).constant(e.constant())},Zn.apply(e,arguments)}function om(){var e=Yp(If());return e.copy=function(){return Ei(e,om()).exponent(e.exponent())},Zn.apply(e,arguments)}function pB(){return om.apply(null,arguments).exponent(.5)}const bx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qo,scaleDiverging:k_,scaleDivergingLog:D_,scaleDivergingPow:om,scaleDivergingSqrt:pB,scaleDivergingSymlog:I_,scaleIdentity:d_,scaleImplicit:t0,scaleLinear:nu,scaleLog:p_,scaleOrdinal:Up,scalePoint:ko,scalePow:Jp,scaleQuantile:g_,scaleQuantize:x_,scaleRadial:v_,scaleSequential:P_,scaleSequentialLog:j_,scaleSequentialPow:sm,scaleSequentialQuantile:C_,scaleSequentialSqrt:hB,scaleSequentialSymlog:N_,scaleSqrt:K8,scaleSymlog:m_,scaleThreshold:y_,scaleTime:fB,scaleUtc:dB,tickFormat:f_},Symbol.toStringTag,{value:"Module"}));var mB=Cs;function vB(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(o===void 0?s===s&&!mB(s):r(s,o)))var o=s,l=a}return l}var $_=vB;function gB(e,t){return e>t}var xB=gB,yB=$_,bB=xB,wB=Ls;function _B(e){return e&&e.length?yB(e,wB,bB):void 0}var SB=_B;const di=mt(SB);function EB(e,t){return e<t}var AB=EB,TB=$_,OB=AB,PB=Ls;function jB(e){return e&&e.length?TB(e,PB,OB):void 0}var NB=jB;const $f=mt(NB);var CB=wp,kB=_i,DB=Hw,IB=_r;function $B(e,t){var r=IB(e)?CB:DB;return r(e,kB(t))}var MB=$B,FB=Ww,RB=MB;function LB(e,t){return FB(RB(e,t),1)}var BB=LB;const UB=mt(BB);var WB=$p;function zB(e,t){return WB(e,t)}var HB=zB;const ra=mt(HB);var Us=1e9,qB={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cm,bt=!0,Kr="[DecimalError] ",Zi=Kr+"Invalid argument: ",lm=Kr+"Exponent out of range: ",Ws=Math.floor,Ri=Math.pow,GB=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ir,Rt=1e7,xt=7,M_=9007199254740991,ou=Ws(M_/xt),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*xt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(e){return Bn(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,r=t.constructor;return ut(Bn(t,new r(e),0,1),r.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return Pt(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ir))throw Error(Kr+"NaN");if(r.s<1)throw Error(Kr+(r.s?"NaN":"-Infinity"));return r.eq(Ir)?new n(0):(bt=!1,t=Bn(il(r,a),il(e,a),a),bt=!0,ut(t,i))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?L_(t,e):F_(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Kr+"NaN");return r.s?(bt=!1,t=Bn(r,e,0,1).times(e),bt=!0,r.minus(t)):ut(new n(r),i)};Oe.naturalExponential=Oe.exp=function(){return R_(this)};Oe.naturalLogarithm=Oe.ln=function(){return il(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?F_(t,e):L_(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Zi+e);if(t=Pt(i)+1,n=i.d.length-1,r=n*xt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Oe.squareRoot=Oe.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Kr+"NaN")}for(e=Pt(o),bt=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=xn(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ws((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(Bn(o,a,s+2)).times(.5),xn(a.d).slice(0,s)===(t=xn(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(ut(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return bt=!0,ut(n,r)};Oe.times=Oe.mul=function(e){var t,r,n,i,a,s,o,l,c,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+p[n]*h[i-n-1]+t,a[i--]=o%Rt|0,t=o/Rt|0;a[i]=(a[i]+t)%Rt|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,bt?ut(e,f.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(En(e,0,Us),t===void 0?t=n.rounding:En(t,0,8),ut(r,e+Pt(r)+1,t))};Oe.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=na(n,!0):(En(e,0,Us),t===void 0?t=i.rounding:En(t,0,8),n=ut(new i(n),e+1,t),r=na(n,!0,e+1)),r};Oe.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?na(i):(En(e,0,Us),t===void 0?t=a.rounding:En(t,0,8),n=ut(new a(i),e+Pt(i)+1,t),r=na(n.abs(),!1,e+Pt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return ut(new t(e),Pt(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Ir);if(o=new l(o),!o.s){if(e.s<1)throw Error(Kr+"Infinity");return o}if(o.eq(Ir))return o;if(n=l.precision,e.eq(Ir))return ut(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=u<0?-u:u)<=M_){for(i=new l(Ir),t=Math.ceil(n/xt+4),bt=!1;r%2&&(i=i.times(o),_x(i.d,t)),r=Ws(r/2),r!==0;)o=o.times(o),_x(o.d,t);return bt=!0,e.s<0?new l(Ir).div(i):ut(i,n)}}else if(a<0)throw Error(Kr+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,bt=!1,i=e.times(il(o,n+c)),bt=!0,i=R_(i),i.s=a,i};Oe.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Pt(i),n=na(i,r<=a.toExpNeg||r>=a.toExpPos)):(En(e,1,Us),t===void 0?t=a.rounding:En(t,0,8),i=ut(new a(i),e,t),r=Pt(i),n=na(i,e<=r||r<=a.toExpNeg,e)),n};Oe.toSignificantDigits=Oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(En(e,1,Us),t===void 0?t=n.rounding:En(t,0,8)),ut(new n(r),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pt(e),r=e.constructor;return na(e,t<=r.toExpNeg||t>=r.toExpPos)};function F_(e,t){var r,n,i,a,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),bt?ut(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/xt),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Rt|0,l[a]%=Rt;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,bt?ut(t,f):t}function En(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Zi+e)}function xn(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=xt-n.length,r&&(a+=ci(r)),a+=n;s=e[t],n=s+"",r=xt-n.length,r&&(a+=ci(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Bn=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Rt|0,s=a/Rt|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Rt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,u,f,h,p,v,m,g,y,b,x,E,w,S,_,A,O=n.constructor,C=n.s==i.s?1:-1,j=n.d,P=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(Kr+"Division by zero");for(l=n.e-i.e,_=P.length,w=j.length,p=new O(C),v=p.d=[],c=0;P[c]==(j[c]||0);)++c;if(P[c]>(j[c]||0)&&--l,a==null?b=a=O.precision:s?b=a+(Pt(n)-Pt(i))+1:b=a,b<0)return new O(0);if(b=b/xt+2|0,c=0,_==1)for(u=0,P=P[0],b++;(c<w||u)&&b--;c++)x=u*Rt+(j[c]||0),v[c]=x/P|0,u=x%P|0;else{for(u=Rt/(P[0]+1)|0,u>1&&(P=e(P,u),j=e(j,u),_=P.length,w=j.length),E=_,m=j.slice(0,_),g=m.length;g<_;)m[g++]=0;A=P.slice(),A.unshift(0),S=P[0],P[1]>=Rt/2&&++S;do u=0,o=t(P,m,_,g),o<0?(y=m[0],_!=g&&(y=y*Rt+(m[1]||0)),u=y/S|0,u>1?(u>=Rt&&(u=Rt-1),f=e(P,u),h=f.length,g=m.length,o=t(f,m,h,g),o==1&&(u--,r(f,_<h?A:P,h))):(u==0&&(o=u=1),f=P.slice()),h=f.length,h<g&&f.unshift(0),r(m,f,g),o==-1&&(g=m.length,o=t(P,m,_,g),o<1&&(u++,r(m,_<g?A:P,g))),g=m.length):o===0&&(u++,m=[0]),v[c++]=u,o&&m[0]?m[g++]=j[E]||0:(m=[j[E]],g=1);while((E++<w||m[0]!==void 0)&&b--)}return v[0]||v.shift(),p.e=l,ut(p,s?a+Pt(p)+1:a)}}();function R_(e,t){var r,n,i,a,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(Pt(e)>16)throw Error(lm+Pt(e));if(!e.s)return new u(Ir);for(t==null?(bt=!1,o=f):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(Ri(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new u(Ir),u.precision=o;;){if(i=ut(i.times(e),o),r=r.times(++l),s=a.plus(Bn(i,r,o)),xn(s.d).slice(0,o)===xn(a.d).slice(0,o)){for(;c--;)a=ut(a.times(a),o);return u.precision=f,t==null?(bt=!0,ut(a,f)):a}a=s}}function Pt(e){for(var t=e.e*xt,r=e.d[0];r>=10;r/=10)t++;return t}function zd(e,t,r){if(t>e.LN10.sd())throw bt=!0,r&&(e.precision=r),Error(Kr+"LN10 precision limit exceeded");return ut(new e(e.LN10),t)}function ci(e){for(var t="";e--;)t+="0";return t}function il(e,t){var r,n,i,a,s,o,l,c,u,f=1,h=10,p=e,v=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(Kr+(p.s?"NaN":"-Infinity"));if(p.eq(Ir))return new m(0);if(t==null?(bt=!1,c=g):c=t,p.eq(10))return t==null&&(bt=!0),zd(m,c);if(c+=h,m.precision=c,r=xn(v),n=r.charAt(0),a=Pt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=xn(p.d),n=r.charAt(0),f++;a=Pt(p),n>1?(p=new m("0."+r),a++):p=new m(n+"."+r.slice(1))}else return l=zd(m,c+2,g).times(a+""),p=il(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=g,t==null?(bt=!0,ut(p,g)):p;for(o=s=p=Bn(p.minus(Ir),p.plus(Ir),c),u=ut(p.times(p),c),i=3;;){if(s=ut(s.times(u),c),l=o.plus(Bn(s,new m(i),c)),xn(l.d).slice(0,c)===xn(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(zd(m,c+2,g).times(a+""))),o=Bn(o,new m(f),c),m.precision=g,t==null?(bt=!0,ut(o,g)):o;o=l,i+=2}}function wx(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Ws(r/xt),e.d=[],n=(r+1)%xt,r<0&&(n+=xt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=xt;n<i;)e.d.push(+t.slice(n,n+=xt));t=t.slice(n),n=xt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),bt&&(e.e>ou||e.e<-ou))throw Error(lm+r)}else e.s=0,e.e=0,e.d=[0];return e}function ut(e,t,r){var n,i,a,s,o,l,c,u,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=xt,i=t,c=f[u=0];else{if(u=Math.ceil((n+1)/xt),a=f.length,u>=a)return e;for(c=a=f[u],s=1;a>=10;a/=10)s++;n%=xt,i=n-xt+s}if(r!==void 0&&(a=Ri(10,s-i-1),o=c/a%10|0,l=t<0||f[u+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/Ri(10,s-i):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=Pt(e),f.length=1,t=t-a-1,f[0]=Ri(10,(xt-t%xt)%xt),e.e=Ws(-t/xt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=Ri(10,xt-n),f[u]=i>0?(c/Ri(10,s-i)%Ri(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Rt&&(f[0]=1,++e.e);break}else{if(f[u]+=a,f[u]!=Rt)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(bt&&(e.e>ou||e.e<-ou))throw Error(lm+Pt(e));return e}function L_(e,t){var r,n,i,a,s,o,l,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),bt?ut(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(p/xt),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Rt-1;--l[a],l[i]+=Rt}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,bt?ut(t,p):t):new h(0)}function na(e,t,r){var n,i=Pt(e),a=xn(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+ci(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ci(-i-1)+a,r&&(n=r-s)>0&&(a+=ci(n))):i>=s?(a+=ci(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+ci(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=ci(n))),e.s<0?"-"+a:a}function _x(e,t){if(e.length>t)return e.length=t,!0}function B_(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Zi+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return wx(s,a.toString())}else if(typeof a!="string")throw Error(Zi+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,GB.test(a))wx(s,a);else throw Error(Zi+a)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=B_,i.config=i.set=VB,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function VB(e){if(!e||typeof e!="object")throw Error(Kr+"Object expected");var t,r,n,i=["precision",1,Us,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Ws(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Zi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Zi+r+": "+n);return this}var cm=B_(qB);Ir=new cm(1);const ot=cm;function KB(e){return ZB(e)||JB(e)||YB(e)||XB()}function XB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YB(e,t){if(e){if(typeof e=="string")return a0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a0(e,t)}}function JB(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ZB(e){if(Array.isArray(e))return a0(e)}function a0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var QB=function(t){return t},U_={"@@functional/placeholder":!0},W_=function(t){return t===U_},Sx=function(t){return function r(){return arguments.length===0||arguments.length===1&&W_(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},e7=function e(t,r){return t===1?r:Sx(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==U_}).length;return s>=t?r.apply(void 0,i):e(t-s,Sx(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return W_(f)?l.shift():f});return r.apply(void 0,KB(u).concat(l))}))})},Mf=function(t){return e7(t.length,t)},s0=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},t7=Mf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),r7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return QB;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},o0=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},z_=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=t.apply(void 0,a)),n}};function n7(e){var t;return e===0?t=1:t=Math.floor(new ot(e).abs().log(10).toNumber())+1,t}function i7(e,t,r){for(var n=new ot(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var a7=Mf(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),s7=Mf(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),o7=Mf(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Ff={rangeStep:i7,getDigitCount:n7,interpolateNumber:a7,uninterpolateNumber:s7,uninterpolateTruncation:o7};function l0(e){return u7(e)||c7(e)||H_(e)||l7()}function l7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function u7(e){if(Array.isArray(e))return c0(e)}function al(e,t){return h7(e)||d7(e,t)||H_(e,t)||f7()}function f7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H_(e,t){if(e){if(typeof e=="string")return c0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c0(e,t)}}function c0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d7(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function h7(e){if(Array.isArray(e))return e}function q_(e){var t=al(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function G_(e,t,r){if(e.lte(0))return new ot(0);var n=Ff.getDigitCount(e.toNumber()),i=new ot(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new ot(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?l:new ot(Math.ceil(l))}function p7(e,t,r){var n=1,i=new ot(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new ot(10).pow(Ff.getDigitCount(e)-1),i=new ot(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new ot(Math.floor(e)))}else e===0?i=new ot(Math.floor((t-1)/2)):r||(i=new ot(Math.floor(e)));var s=Math.floor((t-1)/2),o=r7(t7(function(l){return i.add(new ot(l-s).mul(n)).toNumber()}),s0);return o(0,t)}function V_(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ot(0),tickMin:new ot(0),tickMax:new ot(0)};var a=G_(new ot(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new ot(0):(s=new ot(e).add(t).div(2),s=s.sub(new ot(s).mod(a)));var o=Math.ceil(s.sub(e).div(a).toNumber()),l=Math.ceil(new ot(t).sub(s).div(a).toNumber()),c=o+l+1;return c>r?V_(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:a,tickMin:s.sub(new ot(o).mul(a)),tickMax:s.add(new ot(l).mul(a))})}function m7(e){var t=al(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=q_([r,n]),l=al(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(l0(s0(0,i-1).map(function(){return 1/0}))):[].concat(l0(s0(0,i-1).map(function(){return-1/0})),[u]);return r>n?o0(f):f}if(c===u)return p7(c,i,a);var h=V_(c,u,s,a),p=h.step,v=h.tickMin,m=h.tickMax,g=Ff.rangeStep(v,m.add(new ot(.1).mul(p)),p);return r>n?o0(g):g}function v7(e,t){var r=al(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=q_([n,i]),o=al(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(t,2),f=G_(new ot(c).sub(l).div(u-1),a,0),h=[].concat(l0(Ff.rangeStep(new ot(l),new ot(c).sub(new ot(.99).mul(f)),f)),[c]);return n>i?o0(h):h}var g7=z_(m7),x7=z_(v7),y7="Invariant failed";function ia(e,t){throw new Error(y7)}var b7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cs(e){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lu.apply(this,arguments)}function w7(e,t){return A7(e)||E7(e,t)||S7(e,t)||_7()}function _7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S7(e,t){if(e){if(typeof e=="string")return Ex(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ex(e,t)}}function Ex(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function A7(e){if(Array.isArray(e))return e}function T7(e,t){if(e==null)return{};var r=O7(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function P7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y_(n.key),n)}}function N7(e,t,r){return t&&j7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C7(e,t,r){return t=cu(t),k7(e,K_()?Reflect.construct(t,r||[],cu(e).constructor):t.apply(e,r))}function k7(e,t){if(t&&(cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D7(e)}function D7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K_=function(){return!!e})()}function cu(e){return cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cu(e)}function I7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u0(e,t)}function u0(e,t){return u0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u0(e,t)}function X_(e,t,r){return t=Y_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y_(e){var t=$7(e,"string");return cs(t)=="symbol"?t:t+""}function $7(e,t){if(cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zs=function(e){function t(){return P7(this,t),C7(this,t,arguments)}return I7(t,e),N7(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=T7(n,b7),p=Ie(h,!1);this.props.direction==="x"&&u.type!=="number"&&ia();var v=l.map(function(m){var g=c(m,o),y=g.x,b=g.y,x=g.value,E=g.errorVal;if(!E)return null;var w=[],S,_;if(Array.isArray(E)){var A=w7(E,2);S=A[0],_=A[1]}else S=_=E;if(a==="vertical"){var O=u.scale,C=b+i,j=C+s,P=C-s,U=O(x-S),q=O(x+_);w.push({x1:q,y1:j,x2:q,y2:P}),w.push({x1:U,y1:C,x2:q,y2:C}),w.push({x1:U,y1:j,x2:U,y2:P})}else if(a==="horizontal"){var H=f.scale,Z=y+i,te=Z-s,se=Z+s,oe=H(x-S),me=H(x+_);w.push({x1:te,y1:me,x2:se,y2:me}),w.push({x1:Z,y1:oe,x2:Z,y2:me}),w.push({x1:te,y1:oe,x2:se,y2:oe})}return L.createElement(et,lu({className:"recharts-errorBar",key:"bar-".concat(w.map(function(_e){return"".concat(_e.x1,"-").concat(_e.x2,"-").concat(_e.y1,"-").concat(_e.y2)}))},p),w.map(function(_e){return L.createElement("line",lu({},_e,{key:"line-".concat(_e.x1,"-").concat(_e.x2,"-").concat(_e.y1,"-").concat(_e.y2)}))}))});return L.createElement(et,{className:"recharts-errorBars"},v)}}])}(L.Component);X_(zs,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});X_(zs,"displayName","ErrorBar");function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function Ax(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ax(Object(r),!0).forEach(function(n){M7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ax(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M7(e,t,r){return t=F7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F7(e){var t=R7(e,"string");return sl(t)=="symbol"?t:t+""}function R7(e,t){if(sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J_=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=Nr(r,Yi);if(!s)return null;var o=Yi.defaultProps,l=o!==void 0?ki(ki({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return u.concat(v.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?ki(ki({},h),f.props):{},v=p.dataKey,m=p.name,g=p.legendType,y=p.hide;return{inactive:y,dataKey:v,type:l.iconType||g||"square",color:um(f),value:m||v,payload:p}}),ki(ki(ki({},l),Yi.getWithHeight(s,i)),{},{payload:c,item:s})};function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function Tx(e){return W7(e)||U7(e)||B7(e)||L7()}function L7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B7(e,t){if(e){if(typeof e=="string")return f0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f0(e,t)}}function U7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W7(e){if(Array.isArray(e))return f0(e)}function f0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ox(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ox(Object(r),!0).forEach(function(n){Ka(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ox(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ka(e,t,r){return t=z7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z7(e){var t=H7(e,"string");return ol(t)=="symbol"?t:t+""}function H7(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function It(e,t,r){return $e(e)||$e(t)?r:Dt(t)?Vr(e,t,r):Fe(t)?t(e):r}function Do(e,t,r,n){var i=UB(e,function(o){return It(o,t)});if(r==="number"){var a=i.filter(function(o){return ge(o)||parseFloat(o)});return a.length?[$f(a),di(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!$e(o)}):i;return s.map(function(o){return Dt(o)||o instanceof Date?o:""})}var q7=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(ln(f-u)!==ln(h-f)){var v=[];if(ln(h-f)===ln(l[1]-l[0])){p=h;var m=f+l[1]-l[0];v[0]=Math.min(m,(m+u)/2),v[1]=Math.max(m,(m+u)/2)}else{p=u;var g=h+l[1]-l[0];v[0]=Math.min(f,(g+f)/2),v[1]=Math.max(f,(g+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=v[0]&&t<=v[1]){s=i[c].index;break}}else{var b=Math.min(u,h),x=Math.max(u,h);if(t>(b+f)/2&&t<=(x+f)/2){s=i[c].index;break}}}else for(var E=0;E<o;E++)if(E===0&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<o-1&&t>(n[E].coordinate+n[E-1].coordinate)/2&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E===o-1&&t>(n[E].coordinate+n[E-1].coordinate)/2){s=n[E].index;break}return s},um=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?wt(wt({},t.type.defaultProps),t.props):t.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},G7=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var v=u[f[h]],m=v.items,g=v.cateAxisId,y=m.filter(function(_){return Rn(_.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,x=b!==void 0?wt(wt({},b),y[0].props):y[0].props,E=x.barSize,w=x[g];s[w]||(s[w]=[]);var S=$e(E)?r:E;s[w].push({item:y[0],stackList:y.slice(1),barSize:$e(S)?void 0:ta(S,n,0)})}}return s},V7=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=ta(r,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,v=s.reduce(function(E,w){return E+w.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&p>0&&(h=!0,p*=.9,v=l*p);var m=(i-v)/2>>0,g={offset:m-c,size:0};u=s.reduce(function(E,w){var S={item:w.item,position:{offset:g.offset+g.size+c,size:h?p:w.barSize}},_=[].concat(Tx(E),[S]);return g=_[_.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){_.push({item:A,position:g})}),_},f)}else{var y=ta(n,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var b=(i-2*y-(l-1)*c)/l;b>1&&(b>>=0);var x=o===+o?Math.min(b,o):b;u=s.reduce(function(E,w,S){var _=[].concat(Tx(E),[{item:w.item,position:{offset:y+(b+c)*S+(b-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){_.push({item:A,position:_[_.length-1].position})}),_},f)}return u},K7=function(t,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=J_({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,p=c.align,v=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&ge(t[p]))return wt(wt({},t),{},Ka({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&ge(t[v]))return wt(wt({},t),{},Ka({},v,t[v]+(h||0)))}return t},X7=function(t,r,n){return $e(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Z_=function(t,r,n,i,a){var s=r.props.children,o=xr(s,zs).filter(function(c){return X7(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=It(u,n);if($e(f))return c;var h=Array.isArray(f)?[$f(f),di(f)]:[f,f],p=l.reduce(function(v,m){var g=It(u,m,0),y=h[0]-Math.abs(Array.isArray(g)?g[0]:g),b=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Y7=function(t,r,n,i,a){var s=r.map(function(o){return Z_(t,o,n,a,i)}).filter(function(o){return!$e(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},Q_=function(t,r,n,i,a){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&Z_(t,l,c,i)||Do(t,c,n,a)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},e2=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},t2=function(t,r,n,i){if(i)return t.map(function(l){return l.coordinate});var a,s,o=t.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},Fn=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ln(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!Ms(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},Hd=new WeakMap,gc=function(t,r){if(typeof r!="function")return t;Hd.has(t)||Hd.set(t,new WeakMap);var n=Hd.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},J7=function(t,r,n){var i=t.scale,a=t.type,s=t.layout,o=t.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Qo(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:nu(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ko(),realScaleType:"point"}:a==="category"?{scale:Qo(),realScaleType:"band"}:{scale:nu(),realScaleType:"linear"};if(Rl(i)){var l="scale".concat(wf(i));return{scale:(bx[l]||ko)(),realScaleType:bx[l]?l:"point"}}return Fe(i)?{scale:i}:{scale:ko(),realScaleType:"point"}},Px=1e-4,Z7=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-Px,s=Math.max(i[0],i[1])+Px,o=t(r[0]),l=t(r[n-1]);(o<a||o>s||l<a||l>s)&&t.domain([r[0],r[n-1]])}},Q7=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},e9=function(t,r){if(!r||r.length!==2||!ge(r[0])||!ge(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!ge(t[0])||t[0]<n)&&(a[0]=n),(!ge(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},t9=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=Ms(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},r9=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=Ms(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},n9={sign:t9,expand:gk,none:ts,silhouette:xk,wiggle:yk,positive:r9},i9=function(t,r,n){var i=r.map(function(o){return o.props.dataKey}),a=n9[n],s=vk().keys(i).value(function(o,l){return+It(o,l,0)}).order(Mh).offset(a);return s(t)},a9=function(t,r,n,i,a,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?wt(wt({},h.type.defaultProps),h.props):h.props,m=v.stackId,g=v.hide;if(g)return f;var y=v[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(Dt(m)){var x=b.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[m]=x}else b.stackGroups[da("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return wt(wt({},f),{},Ka({},y,b))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var y=p.stackGroups[g];return wt(wt({},m),{},Ka({},g,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:i9(t,y.items,a)}))},v)}return wt(wt({},f),{},Ka({},h,p))},u)},s9=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=g7(c,a,o);return t.domain([$f(u),di(u)]),{niceTicks:u}}if(a&&i==="number"){var f=t.domain(),h=x7(f,a,o);return{niceTicks:h}}return null};function us(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!$e(i[t.dataKey])){var o=$c(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=It(i,$e(s)?t.dataKey:s);return $e(l)?null:t.scale(l)}var jx=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=It(s,r.dataKey,r.domain[o]);return $e(l)?null:r.scale(l)-a/2+i},o9=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},l9=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?wt(wt({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Dt(a)){var s=r[a];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},c9=function(t){return t.reduce(function(r,n){return[$f(n.concat([r[0]]).filter(ge)),di(n.concat([r[1]]).filter(ge))]},[1/0,-1/0])},r2=function(t,r,n){return Object.keys(t).reduce(function(i,a){var s=t[a],o=s.stackedData,l=o.reduce(function(c,u){var f=c9(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Nx=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cx=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,d0=function(t,r,n){if(Fe(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(ge(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(Nx.test(t[0])){var a=+Nx.exec(t[0])[1];i[0]=r[0]-a}else Fe(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(ge(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(Cx.test(t[1])){var s=+Cx.exec(t[1])[1];i[1]=r[1]+s}else Fe(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},uu=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=Fp(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},kx=function(t,r,n){return!t||!t.length||ra(t,Vr(n,"type.defaultProps.domain"))?r:t},n2=function(t,r){var n=t.type.defaultProps?wt(wt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return wt(wt({},Ie(t,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:um(t),value:It(r,i),type:l,payload:r,chartType:c,hide:u})};function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function Dx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ix(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dx(Object(r),!0).forEach(function(n){u9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u9(e,t,r){return t=f9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f9(e){var t=d9(e,"string");return ll(t)=="symbol"?t:t+""}function d9(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fu=Math.PI/180,h9=function(t){return t*180/Math.PI},Xt=function(t,r,n,i){return{x:t+Math.cos(-fu*i)*n,y:r+Math.sin(-fu*i)*n}},p9=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},m9=function(t,r){var n=t.x,i=t.y,a=r.cx,s=r.cy,o=p9({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:h9(c),angleInRadian:c}},v9=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},g9=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return t+o*360},$x=function(t,r){var n=t.x,i=t.y,a=m9({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=v9(r),f=u.startAngle,h=u.endAngle,p=o,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?Ix(Ix({},r),{},{radius:s,angle:g9(p,r)}):null};function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}var x9=["offset"];function y9(e){return S9(e)||_9(e)||w9(e)||b9()}function b9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w9(e,t){if(e){if(typeof e=="string")return h0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h0(e,t)}}function _9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S9(e){if(Array.isArray(e))return h0(e)}function h0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E9(e,t){if(e==null)return{};var r=A9(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mx(Object(r),!0).forEach(function(n){T9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T9(e,t,r){return t=O9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O9(e){var t=P9(e,"string");return cl(t)=="symbol"?t:t+""}function P9(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ul(){return ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ul.apply(this,arguments)}var j9=function(t){var r=t.value,n=t.formatter,i=$e(t.children)?r:t.children;return Fe(n)?n(i):i},N9=function(t,r){var n=ln(r-t),i=Math.min(Math.abs(r-t),360);return n*i},C9=function(t,r,n){var i=t.position,a=t.viewBox,s=t.offset,o=t.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,v=l.endAngle,m=l.clockWise,g=(f+h)/2,y=N9(p,v),b=y>=0?1:-1,x,E;i==="insideStart"?(x=p+b*s,E=m):i==="insideEnd"?(x=v-b*s,E=!m):i==="end"&&(x=v+b*s,E=m),E=y<=0?E:!E;var w=Xt(c,u,g,x),S=Xt(c,u,g,x+(E?1:-1)*359),_="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(E?0:1,`,
    `).concat(S.x,",").concat(S.y),A=$e(t.id)?da("recharts-radial-line-"):t.id;return L.createElement("text",ul({},n,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",o)}),L.createElement("defs",null,L.createElement("path",{id:A,d:_})),L.createElement("textPath",{xlinkHref:"#".concat(A)},r))},k9=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,h=(u+f)/2;if(i==="outside"){var p=Xt(s,o,c+n,h),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,y=Xt(s,o,g,h),b=y.x,x=y.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},D9=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*i,p=f>0?"end":"start",v=f>0?"start":"end",m=c>=0?1:-1,g=m*i,y=m>0?"end":"start",b=m>0?"start":"end";if(a==="top"){var x={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Ct(Ct({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var E={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:v};return Ct(Ct({},E),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var w={x:o-g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Ct(Ct({},w),n?{width:Math.max(w.x-n.x,0),height:u}:{})}if(a==="right"){var S={x:o+c+g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Ct(Ct({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:u}:{})}var _=n?{width:c,height:u}:{};return a==="insideLeft"?Ct({x:o+g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideRight"?Ct({x:o+c-g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},_):a==="insideTop"?Ct({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:v},_):a==="insideBottom"?Ct({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},_):a==="insideTopLeft"?Ct({x:o+g,y:l+h,textAnchor:b,verticalAnchor:v},_):a==="insideTopRight"?Ct({x:o+c-g,y:l+h,textAnchor:y,verticalAnchor:v},_):a==="insideBottomLeft"?Ct({x:o+g,y:l+u-h,textAnchor:b,verticalAnchor:p},_):a==="insideBottomRight"?Ct({x:o+c-g,y:l+u-h,textAnchor:y,verticalAnchor:p},_):ks(a)&&(ge(a.x)||qi(a.x))&&(ge(a.y)||qi(a.y))?Ct({x:o+ta(a.x,c),y:l+ta(a.y,u),textAnchor:"end",verticalAnchor:"end"},_):Ct({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},I9=function(t){return"cx"in t&&ge(t.cx)};function Gt(e){var t=e.offset,r=t===void 0?5:t,n=E9(e,x9),i=Ct({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!a||$e(o)&&$e(l)&&!W.isValidElement(c)&&!Fe(c))return null;if(W.isValidElement(c))return W.cloneElement(c,i);var p;if(Fe(c)){if(p=W.createElement(c,i),W.isValidElement(p))return p}else p=j9(i);var v=I9(a),m=Ie(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return C9(i,p,m);var g=v?k9(i):D9(i);return L.createElement(Yc,ul({className:Ke("recharts-label",f)},m,g,{breakAll:h}),p)}Gt.displayName="Label";var i2=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,p=t.top,v=t.left,m=t.width,g=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(ge(m)&&ge(g)){if(ge(f)&&ge(h))return{x:f,y:h,width:m,height:g};if(ge(p)&&ge(v))return{x:p,y:v,width:m,height:g}}return ge(f)&&ge(h)?{x:f,y:h,width:0,height:0}:ge(r)&&ge(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},$9=function(t,r){return t?t===!0?L.createElement(Gt,{key:"label-implicit",viewBox:r}):Dt(t)?L.createElement(Gt,{key:"label-implicit",viewBox:r,value:t}):W.isValidElement(t)?t.type===Gt?W.cloneElement(t,{key:"label-implicit",viewBox:r}):L.createElement(Gt,{key:"label-implicit",content:t,viewBox:r}):Fe(t)?L.createElement(Gt,{key:"label-implicit",content:t,viewBox:r}):ks(t)?L.createElement(Gt,ul({viewBox:r},t,{key:"label-implicit"})):null:null},M9=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=i2(t),s=xr(i,Gt).map(function(l,c){return W.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return s;var o=$9(t.label,r||a);return[o].concat(y9(s))};Gt.parseViewBox=i2;Gt.renderCallByParent=M9;function F9(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var R9=F9;const L9=mt(R9);function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}var B9=["valueAccessor"],U9=["data","dataKey","clockWise","id","textBreakAll"];function W9(e){return G9(e)||q9(e)||H9(e)||z9()}function z9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H9(e,t){if(e){if(typeof e=="string")return p0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p0(e,t)}}function q9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G9(e){if(Array.isArray(e))return p0(e)}function p0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},du.apply(this,arguments)}function Fx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fx(Object(r),!0).forEach(function(n){V9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V9(e,t,r){return t=K9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K9(e){var t=X9(e,"string");return fl(t)=="symbol"?t:t+""}function X9(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lx(e,t){if(e==null)return{};var r=Y9(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var J9=function(t){return Array.isArray(t.value)?L9(t.value):t.value};function _n(e){var t=e.valueAccessor,r=t===void 0?J9:t,n=Lx(e,B9),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=Lx(n,U9);return!i||!i.length?null:L.createElement(et,{className:"recharts-label-list"},i.map(function(u,f){var h=$e(a)?r(u,f):It(u&&u.payload,a),p=$e(o)?{}:{id:"".concat(o,"-").concat(f)};return L.createElement(Gt,du({},Ie(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Gt.parseViewBox($e(s)?u:Rx(Rx({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}_n.displayName="LabelList";function Z9(e,t){return e?e===!0?L.createElement(_n,{key:"labelList-implicit",data:t}):L.isValidElement(e)||Fe(e)?L.createElement(_n,{key:"labelList-implicit",data:t,content:e}):ks(e)?L.createElement(_n,du({data:t},e,{key:"labelList-implicit"})):null:null}function Q9(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=xr(n,_n).map(function(s,o){return W.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return i;var a=Z9(e.label,t);return[a].concat(W9(i))}_n.renderCallByParent=Q9;function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m0.apply(this,arguments)}function Bx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ux(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bx(Object(r),!0).forEach(function(n){eU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eU(e,t,r){return t=tU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tU(e){var t=rU(e,"string");return dl(t)=="symbol"?t:t+""}function rU(e,t){if(dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nU=function(t,r){var n=ln(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},xc=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/fu,h=c?a:a+s*f,p=Xt(r,n,u,h),v=Xt(r,n,i,h),m=c?a-s*f:a,g=Xt(r,n,u*Math.cos(f*fu),m);return{center:p,circleTangency:v,lineTangency:g,theta:f}},a2=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,o=t.endAngle,l=nU(s,o),c=s+l,u=Xt(r,n,a,s),f=Xt(r,n,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Xt(r,n,i,s),v=Xt(r,n,i,c);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},iU=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=ln(u-c),h=xc({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,v=h.lineTangency,m=h.theta,g=xc({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=g.circleTangency,b=g.lineTangency,x=g.theta,E=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(E<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):a2({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var S=xc({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=S.circleTangency,A=S.lineTangency,O=S.theta,C=xc({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=C.circleTangency,P=C.lineTangency,U=C.theta,q=l?Math.abs(c-u):Math.abs(c-u)-O-U;if(q<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},aU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},s2=function(t){var r=Ux(Ux({},aU),t),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(s<a||u===f)return null;var p=Ke("recharts-sector",h),v=s-a,m=ta(o,v,0,!0),g;return m>0&&Math.abs(u-f)<360?g=iU({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):g=a2({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f}),L.createElement("path",m0({},Ie(r,!0),{className:p,d:g,role:"img"}))};function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v0.apply(this,arguments)}function Wx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wx(Object(r),!0).forEach(function(n){sU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sU(e,t,r){return t=oU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oU(e){var t=lU(e,"string");return hl(t)=="symbol"?t:t+""}function lU(e,t){if(hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hx={curveBasisClosed:ak,curveBasisOpen:sk,curveBasis:ik,curveBumpX:H4,curveBumpY:q4,curveLinearClosed:ok,curveLinear:Sf,curveMonotoneX:lk,curveMonotoneY:ck,curveNatural:uk,curveStep:fk,curveStepAfter:hk,curveStepBefore:dk},yc=function(t){return t.x===+t.x&&t.y===+t.y},mo=function(t){return t.x},vo=function(t){return t.y},cU=function(t,r){if(Fe(t))return t;var n="curve".concat(wf(t));return(n==="curveMonotone"||n==="curveBump")&&r?Hx["".concat(n).concat(r==="vertical"?"Y":"X")]:Hx[n]||Sf},uU=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=cU(n,o),f=c?a.filter(function(m){return yc(m)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(m){return yc(m)}):s,v=f.map(function(m,g){return zx(zx({},m),{},{base:p[g]})});return o==="vertical"?h=cc().y(vo).x1(mo).x0(function(m){return m.base.x}):h=cc().x(mo).y1(vo).y0(function(m){return m.base.y}),h.defined(yc).curve(u),h(v)}return o==="vertical"&&ge(s)?h=cc().y(vo).x1(mo).x0(s):ge(s)?h=cc().x(mo).y1(vo).y0(s):h=ow().x(mo).y(vo),h.defined(yc).curve(u),h(f)},Qi=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?uU(t):i;return L.createElement("path",v0({},Ie(t,!1),Mc(t),{className:Ke("recharts-curve",r),d:s,ref:a}))},o2={exports:{}},fU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dU=fU,hU=dU;function l2(){}function c2(){}c2.resetWarningCache=l2;var pU=function(){function e(n,i,a,s,o,l){if(l!==hU){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c2,resetWarningCache:l2};return r.PropTypes=r,r};o2.exports=pU();var Hl=o2.exports;const tt=mt(Hl);var mU=Object.getOwnPropertyNames,vU=Object.getOwnPropertySymbols,gU=Object.prototype.hasOwnProperty;function qx(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function bc(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=e(r,n,i);return a.delete(r),a.delete(n),l}}function Gx(e){return mU(e).concat(vU(e))}var xU=Object.hasOwn||function(e,t){return gU.call(e,t)};function ma(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var yU="__v",bU="__o",wU="_owner",Vx=Object.getOwnPropertyDescriptor,Kx=Object.keys;function _U(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function SU(e,t){return ma(e.getTime(),t.getTime())}function EU(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function AU(e,t){return e===t}function Xx(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var c=t.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(i[f]){f++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var TU=ma;function OU(e,t,r){var n=Kx(e),i=n.length;if(Kx(t).length!==i)return!1;for(;i-- >0;)if(!u2(e,t,r,n[i]))return!1;return!0}function go(e,t,r){var n=Gx(e),i=n.length;if(Gx(t).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!u2(e,t,r,a)||(s=Vx(e,a),o=Vx(t,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function PU(e,t){return ma(e.valueOf(),t.valueOf())}function jU(e,t){return e.source===t.source&&e.flags===t.flags}function Yx(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),s,o;(s=a.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function NU(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function CU(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function u2(e,t,r,n){return(n===wU||n===bU||n===yU)&&(e.$$typeof||t.$$typeof)?!0:xU(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var kU="[object Arguments]",DU="[object Boolean]",IU="[object Date]",$U="[object Error]",MU="[object Map]",FU="[object Number]",RU="[object Object]",LU="[object RegExp]",BU="[object Set]",UU="[object String]",WU="[object URL]",zU=Array.isArray,Jx=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Zx=Object.assign,HU=Object.prototype.toString.call.bind(Object.prototype.toString);function qU(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,m,g){if(v===m)return!0;if(v==null||m==null)return!1;var y=typeof v;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?s(v,m,g):y==="function"?i(v,m,g):!1;var b=v.constructor;if(b!==m.constructor)return!1;if(b===Object)return o(v,m,g);if(zU(v))return t(v,m,g);if(Jx!=null&&Jx(v))return f(v,m,g);if(b===Date)return r(v,m,g);if(b===RegExp)return c(v,m,g);if(b===Map)return a(v,m,g);if(b===Set)return u(v,m,g);var x=HU(v);return x===IU?r(v,m,g):x===LU?c(v,m,g):x===MU?a(v,m,g):x===BU?u(v,m,g):x===RU?typeof v.then!="function"&&typeof m.then!="function"&&o(v,m,g):x===WU?h(v,m,g):x===$U?n(v,m,g):x===kU?o(v,m,g):x===DU||x===FU||x===UU?l(v,m,g):!1}}function GU(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?go:_U,areDatesEqual:SU,areErrorsEqual:EU,areFunctionsEqual:AU,areMapsEqual:n?qx(Xx,go):Xx,areNumbersEqual:TU,areObjectsEqual:n?go:OU,arePrimitiveWrappersEqual:PU,areRegExpsEqual:jU,areSetsEqual:n?qx(Yx,go):Yx,areTypedArraysEqual:n?go:NU,areUrlsEqual:CU};if(r&&(i=Zx({},i,r(i))),t){var a=bc(i.areArraysEqual),s=bc(i.areMapsEqual),o=bc(i.areObjectsEqual),l=bc(i.areSetsEqual);i=Zx({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function VU(e){return function(t,r,n,i,a,s,o){return e(t,r,o)}}function KU(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,p=u.meta;return r(l,c,{cache:h,equals:i,meta:p,strict:a})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,s)}}var XU=Ai();Ai({strict:!0});Ai({circular:!0});Ai({circular:!0,strict:!0});Ai({createInternalComparator:function(){return ma}});Ai({strict:!0,createInternalComparator:function(){return ma}});Ai({circular:!0,createInternalComparator:function(){return ma}});Ai({circular:!0,createInternalComparator:function(){return ma},strict:!0});function Ai(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,s=a===void 0?!1:a,o=GU(e),l=qU(o),c=n?n(l):VU(l);return KU({circular:r,comparator:l,createState:i,equals:c,strict:s})}function YU(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Qx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):YU(i)};requestAnimationFrame(n)}function g0(e){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g0(e)}function JU(e){return tW(e)||eW(e)||QU(e)||ZU()}function ZU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QU(e,t){if(e){if(typeof e=="string")return ey(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ey(e,t)}}function ey(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tW(e){if(Array.isArray(e))return e}function rW(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=JU(s),l=o[0],c=o.slice(1);if(typeof l=="number"){Qx(i.bind(null,c),l);return}i(l),Qx(i.bind(null,c));return}g0(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function ty(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ry(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ty(Object(r),!0).forEach(function(n){f2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ty(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f2(e,t,r){return t=nW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nW(e){var t=iW(e,"string");return pl(t)==="symbol"?t:String(t)}function iW(e,t){if(pl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aW=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},sW=function(t){return t},oW=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Io=function(t,r){return Object.keys(r).reduce(function(n,i){return ry(ry({},n),{},f2({},i,t(i,r[i])))},{})},ny=function(t,r,n){return t.map(function(i){return"".concat(oW(i)," ").concat(r,"ms ").concat(n)}).join(",")};function lW(e,t){return fW(e)||uW(e,t)||d2(e,t)||cW()}function cW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function fW(e){if(Array.isArray(e))return e}function dW(e){return mW(e)||pW(e)||d2(e)||hW()}function hW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d2(e,t){if(e){if(typeof e=="string")return x0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x0(e,t)}}function pW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mW(e){if(Array.isArray(e))return x0(e)}function x0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hu=1e-4,h2=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},p2=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},iy=function(t,r){return function(n){var i=h2(t,r);return p2(i,n)}},vW=function(t,r){return function(n){var i=h2(t,r),a=[].concat(dW(i.map(function(s,o){return s*o}).slice(1)),[0]);return p2(a,n)}},ay=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=lW(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var f=iy(i,s),h=iy(a,o),p=vW(i,s),v=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,x=b,E=0;E<8;++E){var w=f(x)-b,S=p(x);if(Math.abs(w-b)<hu||S<hu)return h(x);x=v(x-w/S)}return h(x)};return m.isStepper=!1,m},gW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,s=t.dt,o=s===void 0?17:s,l=function(u,f,h){var p=-(u-f)*n,v=h*a,m=h+(p-v)*o/1e3,g=h*o/1e3+u;return Math.abs(g-f)<hu&&Math.abs(m)<hu?[f,0]:[g,m]};return l.isStepper=!0,l.dt=o,l},xW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ay(i);case"spring":return gW();default:if(i.split("(")[0]==="cubic-bezier")return ay(i)}return typeof i=="function"?i:null};function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function sy(e){return wW(e)||bW(e)||m2(e)||yW()}function yW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wW(e){if(Array.isArray(e))return b0(e)}function oy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oy(Object(r),!0).forEach(function(n){y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y0(e,t,r){return t=_W(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _W(e){var t=SW(e,"string");return ml(t)==="symbol"?t:String(t)}function SW(e,t){if(ml(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ml(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EW(e,t){return OW(e)||TW(e,t)||m2(e,t)||AW()}function AW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m2(e,t){if(e){if(typeof e=="string")return b0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b0(e,t)}}function b0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function OW(e){if(Array.isArray(e))return e}var pu=function(t,r,n){return t+(r-t)*n},w0=function(t){var r=t.from,n=t.to;return r!==n},PW=function e(t,r,n){var i=Io(function(a,s){if(w0(s)){var o=t(s.from,s.to,s.velocity),l=EW(o,2),c=l[0],u=l[1];return Ht(Ht({},s),{},{from:c,velocity:u})}return s},r);return n<1?Io(function(a,s){return w0(s)?Ht(Ht({},s),{},{velocity:pu(s.velocity,i[a].velocity,n),from:pu(s.from,i[a].from,n)}):s},r):e(t,i,n-1)};const jW=function(e,t,r,n,i){var a=aW(e,t),s=a.reduce(function(g,y){return Ht(Ht({},g),{},y0({},y,[e[y],t[y]]))},{}),o=a.reduce(function(g,y){return Ht(Ht({},g),{},y0({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Io(function(y,b){return b.from},o)},p=function(){return!Object.values(o).filter(w0).length},v=function(y){c||(c=y);var b=y-c,x=b/r.dt;o=PW(r,o,x),i(Ht(Ht(Ht({},e),t),h())),c=y,p()||(l=requestAnimationFrame(f))},m=function(y){u||(u=y);var b=(y-u)/n,x=Io(function(w,S){return pu.apply(void 0,sy(S).concat([r(b)]))},s);if(i(Ht(Ht(Ht({},e),t),x)),b<1)l=requestAnimationFrame(f);else{var E=Io(function(w,S){return pu.apply(void 0,sy(S).concat([r(1)]))},s);i(Ht(Ht(Ht({},e),t),E))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function fs(e){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}var NW=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function CW(e,t){if(e==null)return{};var r=kW(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kW(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function qd(e){return MW(e)||$W(e)||IW(e)||DW()}function DW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IW(e,t){if(e){if(typeof e=="string")return _0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _0(e,t)}}function $W(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MW(e){if(Array.isArray(e))return _0(e)}function _0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ly(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ly(Object(r),!0).forEach(function(n){To(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ly(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function To(e,t,r){return t=v2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v2(n.key),n)}}function LW(e,t,r){return t&&RW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v2(e){var t=BW(e,"string");return fs(t)==="symbol"?t:String(t)}function BW(e,t){if(fs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S0(e,t)}function S0(e,t){return S0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S0(e,t)}function WW(e){var t=zW();return function(){var n=mu(e),i;if(t){var a=mu(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return E0(this,i)}}function E0(e,t){if(t&&(fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A0(e)}function A0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zW(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mu(e){return mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mu(e)}var dn=function(e){UW(r,e);var t=WW(r);function r(n,i){var a;FW(this,r),a=t.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(A0(a)),a.changeStyle=a.changeStyle.bind(A0(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),E0(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},E0(a);a.state={style:l?To({},l,c):c}}else a.state={style:{}};return a}return LW(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:l?To({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(XU(i.to,u)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||c?f:i.to;if(this.state&&h){var g={style:l?To({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(g)}this.runAnimation(Zr(Zr({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=jW(s,o,xW(c),l,this.changeStyle),v=function(){a.stopJSAnimation=p()};this.manager.start([h,u,v,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(m,g,y){if(y===0)return m;var b=g.duration,x=g.easing,E=x===void 0?"ease":x,w=g.style,S=g.properties,_=g.onAnimationEnd,A=y>0?s[y-1]:g,O=S||Object.keys(w);if(typeof E=="function"||E==="spring")return[].concat(qd(m),[a.runJSAnimation.bind(a,{from:A.style,to:w,duration:b,easing:E}),b]);var C=ny(O,b,E),j=Zr(Zr(Zr({},A.style),w),{},{transition:C});return[].concat(qd(m),[j,b,_]).filter(sW)};return this.manager.start([l].concat(qd(s.reduce(p,[u,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=rW());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=o?To({},o,l):l,g=ny(Object.keys(m),s,c);v.start([u,a,Zr(Zr({},m),{},{transition:g}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=CW(i,NW),c=W.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var f=function(p){var v=p.props,m=v.style,g=m===void 0?{}:m,y=v.className,b=W.cloneElement(p,Zr(Zr({},l),{},{style:Zr(Zr({},g),u),className:y}));return b};return c===1?f(W.Children.only(a)):L.createElement("div",null,W.Children.map(a,function(h){return f(h)}))}}]),r}(W.PureComponent);dn.displayName="Animate";dn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};dn.propTypes={from:tt.oneOfType([tt.object,tt.string]),to:tt.oneOfType([tt.object,tt.string]),attributeName:tt.string,duration:tt.number,begin:tt.number,easing:tt.oneOfType([tt.string,tt.func]),steps:tt.arrayOf(tt.shape({duration:tt.number.isRequired,style:tt.object.isRequired,easing:tt.oneOfType([tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tt.func]),properties:tt.arrayOf("string"),onAnimationEnd:tt.func})),children:tt.oneOfType([tt.node,tt.func]),isActive:tt.bool,canBegin:tt.bool,onAnimationEnd:tt.func,shouldReAnimate:tt.bool,onAnimationStart:tt.func,onAnimationReStart:tt.func};function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vu.apply(this,arguments)}function HW(e,t){return KW(e)||VW(e,t)||GW(e,t)||qW()}function qW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GW(e,t){if(e){if(typeof e=="string")return cy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cy(e,t)}}function cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function KW(e){if(Array.isArray(e))return e}function uy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uy(Object(r),!0).forEach(function(n){XW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XW(e,t,r){return t=YW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YW(e){var t=JW(e,"string");return vl(t)=="symbol"?t:t+""}function JW(e,t){if(vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dy=function(t,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];u="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*f[1])),u+="L ".concat(t+n,",").concat(r+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+i)),u+="L ".concat(t+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+i-o*f[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);u="M ".concat(t,",").concat(r+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+l*v,",").concat(r,`
            L `).concat(t+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*v,`
            L `).concat(t+n,",").concat(r+i-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n-l*v,",").concat(r+i,`
            L `).concat(t+l*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t,",").concat(r+i-o*v," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},ZW=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&i>=f&&i<=h}return!1},QW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fm=function(t){var r=fy(fy({},QW),t),n=W.useRef(),i=W.useState(-1),a=HW(i,2),s=a[0],o=a[1];W.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&o(E)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var x=Ke("recharts-rectangle",p);return b?L.createElement(dn,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:m,animationEasing:v,isActive:b},function(E){var w=E.width,S=E.height,_=E.x,A=E.y;return L.createElement(dn,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:y,easing:v},L.createElement("path",vu({},Ie(r,!0),{className:x,d:dy(_,A,w,S,h),ref:n})))}):L.createElement("path",vu({},Ie(r,!0),{className:x,d:dy(l,c,u,f,h)}))};function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(this,arguments)}var Rf=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,s=Ke("recharts-dot",a);return r===+r&&n===+n&&i===+i?L.createElement("circle",T0({},Ie(t,!1),Mc(t),{className:s,cx:r,cy:n,r:i})):null};function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}var ez=["x","y","top","left","width","height","className"];function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O0.apply(this,arguments)}function hy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hy(Object(r),!0).forEach(function(n){rz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rz(e,t,r){return t=nz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nz(e){var t=iz(e,"string");return gl(t)=="symbol"?t:t+""}function iz(e,t){if(gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function az(e,t){if(e==null)return{};var r=sz(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oz=function(t,r,n,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},lz=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,p=h===void 0?0:h,v=t.className,m=az(t,ez),g=tz({x:n,y:a,top:o,left:c,width:f,height:p},m);return!ge(n)||!ge(a)||!ge(f)||!ge(p)||!ge(o)||!ge(c)?null:L.createElement("path",O0({},Ie(g,!0),{className:Ke("recharts-cross",v),d:oz(n,a,f,p,o,c)}))},cz=Cw,uz=cz(Object.getPrototypeOf,Object),fz=uz,dz=Yn,hz=fz,pz=Jn,mz="[object Object]",vz=Function.prototype,gz=Object.prototype,g2=vz.toString,xz=gz.hasOwnProperty,yz=g2.call(Object);function bz(e){if(!pz(e)||dz(e)!=mz)return!1;var t=hz(e);if(t===null)return!0;var r=xz.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&g2.call(r)==yz}var wz=bz;const _z=mt(wz);var Sz=Yn,Ez=Jn,Az="[object Boolean]";function Tz(e){return e===!0||e===!1||Ez(e)&&Sz(e)==Az}var Oz=Tz;const Pz=mt(Oz);function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gu.apply(this,arguments)}function jz(e,t){return Dz(e)||kz(e,t)||Cz(e,t)||Nz()}function Nz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cz(e,t){if(e){if(typeof e=="string")return py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return py(e,t)}}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Dz(e){if(Array.isArray(e))return e}function my(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?my(Object(r),!0).forEach(function(n){Iz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):my(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iz(e,t,r){return t=$z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $z(e){var t=Mz(e,"string");return xl(t)=="symbol"?t:t+""}function Mz(e,t){if(xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gy=function(t,r,n,i,a){var s=n-i,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+a),o+="L ".concat(t+n-s/2-i,",").concat(r+a),o+="L ".concat(t,",").concat(r," Z"),o},Fz={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rz=function(t){var r=vy(vy({},Fz),t),n=W.useRef(),i=W.useState(-1),a=jz(i,2),s=a[0],o=a[1];W.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&o(x)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var b=Ke("recharts-trapezoid",p);return y?L.createElement(dn,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:v,isActive:y},function(x){var E=x.upperWidth,w=x.lowerWidth,S=x.height,_=x.x,A=x.y;return L.createElement(dn,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:v},L.createElement("path",gu({},Ie(r,!0),{className:b,d:gy(_,A,E,w,S),ref:n})))}):L.createElement("g",null,L.createElement("path",gu({},Ie(r,!0),{className:b,d:gy(l,c,u,f,h)})))},Lz=["option","shapeType","propTransformer","activeClassName","isActive"];function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function Bz(e,t){if(e==null)return{};var r=Uz(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xy(Object(r),!0).forEach(function(n){Wz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wz(e,t,r){return t=zz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zz(e){var t=Hz(e,"string");return yl(t)=="symbol"?t:t+""}function Hz(e,t){if(yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qz(e,t){return xu(xu({},t),e)}function Gz(e,t){return e==="symbols"}function yy(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return L.createElement(fm,r);case"trapezoid":return L.createElement(Rz,r);case"sector":return L.createElement(s2,r);case"symbols":if(Gz(t))return L.createElement(Af,r);break;default:return null}}function Vz(e){return W.isValidElement(e)?e.props:e}function P0(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?qz:n,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,o=e.isActive,l=Bz(e,Lz),c;if(W.isValidElement(t))c=W.cloneElement(t,xu(xu({},l),Vz(t)));else if(Fe(t))c=t(l);else if(_z(t)&&!Pz(t)){var u=i(t,l);c=L.createElement(yy,{shapeType:r,elementProps:u})}else{var f=l;c=L.createElement(yy,{shapeType:r,elementProps:f})}return o?L.createElement(et,{className:s},c):c}function Lf(e,t){return t!=null&&"trapezoids"in e.props}function Bf(e,t){return t!=null&&"sectors"in e.props}function bl(e,t){return t!=null&&"points"in e.props}function Kz(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function Xz(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Yz(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function Jz(e,t){var r;return Lf(e,t)?r=Kz:Bf(e,t)?r=Xz:bl(e,t)&&(r=Yz),r}function Zz(e,t){var r;return Lf(e,t)?r="trapezoids":Bf(e,t)?r="sectors":bl(e,t)&&(r="points"),r}function Qz(e,t){if(Lf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Bf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return bl(e,t)?t.payload:{}}function eH(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=Zz(r,t),a=Qz(r,t),s=n.filter(function(l,c){var u=ra(a,l),f=r.props[i].filter(function(v){var m=Jz(r,t);return m(v,t)}),h=r.props[i].indexOf(f[f.length-1]),p=c===h;return u&&p}),o=n.indexOf(s[s.length-1]);return o}var tH=Math.ceil,rH=Math.max;function nH(e,t,r,n){for(var i=-1,a=rH(tH((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}var iH=nH,aH=Yw,by=1/0,sH=17976931348623157e292;function oH(e){if(!e)return e===0?e:0;if(e=aH(e),e===by||e===-by){var t=e<0?-1:1;return t*sH}return e===e?e:0}var x2=oH,lH=iH,cH=Pf,Gd=x2;function uH(e){return function(t,r,n){return n&&typeof n!="number"&&cH(t,r,n)&&(r=n=void 0),t=Gd(t),r===void 0?(r=t,t=0):r=Gd(r),n=n===void 0?t<r?1:-1:Gd(n),lH(t,r,n,e)}}var fH=uH,dH=fH,hH=dH(),pH=hH;const yu=mt(pH);function wl(e){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(e)}function wy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wy(Object(r),!0).forEach(function(n){y2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y2(e,t,r){return t=mH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mH(e){var t=vH(e,"string");return wl(t)=="symbol"?t:t+""}function vH(e,t){if(wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gH=["Webkit","Moz","O","ms"],xH=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=gH.reduce(function(a,s){return _y(_y({},a),{},y2({},s+n,r))},{});return i[t]=r,i};function ds(e){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bu.apply(this,arguments)}function Sy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sy(Object(r),!0).forEach(function(n){Pr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ey(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w2(n.key),n)}}function bH(e,t,r){return t&&Ey(e.prototype,t),r&&Ey(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wH(e,t,r){return t=wu(t),_H(e,b2()?Reflect.construct(t,r||[],wu(e).constructor):t.apply(e,r))}function _H(e,t){if(t&&(ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SH(e)}function SH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b2=function(){return!!e})()}function wu(e){return wu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wu(e)}function EH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j0(e,t)}function j0(e,t){return j0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j0(e,t)}function Pr(e,t,r){return t=w2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w2(e){var t=AH(e,"string");return ds(t)=="symbol"?t:t+""}function AH(e,t){if(ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TH=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=ko().domain(yu(0,l)).range([a,a+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},Ay=function(t){return t.changedTouches&&!!t.changedTouches.length},hs=function(e){function t(r){var n;return yH(this,t),n=wH(this,t,[r]),Pr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Pr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Pr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Pr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Pr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Pr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Pr(n,"handleSlideDragStart",function(i){var a=Ay(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return EH(t,e),bH(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=t.getIndexInRange(s,f),v=t.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:v===u?u:v-v%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=It(a[n],o,n);return Fe(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,v=l.onChange,m=n.pageX-a;m>0?m=Math.min(m,c+u-f-o,c+u-f-s):m<0&&(m=Math.max(m,c-s,c-o));var g=this.getIndex({startX:s+m,endX:o+m});(g.startIndex!==h||g.endIndex!==p)&&v&&v(g),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=Ay(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,v=u.onChange,m=u.gap,g=u.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,f+h-p-c):b<0&&(b=Math.max(b,f-c)),y[s]=c+b;var x=this.getIndex(y),E=x.startIndex,w=x.endIndex,S=function(){var A=g.length-1;return s==="startX"&&(o>l?E%m===0:w%m===0)||o<l&&w===A||s==="endX"&&(o>l?w%m===0:E%m===0)||o>l&&w===A};this.setState(Pr(Pr({},s,c+b),"brushMoveStartX",n.pageX),function(){v&&S()&&v(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Pr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return L.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=W.Children.only(c);return f?L.cloneElement(f,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,v=l.data,m=l.startIndex,g=l.endIndex,y=Math.max(n,this.props.x),b=Vd(Vd({},Ie(this.props,!1)),{},{x:y,y:c,width:u,height:f}),x=p||"Min value: ".concat((a=v[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=v[g])===null||s===void 0?void 0:s.name);return L.createElement(et,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,v={pointerEvents:"none",fill:c};return L.createElement(et,{className:"recharts-brush-texts"},L.createElement(Yc,bu({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},v),this.getTextOfTick(i)),L.createElement(Yc,bu({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,m=h.isTextActive,g=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!ge(o)||!ge(l)||!ge(c)||!ge(u)||c<=0||u<=0)return null;var x=Ke("recharts-brush",a),E=L.Children.count(s)===1,w=xH("userSelect","none");return L.createElement(et,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||g||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(a+o/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),L.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return L.isValidElement(n)?a=L.cloneElement(n,i):Fe(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return Vd({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?TH({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(W.PureComponent);Pr(hs,"displayName","Brush");Pr(hs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var OH=Mp;function PH(e,t){var r;return OH(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var jH=PH,NH=Sw,CH=_i,kH=jH,DH=_r,IH=Pf;function $H(e,t,r){var n=DH(e)?NH:kH;return r&&IH(e,t,r)&&(t=void 0),n(e,CH(t))}var MH=$H;const FH=mt(MH);var Sn=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},Ty=qw;function RH(e,t,r){t=="__proto__"&&Ty?Ty(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var LH=RH,BH=LH,UH=zw,WH=_i;function zH(e,t){var r={};return t=WH(t),UH(e,function(n,i,a){BH(r,i,t(n,i,a))}),r}var HH=zH;const qH=mt(HH);function GH(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var VH=GH,KH=Mp;function XH(e,t){var r=!0;return KH(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var YH=XH,JH=VH,ZH=YH,QH=_i,eq=_r,tq=Pf;function rq(e,t,r){var n=eq(e)?JH:ZH;return r&&tq(e,t,r)&&(t=void 0),n(e,QH(t))}var nq=rq;const _2=mt(nq);var iq=["x","y"];function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N0.apply(this,arguments)}function Oy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oy(Object(r),!0).forEach(function(n){aq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aq(e,t,r){return t=sq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sq(e){var t=oq(e,"string");return _l(t)=="symbol"?t:t+""}function oq(e,t){if(_l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lq(e,t){if(e==null)return{};var r=cq(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uq(e,t){var r=e.x,n=e.y,i=lq(e,iq),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||i.height),u=parseInt(c,10),f="".concat(t.width||i.width),h=parseInt(f,10);return xo(xo(xo(xo(xo({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Py(e){return L.createElement(P0,N0({shapeType:"rectangle",propTransformer:uq,activeClassName:"recharts-active-bar"},e))}var fq=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=typeof n=="number";return a?t(n,i):(a||ia(),r)}},dq=["value","background"],S2;function ps(e){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(e)}function hq(e,t){if(e==null)return{};var r=pq(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_u.apply(this,arguments)}function jy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jy(Object(r),!0).forEach(function(n){hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ny(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A2(n.key),n)}}function vq(e,t,r){return t&&Ny(e.prototype,t),r&&Ny(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gq(e,t,r){return t=Su(t),xq(e,E2()?Reflect.construct(t,r||[],Su(e).constructor):t.apply(e,r))}function xq(e,t){if(t&&(ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yq(e)}function yq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E2=function(){return!!e})()}function Su(e){return Su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Su(e)}function bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C0(e,t)}function C0(e,t){return C0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C0(e,t)}function hi(e,t,r){return t=A2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A2(e){var t=wq(e,"string");return ps(t)=="symbol"?t:t+""}function wq(e,t){if(ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hs=function(e){function t(){var r;mq(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=gq(this,t,[].concat(i)),hi(r,"state",{isAnimationFinished:!1}),hi(r,"id",da("recharts-bar-")),hi(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),hi(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return bq(t,e),vq(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=Ie(this.props,!1);return n&&n.map(function(f,h){var p=h===l,v=p?c:s,m=Ot(Ot(Ot({},u),f),{},{isActive:p,option:v,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement(et,_u({className:"recharts-bar-rectangle"},qo(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),L.createElement(Py,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return L.createElement(dn,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,m=a.map(function(g,y){var b=h&&h[y];if(b){var x=At(b.x,g.x),E=At(b.y,g.y),w=At(b.width,g.width),S=At(b.height,g.height);return Ot(Ot({},g),{},{x:x(v),y:E(v),width:w(v),height:S(v)})}if(s==="horizontal"){var _=At(0,g.height),A=_(v);return Ot(Ot({},g),{},{y:g.y+g.height-A,height:A})}var O=At(0,g.width),C=O(v);return Ot(Ot({},g),{},{width:C})});return L.createElement(et,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!ra(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Ie(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,h=hq(c,dq);if(!f)return null;var p=Ot(Ot(Ot(Ot(Ot({},h),{},{fill:"#eee"},f),l),qo(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return L.createElement(Py,_u({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=xr(u,zs);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(g,y){var b=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:b,errorVal:It(g,y)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(et,v,f.map(function(m){return L.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,m=n.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,y=Ke("recharts-bar",s),b=o&&o.allowDataOverflow,x=l&&l.allowDataOverflow,E=b||x,w=$e(m)?this.id:m;return L.createElement(et,{className:y},b||x?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(w)},L.createElement("rect",{x:b?c:c-f/2,y:x?u:u-h/2,width:b?f:f*2,height:x?h:h*2}))):null,L.createElement(et,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,w),(!p||g)&&_n.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(W.PureComponent);S2=Hs;hi(Hs,"displayName","Bar");hi(Hs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!un.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});hi(Hs,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=Q7(n,r);if(!p)return null;var v=t.layout,m=r.type.defaultProps,g=m!==void 0?Ot(Ot({},m),r.props):r.props,y=g.dataKey,b=g.children,x=g.minPointSize,E=v==="horizontal"?s:a,w=c?E.scale.domain():null,S=o9({numericAxis:E}),_=xr(b,Lp),A=f.map(function(O,C){var j,P,U,q,H,Z;c?j=e9(c[u+C],w):(j=It(O,y),Array.isArray(j)||(j=[S,j]));var te=fq(x,S2.defaultProps.minPointSize)(j[1],C);if(v==="horizontal"){var se,oe=[s.scale(j[0]),s.scale(j[1])],me=oe[0],_e=oe[1];P=jx({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:O,index:C}),U=(se=_e??me)!==null&&se!==void 0?se:void 0,q=p.size;var D=me-_e;if(H=Number.isNaN(D)?0:D,Z={x:P,y:s.y,width:q,height:s.height},Math.abs(te)>0&&Math.abs(H)<Math.abs(te)){var z=ln(H||te)*(Math.abs(te)-Math.abs(H));U-=z,H+=z}}else{var F=[a.scale(j[0]),a.scale(j[1])],B=F[0],Y=F[1];if(P=B,U=jx({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:O,index:C}),q=Y-B,H=p.size,Z={x:a.x,y:U,width:a.width,height:H},Math.abs(te)>0&&Math.abs(q)<Math.abs(te)){var xe=ln(q||te)*(Math.abs(te)-Math.abs(q));q+=xe}}return Ot(Ot(Ot({},O),{},{x:P,y:U,width:q,height:H,value:c?j:j[1],payload:O,background:Z},_&&_[C]&&_[C].props),{},{tooltipPayload:[n2(r,O)],tooltipPosition:{x:P+q/2,y:U+H/2}})});return Ot({data:A,layout:v},h)});function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function _q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T2(n.key),n)}}function Sq(e,t,r){return t&&Cy(e.prototype,t),r&&Cy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ky(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ky(Object(r),!0).forEach(function(n){Uf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ky(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uf(e,t,r){return t=T2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T2(e){var t=Eq(e,"string");return Sl(t)=="symbol"?t:t+""}function Eq(e,t){if(Sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aq=function(t,r,n,i,a){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Nr(c,Hs);return u.reduce(function(p,v){var m=r[v],g=m.orientation,y=m.domain,b=m.padding,x=b===void 0?{}:b,E=m.mirror,w=m.reversed,S="".concat(g).concat(E?"Mirror":""),_,A,O,C,j;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var P=y[1]-y[0],U=1/0,q=m.categoricalDomain.sort();if(q.forEach(function(F,B){B>0&&(U=Math.min((F||0)-(q[B-1]||0),U))}),Number.isFinite(U)){var H=U/P,Z=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(_=H*Z/2),m.padding==="no-gap"){var te=ta(t.barCategoryGap,H*Z),se=H*Z/2;_=se-te-(se-te)/Z*te}}}i==="xAxis"?A=[n.left+(x.left||0)+(_||0),n.left+n.width-(x.right||0)-(_||0)]:i==="yAxis"?A=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(_||0),n.top+n.height-(x.bottom||0)-(_||0)]:A=m.range,w&&(A=[A[1],A[0]]);var oe=J7(m,a,h),me=oe.scale,_e=oe.realScaleType;me.domain(y).range(A),Z7(me);var D=s9(me,nn(nn({},m),{},{realScaleType:_e}));i==="xAxis"?(j=g==="top"&&!E||g==="bottom"&&E,O=n.left,C=f[S]-j*m.height):i==="yAxis"&&(j=g==="left"&&!E||g==="right"&&E,O=f[S]-j*m.width,C=n.top);var z=nn(nn(nn({},m),D),{},{realScaleType:_e,x:O,y:C,scale:me,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return z.bandSize=uu(z,D),!m.hide&&i==="xAxis"?f[S]+=(j?-1:1)*z.height:m.hide||(f[S]+=(j?-1:1)*z.width),nn(nn({},p),{},Uf({},v,z))},{})},O2=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Tq=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return O2({x:r,y:n},{x:i,y:a})},P2=function(){function e(t){_q(this,e),this.scale=t}return Sq(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();Uf(P2,"EPS",1e-4);var dm=function(t){var r=Object.keys(t).reduce(function(n,i){return nn(nn({},n),{},Uf({},i,P2.create(t[i])))},{});return nn(nn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return qH(i,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return _2(i,function(a,s){return r[s].isInRange(a)})}})};function Oq(e){return(e%180+180)%180}var Pq=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Oq(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},jq=_i,Nq=Ll,Cq=Tf;function kq(e){return function(t,r,n){var i=Object(t);if(!Nq(t)){var a=jq(r);t=Cq(t),r=function(o){return a(i[o],o,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:void 0}}var Dq=kq,Iq=x2;function $q(e){var t=Iq(e),r=t%1;return t===t?r?t-r:t:0}var Mq=$q,Fq=Fw,Rq=_i,Lq=Mq,Bq=Math.max;function Uq(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Lq(r);return i<0&&(i=Bq(n+i,0)),Fq(e,Rq(t),i)}var Wq=Uq,zq=Dq,Hq=Wq,qq=zq(Hq),Gq=qq;const Vq=mt(Gq);var Kq=$N(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),hm=W.createContext(void 0),pm=W.createContext(void 0),j2=W.createContext(void 0),N2=W.createContext({}),C2=W.createContext(void 0),k2=W.createContext(0),D2=W.createContext(0),Dy=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=Kq(a);return L.createElement(hm.Provider,{value:n},L.createElement(pm.Provider,{value:i},L.createElement(N2.Provider,{value:a},L.createElement(j2.Provider,{value:u},L.createElement(C2.Provider,{value:s},L.createElement(k2.Provider,{value:c},L.createElement(D2.Provider,{value:l},o)))))))},Xq=function(){return W.useContext(C2)},I2=function(t){var r=W.useContext(hm);r==null&&ia();var n=r[t];return n==null&&ia(),n},Yq=function(){var t=W.useContext(hm);return fi(t)},Jq=function(){var t=W.useContext(pm),r=Vq(t,function(n){return _2(n.domain,Number.isFinite)});return r||fi(t)},$2=function(t){var r=W.useContext(pm);r==null&&ia();var n=r[t];return n==null&&ia(),n},Zq=function(){var t=W.useContext(j2);return t},Qq=function(){return W.useContext(N2)},mm=function(){return W.useContext(D2)},vm=function(){return W.useContext(k2)};function ms(e){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function eG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F2(n.key),n)}}function rG(e,t,r){return t&&tG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nG(e,t,r){return t=Eu(t),iG(e,M2()?Reflect.construct(t,r||[],Eu(e).constructor):t.apply(e,r))}function iG(e,t){if(t&&(ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aG(e)}function aG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M2=function(){return!!e})()}function Eu(e){return Eu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eu(e)}function sG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k0(e,t)}function k0(e,t){return k0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k0(e,t)}function Iy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iy(Object(r),!0).forEach(function(n){gm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gm(e,t,r){return t=F2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F2(e){var t=oG(e,"string");return ms(t)=="symbol"?t:t+""}function oG(e,t){if(ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lG(e,t){return dG(e)||fG(e,t)||uG(e,t)||cG()}function cG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uG(e,t){if(e){if(typeof e=="string")return My(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return My(e,t)}}function My(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function dG(e){if(Array.isArray(e))return e}function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D0.apply(this,arguments)}var hG=function(t,r){var n;return L.isValidElement(t)?n=L.cloneElement(t,r):Fe(t)?n=t(r):n=L.createElement("line",D0({},r,{className:"recharts-reference-line-line"})),n},pG=function(t,r,n,i,a,s,o,l,c){var u=a.x,f=a.y,h=a.width,p=a.height;if(n){var v=c.y,m=t.y.apply(v,{position:s});if(Sn(c,"discard")&&!t.y.isInRange(m))return null;var g=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?g.reverse():g}if(r){var y=c.x,b=t.x.apply(y,{position:s});if(Sn(c,"discard")&&!t.x.isInRange(b))return null;var x=[{x:b,y:f+p},{x:b,y:f}];return o==="top"?x.reverse():x}if(i){var E=c.segment,w=E.map(function(S){return t.apply(S,{position:s})});return Sn(c,"discard")&&FH(w,function(S){return!t.isInRange(S)})?null:w}return null};function mG(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=Xq(),u=I2(i),f=$2(a),h=Zq();if(!c||!h)return null;Ln(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=dm({x:u.scale,y:f.scale}),v=Dt(t),m=Dt(r),g=n&&n.length===2,y=pG(p,v,m,g,h,e.position,u.orientation,f.orientation,e);if(!y)return null;var b=lG(y,2),x=b[0],E=x.x,w=x.y,S=b[1],_=S.x,A=S.y,O=Sn(e,"hidden")?"url(#".concat(c,")"):void 0,C=$y($y({clipPath:O},Ie(e,!0)),{},{x1:E,y1:w,x2:_,y2:A});return L.createElement(et,{className:Ke("recharts-reference-line",o)},hG(s,C),Gt.renderCallByParent(e,Tq({x1:E,y1:w,x2:_,y2:A})))}var xm=function(e){function t(){return eG(this,t),nG(this,t,arguments)}return sG(t,e),rG(t,[{key:"render",value:function(){return L.createElement(mG,this.props)}}])}(L.Component);gm(xm,"displayName","ReferenceLine");gm(xm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(this,arguments)}function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function Fy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ry(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fy(Object(r),!0).forEach(function(n){Wf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L2(n.key),n)}}function xG(e,t,r){return t&&gG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yG(e,t,r){return t=Au(t),bG(e,R2()?Reflect.construct(t,r||[],Au(e).constructor):t.apply(e,r))}function bG(e,t){if(t&&(vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wG(e)}function wG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R2=function(){return!!e})()}function Au(e){return Au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Au(e)}function _G(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$0(e,t)}function $0(e,t){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$0(e,t)}function Wf(e,t,r){return t=L2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L2(e){var t=SG(e,"string");return vs(t)=="symbol"?t:t+""}function SG(e,t){if(vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EG=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,s=dm({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Sn(t,"discard")&&!s.isInRange(o)?null:o},zf=function(e){function t(){return vG(this,t),yG(this,t,arguments)}return _G(t,e),xG(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=Dt(i),u=Dt(a);if(Ln(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=EG(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,m=v.shape,g=v.className,y=Sn(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=Ry(Ry({clipPath:y},Ie(this.props,!0)),{},{cx:h,cy:p});return L.createElement(et,{className:Ke("recharts-reference-dot",g)},t.renderDot(m,b),Gt.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(L.Component);Wf(zf,"displayName","ReferenceDot");Wf(zf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Wf(zf,"renderDot",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):Fe(e)?r=e(t):r=L.createElement(Rf,I0({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(this,arguments)}function gs(e){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function Ly(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function By(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ly(Object(r),!0).forEach(function(n){Hf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ly(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U2(n.key),n)}}function OG(e,t,r){return t&&TG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PG(e,t,r){return t=Tu(t),jG(e,B2()?Reflect.construct(t,r||[],Tu(e).constructor):t.apply(e,r))}function jG(e,t){if(t&&(gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NG(e)}function NG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B2=function(){return!!e})()}function Tu(e){return Tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tu(e)}function CG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F0(e,t)}function F0(e,t){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F0(e,t)}function Hf(e,t,r){return t=U2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U2(e){var t=kG(e,"string");return gs(t)=="symbol"?t:t+""}function kG(e,t){if(gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DG=function(t,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var h=dm({x:u.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Sn(a,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:O2(p,v)},qf=function(e){function t(){return AG(this,t),PG(this,t,arguments)}return CG(t,e),OG(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Ln(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Dt(i),h=Dt(a),p=Dt(s),v=Dt(o),m=this.props.shape;if(!f&&!h&&!p&&!v&&!m)return null;var g=DG(f,h,p,v,this.props);if(!g&&!m)return null;var y=Sn(this.props,"hidden")?"url(#".concat(u,")"):void 0;return L.createElement(et,{className:Ke("recharts-reference-area",l)},t.renderRect(m,By(By({clipPath:y},Ie(this.props,!0)),g)),Gt.renderCallByParent(this.props,g))}}])}(L.Component);Hf(qf,"displayName","ReferenceArea");Hf(qf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Hf(qf,"renderRect",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):Fe(e)?r=e(t):r=L.createElement(fm,M0({},t,{className:"recharts-reference-area-rect"})),r});function W2(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function IG(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Pq(n,r)}function $G(e,t,r){var n=r==="width",i=e.x,a=e.y,s=e.width,o=e.height;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Ou(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function MG(e,t){return W2(e,t+1)}function FG(e,t,r,n,i){for(var a=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,f=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:W2(n,c)};var m=l,g,y=function(){return g===void 0&&(g=r(v,m)),g},b=v.coordinate,x=l===0||Ou(e,b,y,u,o);x||(l=0,u=s,c+=1),x&&(u=b+e*(y()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function Uy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uy(Object(r),!0).forEach(function(n){RG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RG(e,t,r){return t=LG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LG(e){var t=BG(e,"string");return El(t)=="symbol"?t:t+""}function BG(e,t){if(El(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UG(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=t.start,l=t.end,c=function(h){var p=a[h],v,m=function(){return v===void 0&&(v=r(p,h)),v};if(h===s-1){var g=e*(p.coordinate+e*m()/2-l);a[h]=p=tr(tr({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else a[h]=p=tr(tr({},p),{},{tickCoord:p.coordinate});var y=Ou(e,p.tickCoord,m,o,l);y&&(l=p.tickCoord-e*(m()/2+i),a[h]=tr(tr({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function WG(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(a){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);s[o-1]=u=tr(tr({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=Ou(e,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-e*(f/2+i),s[o-1]=tr(tr({},u),{},{isShow:!0}))}for(var v=a?o-1:o,m=function(b){var x=s[b],E,w=function(){return E===void 0&&(E=r(x,b)),E};if(b===0){var S=e*(x.coordinate-e*w()/2-l);s[b]=x=tr(tr({},x),{},{tickCoord:S<0?x.coordinate-S*e:x.coordinate})}else s[b]=x=tr(tr({},x),{},{tickCoord:x.coordinate});var _=Ou(e,x.tickCoord,w,l,c);_&&(l=x.tickCoord+e*(w()/2+i),s[b]=tr(tr({},x),{},{isShow:!0}))},g=0;g<v;g++)m(g);return s}function ym(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(ge(l)||un.isSsr)return MG(i,typeof l=="number"&&ge(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",v=u&&p==="width"?Co(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(x,E){var w=Fe(c)?c(x.value,E):x.value;return p==="width"?IG(Co(w,{fontSize:t,letterSpacing:r}),v,f):Co(w,{fontSize:t,letterSpacing:r})[p]},g=i.length>=2?ln(i[1].coordinate-i[0].coordinate):1,y=$G(a,g,p);return l==="equidistantPreserveStart"?FG(g,y,m,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=WG(g,y,m,i,s,l==="preserveStartEnd"):h=UG(g,y,m,i,s),h.filter(function(b){return b.isShow}))}var zG=["viewBox"],HG=["viewBox"],qG=["ticks"];function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(this,arguments)}function Wy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wy(Object(r),!0).forEach(function(n){bm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kd(e,t){if(e==null)return{};var r=GG(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H2(n.key),n)}}function KG(e,t,r){return t&&zy(e.prototype,t),r&&zy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XG(e,t,r){return t=Pu(t),YG(e,z2()?Reflect.construct(t,r||[],Pu(e).constructor):t.apply(e,r))}function YG(e,t){if(t&&(xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JG(e)}function JG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z2=function(){return!!e})()}function Pu(e){return Pu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pu(e)}function ZG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R0(e,t)}function R0(e,t){return R0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R0(e,t)}function bm(e,t,r){return t=H2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H2(e){var t=QG(e,"string");return xs(t)=="symbol"?t:t+""}function QG(e,t){if(xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qs=function(e){function t(r){var n;return VG(this,t),n=XG(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return ZG(t,e),KG(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=Kd(n,zG),o=this.props,l=o.viewBox,c=Kd(o,HG);return!Ga(a,l)||!Ga(s,c)||!Ga(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,p,v,m,g,y,b,x=f?-1:1,E=n.tickSize||u,w=ge(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=v=n.coordinate,g=s+ +!f*l,m=g-x*E,b=m-x*h,y=w;break;case"left":m=g=n.coordinate,v=a+ +!f*o,p=v-x*E,y=p-x*h,b=w;break;case"right":m=g=n.coordinate,v=a+ +f*o,p=v+x*E,y=p+x*h,b=w;break;default:p=v=n.coordinate,g=s+ +f*l,m=g+x*E,b=m+x*h,y=w;break}return{line:{x1:p,y1:m,x2:v,y2:g},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=lr(lr(lr({},Ie(this.props,!1)),Ie(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=lr(lr({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=lr(lr({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return L.createElement("line",Ua({},f,{className:Ke("recharts-cartesian-axis-line",Vr(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,p=ym(lr(lr({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Ie(this.props,!1),y=Ie(u,!1),b=lr(lr({},g),{},{fill:"none"},Ie(l,!1)),x=p.map(function(E,w){var S=s.getTickLineCoord(E),_=S.line,A=S.tick,O=lr(lr(lr(lr({textAnchor:v,verticalAnchor:m},g),{},{stroke:"none",fill:c},y),A),{},{index:w,payload:E,visibleTicksCount:p.length,tickFormatter:f});return L.createElement(et,Ua({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},qo(s.props,E,w)),l&&L.createElement("line",Ua({},b,_,{className:Ke("recharts-cartesian-axis-tick-line",Vr(l,"className"))})),u&&t.renderTickItem(u,O,"".concat(Fe(f)?f(E.value,w):E.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,p=Kd(f,qG),v=h;return Fe(l)&&(v=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!v||!v.length?null:L.createElement(et,{className:Ke("recharts-cartesian-axis",c),ref:function(g){n.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Gt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return L.isValidElement(n)?s=L.cloneElement(n,i):Fe(n)?s=n(i):s=L.createElement(Yc,Ua({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(W.Component);bm(qs,"displayName","CartesianAxis");bm(qs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var eV=["x1","y1","x2","y2","key"],tV=["offset"];function aa(e){"@babel/helpers - typeof";return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(e)}function Hy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hy(Object(r),!0).forEach(function(n){rV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rV(e,t,r){return t=nV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nV(e){var t=iV(e,"string");return aa(t)=="symbol"?t:t+""}function iV(e,t){if(aa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(aa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ki.apply(this,arguments)}function qy(e,t){if(e==null)return{};var r=aV(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sV=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,s=t.width,o=t.height,l=t.ry;return L.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function q2(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(Fe(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,s=t.y2,o=t.key,l=qy(t,eV),c=Ie(l,!1);c.offset;var u=qy(c,tV);r=L.createElement("line",Ki({},u,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function oV(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=nr(nr({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return q2(i,c)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function lV(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=nr(nr({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return q2(i,c)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function cV(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var v=!u[p+1],m=v?i+s-h:u[p+1]-h;if(m<=0)return null;var g=p%t.length;return L.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function uV(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var v=!u[p+1],m=v?a+o-h:u[p+1]-h;if(m<=0)return null;var g=p%n.length;return L.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:l,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var fV=function(t,r){var n=t.xAxis,i=t.width,a=t.height,s=t.offset;return t2(ym(nr(nr(nr({},qs.defaultProps),n),{},{ticks:Fn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},dV=function(t,r){var n=t.yAxis,i=t.width,a=t.height,s=t.offset;return t2(ym(nr(nr(nr({},qs.defaultProps),n),{},{ticks:Fn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Ca={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function G2(e){var t,r,n,i,a,s,o=mm(),l=vm(),c=Qq(),u=nr(nr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ca.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ca.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ca.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Ca.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Ca.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Ca.verticalFill,x:ge(e.x)?e.x:c.left,y:ge(e.y)?e.y:c.top,width:ge(e.width)?e.width:c.width,height:ge(e.height)?e.height:c.height}),f=u.x,h=u.y,p=u.width,v=u.height,m=u.syncWithTicks,g=u.horizontalValues,y=u.verticalValues,b=Yq(),x=Jq();if(!ge(p)||p<=0||!ge(v)||v<=0||!ge(f)||f!==+f||!ge(h)||h!==+h)return null;var E=u.verticalCoordinatesGenerator||fV,w=u.horizontalCoordinatesGenerator||dV,S=u.horizontalPoints,_=u.verticalPoints;if((!S||!S.length)&&Fe(w)){var A=g&&g.length,O=w({yAxis:x?nr(nr({},x),{},{ticks:A?g:x.ticks}):void 0,width:o,height:l,offset:c},A?!0:m);Ln(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(aa(O),"]")),Array.isArray(O)&&(S=O)}if((!_||!_.length)&&Fe(E)){var C=y&&y.length,j=E({xAxis:b?nr(nr({},b),{},{ticks:C?y:b.ticks}):void 0,width:o,height:l,offset:c},C?!0:m);Ln(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(aa(j),"]")),Array.isArray(j)&&(_=j)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(sV,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),L.createElement(oV,Ki({},u,{offset:c,horizontalPoints:S,xAxis:b,yAxis:x})),L.createElement(lV,Ki({},u,{offset:c,verticalPoints:_,xAxis:b,yAxis:x})),L.createElement(cV,Ki({},u,{horizontalPoints:S})),L.createElement(uV,Ki({},u,{verticalPoints:_})))}G2.displayName="CartesianGrid";var hV=["type","layout","connectNulls","ref"],pV=["key"];function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function Gy(e,t){if(e==null)return{};var r=mV(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$o.apply(this,arguments)}function Vy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vy(Object(r),!0).forEach(function(n){an(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ka(e){return yV(e)||xV(e)||gV(e)||vV()}function vV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gV(e,t){if(e){if(typeof e=="string")return L0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L0(e,t)}}function xV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yV(e){if(Array.isArray(e))return L0(e)}function L0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ky(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K2(n.key),n)}}function wV(e,t,r){return t&&Ky(e.prototype,t),r&&Ky(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _V(e,t,r){return t=ju(t),SV(e,V2()?Reflect.construct(t,r||[],ju(e).constructor):t.apply(e,r))}function SV(e,t){if(t&&(ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EV(e)}function EV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V2=function(){return!!e})()}function ju(e){return ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ju(e)}function AV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B0(e,t)}function B0(e,t){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B0(e,t)}function an(e,t,r){return t=K2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K2(e){var t=TV(e,"string");return ys(t)=="symbol"?t:t+""}function TV(e,t){if(ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var In=function(e){function t(){var r;bV(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_V(this,t,[].concat(i)),an(r,"state",{isAnimationFinished:!0,totalLength:0}),an(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),an(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,b){return y+b});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,h=o-s,p=[],v=0,m=0;v<l.length;m+=l[v],++v)if(m+l[v]>f){p=[].concat(ka(l.slice(0,v)),[f-m]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(ka(t.repeat(l,u)),ka(p),g).map(function(y){return"".concat(y,"px")}).join(", ")}),an(r,"id",da("recharts-line-")),an(r,"pathRef",function(s){r.mainCurve=s}),an(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),an(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return AV(t,e),wV(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=xr(u,zs);if(!f)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:It(m.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(et,p,f.map(function(v){return L.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=Ie(this.props,!1),h=Ie(l,!0),p=c.map(function(m,g){var y=Ar(Ar(Ar({key:"dot-".concat(g),r:3},f),h),{},{value:m.value,dataKey:u,cx:m.x,cy:m.y,index:g,payload:m.payload});return t.renderDotItem(l,y)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return L.createElement(et,$o({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=Gy(o,hV),h=Ar(Ar(Ar({},Ie(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return L.createElement(Qi,$o({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,v=s.animateNewValues,m=s.width,g=s.height,y=this.state,b=y.prevPoints,x=y.totalLength;return L.createElement(dn,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var w=E.t;if(b){var S=b.length/o.length,_=o.map(function(P,U){var q=Math.floor(U*S);if(b[q]){var H=b[q],Z=At(H.x,P.x),te=At(H.y,P.y);return Ar(Ar({},P),{},{x:Z(w),y:te(w)})}if(v){var se=At(m*2,P.x),oe=At(g/2,P.y);return Ar(Ar({},P),{},{x:se(w),y:oe(w)})}return Ar(Ar({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(_,n,i)}var A=At(0,x),O=A(w),C;if(l){var j="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});C=a.getStrokeDasharray(O,x,j)}else C=a.generateSimpleStrokeDasharray(x,O);return a.renderCurveStatically(o,n,i,{strokeDasharray:C})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!ra(c,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,h=i.left,p=i.width,v=i.height,m=i.isAnimationActive,g=i.id;if(a||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,x=Ke("recharts-line",l),E=c&&c.allowDataOverflow,w=u&&u.allowDataOverflow,S=E||w,_=$e(g)?this.id:g,A=(n=Ie(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=A.r,C=O===void 0?3:O,j=A.strokeWidth,P=j===void 0?2:j,U=Kb(s)?s:{},q=U.clipDot,H=q===void 0?!0:q,Z=C*2+P;return L.createElement(et,{className:x},E||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(_)},L.createElement("rect",{x:E?h:h-p/2,y:w?f:f-v/2,width:E?p:p*2,height:w?v:v*2})),!H&&L.createElement("clipPath",{id:"clipPath-dots-".concat(_)},L.createElement("rect",{x:h-Z/2,y:f-Z/2,width:p+Z,height:v+Z}))):null,!b&&this.renderCurve(S,_),this.renderErrorBar(S,_),(b||s)&&this.renderDots(S,H,_),(!m||y)&&_n.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(ka(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(ka(s),ka(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(L.isValidElement(n))a=L.cloneElement(n,i);else if(Fe(n))a=n(i);else{var s=i.key,o=Gy(i,pV),l=Ke("recharts-line-dot",typeof n!="boolean"?n.className:"");a=L.createElement(Rf,$o({key:s},o,{className:l}))}return a}}])}(W.PureComponent);an(In,"displayName","Line");an(In,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!un.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});an(In,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(h,p){var v=It(h,s);return u==="horizontal"?{x:us({axis:r,ticks:i,bandSize:o,entry:h,index:p}),y:$e(v)?null:n.scale(v),value:v,payload:h}:{x:$e(v)?null:r.scale(v),y:us({axis:n,ticks:a,bandSize:o,entry:h,index:p}),value:v,payload:h}});return Ar({points:f,layout:u},c)});var OV=["layout","type","stroke","connectNulls","isRange","ref"],PV=["key"],X2;function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function Y2(e,t){if(e==null)return{};var r=jV(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xi.apply(this,arguments)}function Xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xy(Object(r),!0).forEach(function(n){yn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z2(n.key),n)}}function CV(e,t,r){return t&&Yy(e.prototype,t),r&&Yy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kV(e,t,r){return t=Nu(t),DV(e,J2()?Reflect.construct(t,r||[],Nu(e).constructor):t.apply(e,r))}function DV(e,t){if(t&&(bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IV(e)}function IV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J2=function(){return!!e})()}function Nu(e){return Nu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nu(e)}function $V(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U0(e,t)}function U0(e,t){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U0(e,t)}function yn(e,t,r){return t=Z2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z2(e){var t=MV(e,"string");return bs(t)=="symbol"?t:t+""}function MV(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ti=function(e){function t(){var r;NV(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=kV(this,t,[].concat(i)),yn(r,"state",{isAnimationFinished:!0}),yn(r,"id",da("recharts-area-")),yn(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Fe(s)&&s()}),yn(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Fe(s)&&s()}),r}return $V(t,e),CV(t,[{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=Ie(this.props,!1),p=Ie(c,!0),v=u.map(function(g,y){var b=oi(oi(oi({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:u});return t.renderDotItem(c,b)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return L.createElement(et,Xi({className:"recharts-area-dots"},m),v)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,u=n*Math.abs(l-c),f=di(s.map(function(h){return h.y||0}));return ge(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(di(a.map(function(h){return h.y||0})),f)),ge(f)?L.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,u=n*Math.abs(l-c),f=di(s.map(function(h){return h.x||0}));return ge(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(di(a.map(function(h){return h.x||0})),f)),ge(f)?L.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,s){var o=this.props,l=o.layout,c=o.type,u=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=Y2(o,OV);return L.createElement(et,{clipPath:a?"url(#clipPath-".concat(s,")"):null},L.createElement(Qi,Xi({},Ie(p,!0),{points:n,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&L.createElement(Qi,Xi({},Ie(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:n})),u!=="none"&&h&&L.createElement(Qi,Xi({},Ie(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,v=this.state,m=v.prevPoints,g=v.prevBaseLine;return L.createElement(dn,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(m){var x=m.length/o.length,E=o.map(function(A,O){var C=Math.floor(O*x);if(m[C]){var j=m[C],P=At(j.x,A.x),U=At(j.y,A.y);return oi(oi({},A),{},{x:P(b),y:U(b)})}return A}),w;if(ge(l)&&typeof l=="number"){var S=At(g,l);w=S(b)}else if($e(l)||Ms(l)){var _=At(g,0);w=_(b)}else w=l.map(function(A,O){var C=Math.floor(O*x);if(g[C]){var j=g[C],P=At(j.x,A.x),U=At(j.y,A.y);return oi(oi({},A),{},{x:P(b),y:U(b)})}return A});return a.renderAreaStatically(E,w,n,i)}return L.createElement(et,null,L.createElement("defs",null,L.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),L.createElement(et,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!u&&h>0||!ra(u,s)||!ra(f,o))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,f=i.xAxis,h=i.yAxis,p=i.width,v=i.height,m=i.isAnimationActive,g=i.id;if(a||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,x=Ke("recharts-area",l),E=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,S=E||w,_=$e(g)?this.id:g,A=(n=Ie(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=A.r,C=O===void 0?3:O,j=A.strokeWidth,P=j===void 0?2:j,U=Kb(s)?s:{},q=U.clipDot,H=q===void 0?!0:q,Z=C*2+P;return L.createElement(et,{className:x},E||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(_)},L.createElement("rect",{x:E?u:u-p/2,y:w?c:c-v/2,width:E?p:p*2,height:w?v:v*2})),!H&&L.createElement("clipPath",{id:"clipPath-dots-".concat(_)},L.createElement("rect",{x:u-Z/2,y:c-Z/2,width:p+Z,height:v+Z}))):null,b?null:this.renderArea(S,_),(s||b)&&this.renderDots(S,H,_),(!m||y)&&_n.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(W.PureComponent);X2=Ti;yn(Ti,"displayName","Area");yn(Ti,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!un.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});yn(Ti,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,s=t.props.baseValue,o=s??a;if(ge(o)&&typeof o=="number")return o;var l=i==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return o==="dataMin"?f:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});yn(Ti,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.bandSize,l=e.dataKey,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,v=c&&c.length,m=X2.getBaseValue(t,r,n,i),g=p==="horizontal",y=!1,b=f.map(function(E,w){var S;v?S=c[u+w]:(S=It(E,l),Array.isArray(S)?y=!0:S=[m,S]);var _=S[1]==null||v&&It(E,l)==null;return g?{x:us({axis:n,ticks:a,bandSize:o,entry:E,index:w}),y:_?null:i.scale(S[1]),value:S,payload:E}:{x:_?null:n.scale(S[1]),y:us({axis:i,ticks:s,bandSize:o,entry:E,index:w}),value:S,payload:E}}),x;return v||y?x=b.map(function(E){var w=Array.isArray(E.value)?E.value[0]:null;return g?{x:E.x,y:w!=null&&E.y!=null?i.scale(w):null}:{x:w!=null?n.scale(w):null,y:E.y}}):x=g?i.scale(m):n.scale(m),oi({points:b,baseLine:x,layout:p,isRange:y},h)});yn(Ti,"renderDotItem",function(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(Fe(e))r=e(t);else{var n=Ke("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=Y2(t,PV);r=L.createElement(Rf,Xi({},a,{key:i,className:n}))}return r});function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function FV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tS(n.key),n)}}function LV(e,t,r){return t&&RV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BV(e,t,r){return t=Cu(t),UV(e,Q2()?Reflect.construct(t,r||[],Cu(e).constructor):t.apply(e,r))}function UV(e,t){if(t&&(ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WV(e)}function WV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q2=function(){return!!e})()}function Cu(e){return Cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cu(e)}function zV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W0(e,t)}function W0(e,t){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W0(e,t)}function eS(e,t,r){return t=tS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tS(e){var t=HV(e,"string");return ws(t)=="symbol"?t:t+""}function HV(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gf=function(e){function t(){return FV(this,t),BV(this,t,arguments)}return zV(t,e),LV(t,[{key:"render",value:function(){return null}}])}(L.Component);eS(Gf,"displayName","ZAxis");eS(Gf,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var qV=["option","isActive"];function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mo.apply(this,arguments)}function GV(e,t){if(e==null)return{};var r=VV(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KV(e){var t=e.option,r=e.isActive,n=GV(e,qV);return typeof t=="string"?L.createElement(P0,Mo({option:L.createElement(Af,Mo({type:t},n)),isActive:r,shapeType:"symbols"},n)):L.createElement(P0,Mo({option:t,isActive:r,shapeType:"symbols"},n))}function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fo.apply(this,arguments)}function Jy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jy(Object(r),!0).forEach(function(n){pi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nS(n.key),n)}}function YV(e,t,r){return t&&Zy(e.prototype,t),r&&Zy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JV(e,t,r){return t=ku(t),ZV(e,rS()?Reflect.construct(t,r||[],ku(e).constructor):t.apply(e,r))}function ZV(e,t){if(t&&(_s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QV(e)}function QV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rS=function(){return!!e})()}function ku(e){return ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ku(e)}function eK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z0(e,t)}function z0(e,t){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z0(e,t)}function pi(e,t,r){return t=nS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nS(e){var t=tK(e,"string");return _s(t)=="symbol"?t:t+""}function tK(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vf=function(e){function t(){var r;XV(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=JV(this,t,[].concat(i)),pi(r,"state",{isAnimationFinished:!1}),pi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),pi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),pi(r,"id",da("recharts-scatter-")),r}return eK(t,e),YV(t,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.activeShape,l=a.activeIndex,c=Ie(this.props,!1);return n.map(function(u,f){var h=l===f,p=h?o:s,v=Hr(Hr({},c),u);return L.createElement(et,Fo({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(f)},qo(i.props,u,f),{role:"img"}),L.createElement(KV,Fo({option:p,isActive:h,key:"symbol-".concat(f)},v)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state.prevPoints;return L.createElement(dn,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,v=a.map(function(m,g){var y=f&&f[g];if(y){var b=At(y.cx,m.cx),x=At(y.cy,m.cy),E=At(y.size,m.size);return Hr(Hr({},m),{},{cx:b(p),cy:x(p),size:E(p)})}var w=At(0,m.size);return Hr(Hr({},m),{},{size:w(p)})});return L.createElement(et,null,n.renderSymbolsStatically(v))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,s=this.state.prevPoints;return a&&i&&i.length&&(!s||!ra(s,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,s=i.xAxis,o=i.yAxis,l=i.children,c=xr(l,zs);return c?c.map(function(u,f){var h=u.props,p=h.direction,v=h.dataKey;return L.cloneElement(u,{key:"".concat(p,"-").concat(v,"-").concat(a[f]),data:a,xAxis:s,yAxis:o,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(g,y){return{x:g.cx,y:g.cy,value:p==="x"?+g.node.x:+g.node.y,errorVal:It(g,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,s=n.lineType,o=n.lineJointType,l=Ie(this.props,!1),c=Ie(a,!1),u,f;if(s==="joint")u=i.map(function(x){return{x:x.cx,y:x.cy}});else if(s==="fitting"){var h=DC(i),p=h.xmin,v=h.xmax,m=h.a,g=h.b,y=function(E){return m*E+g};u=[{x:p,y:y(p)},{x:v,y:y(v)}]}var b=Hr(Hr(Hr({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return L.isValidElement(a)?f=L.cloneElement(a,b):Fe(a)?f=a(b):f=L.createElement(Qi,Fo({},b,{type:o})),L.createElement(et,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,s=n.line,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,h=n.width,p=n.height,v=n.id,m=n.isAnimationActive;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,y=Ke("recharts-scatter",o),b=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,E=b||x,w=$e(v)?this.id:v;return L.createElement(et,{className:y,clipPath:E?"url(#clipPath-".concat(w,")"):null},b||x?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(w)},L.createElement("rect",{x:b?u:u-h/2,y:x?f:f-p/2,width:b?h:h*2,height:x?p:p*2}))):null,s&&this.renderLine(),this.renderErrorBar(),L.createElement(et,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||g)&&_n.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])}(W.PureComponent);pi(Vf,"displayName","Scatter");pi(Vf,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!un.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});pi(Vf,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,i=e.item,a=e.displayedData,s=e.xAxisTicks,o=e.yAxisTicks,l=e.offset,c=i.props.tooltipType,u=xr(i.props.children,Lp),f=$e(t.dataKey)?i.props.dataKey:t.dataKey,h=$e(r.dataKey)?i.props.dataKey:r.dataKey,p=n&&n.dataKey,v=n?n.range:Gf.defaultProps.range,m=v&&v[0],g=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,b=a.map(function(x,E){var w=It(x,f),S=It(x,h),_=!$e(p)&&It(x,p)||"-",A=[{name:$e(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:x,dataKey:f,type:c},{name:$e(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:x,dataKey:h,type:c}];_!=="-"&&A.push({name:n.name||n.dataKey,unit:n.unit||"",value:_,payload:x,dataKey:p,type:c});var O=us({axis:t,ticks:s,bandSize:g,entry:x,index:E,dataKey:f}),C=us({axis:r,ticks:o,bandSize:y,entry:x,index:E,dataKey:h}),j=_!=="-"?n.scale(_):m,P=Math.sqrt(Math.max(j,0)/Math.PI);return Hr(Hr({},x),{},{cx:O,cy:C,x:O-P,y:C-P,xAxis:t,yAxis:r,zAxis:n,width:2*P,height:2*P,size:j,node:{x:w,y:S,z:_},tooltipPayload:A,tooltipPosition:{x:O,y:C},payload:x},u&&u[E]&&u[E].props)});return Hr({points:b},l)});function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function rK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sS(n.key),n)}}function iK(e,t,r){return t&&nK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aK(e,t,r){return t=Du(t),sK(e,iS()?Reflect.construct(t,r||[],Du(e).constructor):t.apply(e,r))}function sK(e,t){if(t&&(Ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oK(e)}function oK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iS=function(){return!!e})()}function Du(e){return Du=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Du(e)}function lK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H0(e,t)}function H0(e,t){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H0(e,t)}function aS(e,t,r){return t=sS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sS(e){var t=cK(e,"string");return Ss(t)=="symbol"?t:t+""}function cK(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(this,arguments)}function uK(e){var t=e.xAxisId,r=mm(),n=vm(),i=I2(t);return i==null?null:L.createElement(qs,q0({},i,{className:Ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Fn(s,!0)}}))}var Kf=function(e){function t(){return rK(this,t),aK(this,t,arguments)}return lK(t,e),iK(t,[{key:"render",value:function(){return L.createElement(uK,this.props)}}])}(L.Component);aS(Kf,"displayName","XAxis");aS(Kf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function fK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cS(n.key),n)}}function hK(e,t,r){return t&&dK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pK(e,t,r){return t=Iu(t),mK(e,oS()?Reflect.construct(t,r||[],Iu(e).constructor):t.apply(e,r))}function mK(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vK(e)}function vK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oS=function(){return!!e})()}function Iu(e){return Iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iu(e)}function gK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G0(e,t)}function G0(e,t){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G0(e,t)}function lS(e,t,r){return t=cS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cS(e){var t=xK(e,"string");return Es(t)=="symbol"?t:t+""}function xK(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V0.apply(this,arguments)}var yK=function(t){var r=t.yAxisId,n=mm(),i=vm(),a=$2(r);return a==null?null:L.createElement(qs,V0({},a,{className:Ke("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Fn(o,!0)}}))},Al=function(e){function t(){return fK(this,t),pK(this,t,arguments)}return gK(t,e),hK(t,[{key:"render",value:function(){return L.createElement(yK,this.props)}}])}(L.Component);lS(Al,"displayName","YAxis");lS(Al,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Qy(e){return SK(e)||_K(e)||wK(e)||bK()}function bK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wK(e,t){if(e){if(typeof e=="string")return K0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K0(e,t)}}function _K(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SK(e){if(Array.isArray(e))return K0(e)}function K0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var X0=function(t,r,n,i,a){var s=xr(t,xm),o=xr(t,zf),l=[].concat(Qy(s),Qy(o)),c=xr(t,qf),u="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(m,g){if(g.props[u]===n&&Sn(g.props,"extendDomain")&&ge(g.props[f])){var y=g.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),c.length){var p="".concat(f,"1"),v="".concat(f,"2");h=c.reduce(function(m,g){if(g.props[u]===n&&Sn(g.props,"extendDomain")&&ge(g.props[p])&&ge(g.props[v])){var y=g.props[p],b=g.props[v];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},h)}return a&&a.length&&(h=a.reduce(function(m,g){return ge(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},uS={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),v=r?r+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,p,v){var m=r?r+c:c;if(!this._events[m])return!1;var g=this._events[m],y=arguments.length,b,x;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,h),!0;case 5:return g.fn.call(g.context,u,f,h,p),!0;case 6:return g.fn.call(g.context,u,f,h,p,v),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];g.fn.apply(g.context,b)}else{var E=g.length,w;for(x=0;x<E;x++)switch(g[x].once&&this.removeListener(c,g[x].fn,void 0,!0),y){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,u);break;case 3:g[x].fn.call(g[x].context,u,f);break;case 4:g[x].fn.call(g[x].context,u,f,h);break;default:if(!b)for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];g[x].fn.apply(g[x].context,b)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var v=this._events[p];if(v.fn)v.fn===u&&(!h||v.once)&&(!f||v.context===f)&&s(this,p);else{for(var m=0,g=[],y=v.length;m<y;m++)(v[m].fn!==u||h&&!v[m].once||f&&v[m].context!==f)&&g.push(v[m]);g.length?this._events[p]=g.length===1?g[0]:g:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(uS);var EK=uS.exports;const AK=mt(EK);var Xd=new AK,Yd="recharts.syncMouseEvents";function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function TK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fS(n.key),n)}}function PK(e,t,r){return t&&OK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jd(e,t,r){return t=fS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fS(e){var t=jK(e,"string");return Tl(t)=="symbol"?t:t+""}function jK(e,t){if(Tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NK=function(){function e(){TK(this,e),Jd(this,"activeIndex",0),Jd(this,"coordinateList",[]),Jd(this,"layout","horizontal")}return PK(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function CK(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&ge(n)&&ge(i))return!0}return!1}function kK(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function dS(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,s=Xt(t,r,n,i),o=Xt(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function DK(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=Xt(o,l,c,f),p=Xt(o,l,u,f);n=h.x,i=h.y,a=p.x,s=p.y}else return dS(t);return[{x:n,y:i},{x:a,y:s}]}function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function e1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(r),!0).forEach(function(n){IK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IK(e,t,r){return t=$K(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $K(e){var t=MK(e,"string");return Ol(t)=="symbol"?t:t+""}function MK(e,t){if(Ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FK(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,m=Qi;if(h==="ScatterChart")v=s,m=lz;else if(h==="BarChart")v=kK(f,s,l,u),m=fm;else if(f==="radial"){var g=dS(s),y=g.cx,b=g.cy,x=g.radius,E=g.startAngle,w=g.endAngle;v={cx:y,cy:b,startAngle:E,endAngle:w,innerRadius:x,outerRadius:x},m=s2}else v={points:DK(f,s,l)},m=Qi;var S=wc(wc(wc(wc({stroke:"#ccc",pointerEvents:"none"},l),v),Ie(p,!1)),{},{payload:o,payloadIndex:c,className:Ke("recharts-tooltip-cursor",p.className)});return W.isValidElement(p)?W.cloneElement(p,S):W.createElement(m,S)}var RK=["item"],LK=["children","className","width","height","style","compact","title","desc"];function As(e){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wa.apply(this,arguments)}function t1(e,t){return WK(e)||UK(e,t)||pS(e,t)||BK()}function BK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function WK(e){if(Array.isArray(e))return e}function r1(e,t){if(e==null)return{};var r=zK(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mS(n.key),n)}}function GK(e,t,r){return t&&qK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VK(e,t,r){return t=$u(t),KK(e,hS()?Reflect.construct(t,r||[],$u(e).constructor):t.apply(e,r))}function KK(e,t){if(t&&(As(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XK(e)}function XK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hS=function(){return!!e})()}function $u(e){return $u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$u(e)}function YK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y0(e,t)}function Y0(e,t){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y0(e,t)}function Ts(e){return QK(e)||ZK(e)||pS(e)||JK()}function JK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pS(e,t){if(e){if(typeof e=="string")return J0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J0(e,t)}}function ZK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QK(e){if(Array.isArray(e))return J0(e)}function J0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(n){Ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ne(e,t,r){return t=mS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mS(e){var t=eX(e,"string");return As(t)=="symbol"?t:t+""}function eX(e,t){if(As(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tX={xAxis:["bottom","top"],yAxis:["left","right"]},rX={width:"100%",height:"100%"},vS={x:0,y:0};function _c(e){return e}var nX=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},iX=function(t,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,o=i.radius;return ne(ne(ne({},i),Xt(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return ne(ne(ne({},i),Xt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return vS},Xf=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Ts(o),Ts(c)):o},[]);return s.length>0?s:t&&t.length&&ge(i)&&ge(a)?t.slice(i,a+1):[]};function gS(e){return e==="number"?[0,"auto"]:void 0}var Z0=function(t,r,n,i){var a=t.graphicalItems,s=t.tooltipAxis,o=Xf(r,t);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=$c(p,s.dataKey,i)}else h=f&&f[n]||o[n];return h?[].concat(Ts(l),[n2(c,h)]):l},[])},i1=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},s=nX(a,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=q7(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=Z0(t,r,u,f),p=iX(n,o,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},aX=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,p=e2(u,a);return n.reduce(function(v,m){var g,y=m.type.defaultProps!==void 0?ne(ne({},m.type.defaultProps),m.props):m.props,b=y.type,x=y.dataKey,E=y.allowDataOverflow,w=y.allowDuplicatedCategory,S=y.scale,_=y.ticks,A=y.includeHidden,O=y[s];if(v[O])return v;var C=Xf(t.data,{graphicalItems:i.filter(function(D){var z,F=s in D.props?D.props[s]:(z=D.type.defaultProps)===null||z===void 0?void 0:z[s];return F===O}),dataStartIndex:l,dataEndIndex:c}),j=C.length,P,U,q;CK(y.domain,E,b)&&(P=d0(y.domain,null,E),p&&(b==="number"||S!=="auto")&&(q=Do(C,x,"category")));var H=gS(b);if(!P||P.length===0){var Z,te=(Z=y.domain)!==null&&Z!==void 0?Z:H;if(x){if(P=Do(C,x,b),b==="category"&&p){var se=kC(P);w&&se?(U=P,P=yu(0,j)):w||(P=kx(te,P,m).reduce(function(D,z){return D.indexOf(z)>=0?D:[].concat(Ts(D),[z])},[]))}else if(b==="category")w?P=P.filter(function(D){return D!==""&&!$e(D)}):P=kx(te,P,m).reduce(function(D,z){return D.indexOf(z)>=0||z===""||$e(z)?D:[].concat(Ts(D),[z])},[]);else if(b==="number"){var oe=Y7(C,i.filter(function(D){var z,F,B=s in D.props?D.props[s]:(z=D.type.defaultProps)===null||z===void 0?void 0:z[s],Y="hide"in D.props?D.props.hide:(F=D.type.defaultProps)===null||F===void 0?void 0:F.hide;return B===O&&(A||!Y)}),x,a,u);oe&&(P=oe)}p&&(b==="number"||S!=="auto")&&(q=Do(C,x,"category"))}else p?P=yu(0,j):o&&o[O]&&o[O].hasStack&&b==="number"?P=h==="expand"?[0,1]:r2(o[O].stackGroups,l,c):P=Q_(C,i.filter(function(D){var z=s in D.props?D.props[s]:D.type.defaultProps[s],F="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return z===O&&(A||!F)}),b,u,!0);if(b==="number")P=X0(f,P,O,a,_),te&&(P=d0(te,P,E));else if(b==="category"&&te){var me=te,_e=P.every(function(D){return me.indexOf(D)>=0});_e&&(P=me)}}return ne(ne({},v),{},Ne({},O,ne(ne({},y),{},{axisType:a,domain:P,categoricalDomain:q,duplicateDomain:U,originalDomain:(g=y.domain)!==null&&g!==void 0?g:H,isCategorical:p,layout:u})))},{})},sX=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=Xf(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,v=e2(u,a),m=-1;return n.reduce(function(g,y){var b=y.type.defaultProps!==void 0?ne(ne({},y.type.defaultProps),y.props):y.props,x=b[s],E=gS("number");if(!g[x]){m++;var w;return v?w=yu(0,p):o&&o[x]&&o[x].hasStack?(w=r2(o[x].stackGroups,l,c),w=X0(f,w,x,a)):(w=d0(E,Q_(h,n.filter(function(S){var _,A,O=s in S.props?S.props[s]:(_=S.type.defaultProps)===null||_===void 0?void 0:_[s],C="hide"in S.props?S.props.hide:(A=S.type.defaultProps)===null||A===void 0?void 0:A.hide;return O===x&&!C}),"number",u),i.defaultProps.allowDataOverflow),w=X0(f,w,x,a)),ne(ne({},g),{},Ne({},x,ne(ne({axisType:a},i.defaultProps),{},{hide:!0,orientation:Vr(tX,"".concat(a,".").concat(m%2),null),domain:w,originalDomain:E,isCategorical:v,layout:u})))}return g},{})},oX=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(i,"Id"),h=xr(u,a),p={};return h&&h.length?p=aX(t,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=sX(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},lX=function(t){var r=fi(t),n=Fn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Fp(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:uu(r,n)}},a1=function(t){var r=t.children,n=t.defaultShowTooltip,i=Nr(r,hs),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},cX=function(t){return!t||!t.length?!1:t.some(function(r){var n=Rn(r&&r.type);return n&&n.indexOf("Bar")>=0})},s1=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},uX=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=Nr(f,hs),v=Nr(f,Yi),m=Object.keys(l).reduce(function(w,S){var _=l[S],A=_.orientation;return!_.mirror&&!_.hide?ne(ne({},w),{},Ne({},A,w[A]+_.width)):w},{left:h.left||0,right:h.right||0}),g=Object.keys(s).reduce(function(w,S){var _=s[S],A=_.orientation;return!_.mirror&&!_.hide?ne(ne({},w),{},Ne({},A,Vr(w,"".concat(A))+_.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=ne(ne({},g),m),b=y.bottom;p&&(y.bottom+=p.props.height||hs.defaultProps.height),v&&r&&(y=K7(y,i,n,r));var x=c-y.left-y.right,E=u-y.top-y.bottom;return ne(ne({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(E,0)})},fX=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},dX=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var x=b.graphicalItems,E=b.stackGroups,w=b.offset,S=b.updateId,_=b.dataStartIndex,A=b.dataEndIndex,O=y.barSize,C=y.layout,j=y.barGap,P=y.barCategoryGap,U=y.maxBarSize,q=s1(C),H=q.numericAxisName,Z=q.cateAxisName,te=cX(x),se=[];return x.forEach(function(oe,me){var _e=Xf(y.data,{graphicalItems:[oe],dataStartIndex:_,dataEndIndex:A}),D=oe.type.defaultProps!==void 0?ne(ne({},oe.type.defaultProps),oe.props):oe.props,z=D.dataKey,F=D.maxBarSize,B=D["".concat(H,"Id")],Y=D["".concat(Z,"Id")],xe={},be=l.reduce(function(Zt,Sr){var fe=b["".concat(Sr.axisType,"Map")],Ae=D["".concat(Sr.axisType,"Id")];fe&&fe[Ae]||Sr.axisType==="zAxis"||ia();var Me=fe[Ae];return ne(ne({},Zt),{},Ne(Ne({},Sr.axisType,Me),"".concat(Sr.axisType,"Ticks"),Fn(Me)))},xe),Q=be[Z],ie=be["".concat(Z,"Ticks")],we=E&&E[B]&&E[B].hasStack&&l9(oe,E[B].stackGroups),ee=Rn(oe.type).indexOf("Bar")>=0,De=uu(Q,ie),Se=[],Le=te&&G7({barSize:O,stackGroups:E,totalSize:fX(be,Z)});if(ee){var Ce,G,Pe=$e(F)?U:F,Ge=(Ce=(G=uu(Q,ie,!0))!==null&&G!==void 0?G:Pe)!==null&&Ce!==void 0?Ce:0;Se=V7({barGap:j,barCategoryGap:P,bandSize:Ge!==De?Ge:De,sizeList:Le[Y],maxBarSize:Pe}),Ge!==De&&(Se=Se.map(function(Zt){return ne(ne({},Zt),{},{position:ne(ne({},Zt.position),{},{offset:Zt.position.offset-Ge/2})})}))}var ft=oe&&oe.type&&oe.type.getComposedData;ft&&se.push({props:ne(ne({},ft(ne(ne({},be),{},{displayedData:_e,props:y,dataKey:z,item:oe,bandSize:De,barPosition:Se,offset:w,stackedData:we,layout:C,dataStartIndex:_,dataEndIndex:A}))),{},Ne(Ne(Ne({key:oe.key||"item-".concat(me)},H,be[H]),Z,be[Z]),"animationId",S)),childIndex:HC(oe,y.children),item:oe})}),se},p=function(y,b){var x=y.props,E=y.dataStartIndex,w=y.dataEndIndex,S=y.updateId;if(!Tv({props:x}))return null;var _=x.children,A=x.layout,O=x.stackOffset,C=x.data,j=x.reverseStackOrder,P=s1(A),U=P.numericAxisName,q=P.cateAxisName,H=xr(_,n),Z=a9(C,H,"".concat(U,"Id"),"".concat(q,"Id"),O,j),te=l.reduce(function(D,z){var F="".concat(z.axisType,"Map");return ne(ne({},D),{},Ne({},F,oX(x,ne(ne({},z),{},{graphicalItems:H,stackGroups:z.axisType===U&&Z,dataStartIndex:E,dataEndIndex:w}))))},{}),se=uX(ne(ne({},te),{},{props:x,graphicalItems:H}),b==null?void 0:b.legendBBox);Object.keys(te).forEach(function(D){te[D]=u(x,te[D],se,D.replace("Map",""),r)});var oe=te["".concat(q,"Map")],me=lX(oe),_e=h(x,ne(ne({},te),{},{dataStartIndex:E,dataEndIndex:w,updateId:S,graphicalItems:H,stackGroups:Z,offset:se}));return ne(ne({formattedGraphicalItems:_e,graphicalItems:H,offset:se,stackGroups:Z},me),te)},v=function(g){function y(b){var x,E,w;return HK(this,y),w=VK(this,y,[b]),Ne(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ne(w,"accessibilityManager",new NK),Ne(w,"handleLegendBBoxUpdate",function(S){if(S){var _=w.state,A=_.dataStartIndex,O=_.dataEndIndex,C=_.updateId;w.setState(ne({legendBBox:S},p({props:w.props,dataStartIndex:A,dataEndIndex:O,updateId:C},ne(ne({},w.state),{},{legendBBox:S}))))}}),Ne(w,"handleReceiveSyncEvent",function(S,_,A){if(w.props.syncId===S){if(A===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(_)}}),Ne(w,"handleBrushChange",function(S){var _=S.startIndex,A=S.endIndex;if(_!==w.state.dataStartIndex||A!==w.state.dataEndIndex){var O=w.state.updateId;w.setState(function(){return ne({dataStartIndex:_,dataEndIndex:A},p({props:w.props,dataStartIndex:_,dataEndIndex:A,updateId:O},w.state))}),w.triggerSyncEvent({dataStartIndex:_,dataEndIndex:A})}}),Ne(w,"handleMouseEnter",function(S){var _=w.getMouseInfo(S);if(_){var A=ne(ne({},_),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var O=w.props.onMouseEnter;Fe(O)&&O(A,S)}}),Ne(w,"triggeredAfterMouseMove",function(S){var _=w.getMouseInfo(S),A=_?ne(ne({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var O=w.props.onMouseMove;Fe(O)&&O(A,S)}),Ne(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ne(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ne(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Ne(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var A=w.props.onMouseLeave;Fe(A)&&A(_,S)}),Ne(w,"handleOuterEvent",function(S){var _=zC(S),A=Vr(w.props,"".concat(_));if(_&&Fe(A)){var O,C;/.*touch.*/i.test(_)?C=w.getMouseInfo(S.changedTouches[0]):C=w.getMouseInfo(S),A((O=C)!==null&&O!==void 0?O:{},S)}}),Ne(w,"handleClick",function(S){var _=w.getMouseInfo(S);if(_){var A=ne(ne({},_),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var O=w.props.onClick;Fe(O)&&O(A,S)}}),Ne(w,"handleMouseDown",function(S){var _=w.props.onMouseDown;if(Fe(_)){var A=w.getMouseInfo(S);_(A,S)}}),Ne(w,"handleMouseUp",function(S){var _=w.props.onMouseUp;if(Fe(_)){var A=w.getMouseInfo(S);_(A,S)}}),Ne(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ne(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Ne(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Ne(w,"handleDoubleClick",function(S){var _=w.props.onDoubleClick;if(Fe(_)){var A=w.getMouseInfo(S);_(A,S)}}),Ne(w,"handleContextMenu",function(S){var _=w.props.onContextMenu;if(Fe(_)){var A=w.getMouseInfo(S);_(A,S)}}),Ne(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&Xd.emit(Yd,w.props.syncId,S,w.eventEmitterSymbol)}),Ne(w,"applySyncEvent",function(S){var _=w.props,A=_.layout,O=_.syncMethod,C=w.state.updateId,j=S.dataStartIndex,P=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(ne({dataStartIndex:j,dataEndIndex:P},p({props:w.props,dataStartIndex:j,dataEndIndex:P,updateId:C},w.state)));else if(S.activeTooltipIndex!==void 0){var U=S.chartX,q=S.chartY,H=S.activeTooltipIndex,Z=w.state,te=Z.offset,se=Z.tooltipTicks;if(!te)return;if(typeof O=="function")H=O(se,S);else if(O==="value"){H=-1;for(var oe=0;oe<se.length;oe++)if(se[oe].value===S.activeLabel){H=oe;break}}var me=ne(ne({},te),{},{x:te.left,y:te.top}),_e=Math.min(U,me.x+me.width),D=Math.min(q,me.y+me.height),z=se[H]&&se[H].value,F=Z0(w.state,w.props.data,H),B=se[H]?{x:A==="horizontal"?se[H].coordinate:_e,y:A==="horizontal"?D:se[H].coordinate}:vS;w.setState(ne(ne({},S),{},{activeLabel:z,activeCoordinate:B,activePayload:F,activeTooltipIndex:H}))}else w.setState(S)}),Ne(w,"renderCursor",function(S){var _,A=w.state,O=A.isTooltipActive,C=A.activeCoordinate,j=A.activePayload,P=A.offset,U=A.activeTooltipIndex,q=A.tooltipAxisBandSize,H=w.getTooltipEventType(),Z=(_=S.props.active)!==null&&_!==void 0?_:O,te=w.props.layout,se=S.key||"_recharts-cursor";return L.createElement(FK,{key:se,activeCoordinate:C,activePayload:j,activeTooltipIndex:U,chartName:r,element:S,isActive:Z,layout:te,offset:P,tooltipAxisBandSize:q,tooltipEventType:H})}),Ne(w,"renderPolarAxis",function(S,_,A){var O=Vr(S,"type.axisType"),C=Vr(w.state,"".concat(O,"Map")),j=S.type.defaultProps,P=j!==void 0?ne(ne({},j),S.props):S.props,U=C&&C[P["".concat(O,"Id")]];return W.cloneElement(S,ne(ne({},U),{},{className:Ke(O,U.className),key:S.key||"".concat(_,"-").concat(A),ticks:Fn(U,!0)}))}),Ne(w,"renderPolarGrid",function(S){var _=S.props,A=_.radialLines,O=_.polarAngles,C=_.polarRadius,j=w.state,P=j.radiusAxisMap,U=j.angleAxisMap,q=fi(P),H=fi(U),Z=H.cx,te=H.cy,se=H.innerRadius,oe=H.outerRadius;return W.cloneElement(S,{polarAngles:Array.isArray(O)?O:Fn(H,!0).map(function(me){return me.coordinate}),polarRadius:Array.isArray(C)?C:Fn(q,!0).map(function(me){return me.coordinate}),cx:Z,cy:te,innerRadius:se,outerRadius:oe,key:S.key||"polar-grid",radialLines:A})}),Ne(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,_=w.props,A=_.children,O=_.width,C=_.height,j=w.props.margin||{},P=O-(j.left||0)-(j.right||0),U=J_({children:A,formattedGraphicalItems:S,legendWidth:P,legendContent:c});if(!U)return null;var q=U.item,H=r1(U,RK);return W.cloneElement(q,ne(ne({},H),{},{chartWidth:O,chartHeight:C,margin:j,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ne(w,"renderTooltip",function(){var S,_=w.props,A=_.children,O=_.accessibilityLayer,C=Nr(A,gn);if(!C)return null;var j=w.state,P=j.isTooltipActive,U=j.activeCoordinate,q=j.activePayload,H=j.activeLabel,Z=j.offset,te=(S=C.props.active)!==null&&S!==void 0?S:P;return W.cloneElement(C,{viewBox:ne(ne({},Z),{},{x:Z.left,y:Z.top}),active:te,label:H,payload:te?q:[],coordinate:U,accessibilityLayer:O})}),Ne(w,"renderBrush",function(S){var _=w.props,A=_.margin,O=_.data,C=w.state,j=C.offset,P=C.dataStartIndex,U=C.dataEndIndex,q=C.updateId;return W.cloneElement(S,{key:S.key||"_recharts-brush",onChange:gc(w.handleBrushChange,S.props.onChange),data:O,x:ge(S.props.x)?S.props.x:j.left,y:ge(S.props.y)?S.props.y:j.top+j.height+j.brushBottom-(A.bottom||0),width:ge(S.props.width)?S.props.width:j.width,startIndex:P,endIndex:U,updateId:"brush-".concat(q)})}),Ne(w,"renderReferenceElement",function(S,_,A){if(!S)return null;var O=w,C=O.clipPathId,j=w.state,P=j.xAxisMap,U=j.yAxisMap,q=j.offset,H=S.type.defaultProps||{},Z=S.props,te=Z.xAxisId,se=te===void 0?H.xAxisId:te,oe=Z.yAxisId,me=oe===void 0?H.yAxisId:oe;return W.cloneElement(S,{key:S.key||"".concat(_,"-").concat(A),xAxis:P[se],yAxis:U[me],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:C})}),Ne(w,"renderActivePoints",function(S){var _=S.item,A=S.activePoint,O=S.basePoint,C=S.childIndex,j=S.isRange,P=[],U=_.props.key,q=_.item.type.defaultProps!==void 0?ne(ne({},_.item.type.defaultProps),_.item.props):_.item.props,H=q.activeDot,Z=q.dataKey,te=ne(ne({index:C,dataKey:Z,cx:A.x,cy:A.y,r:4,fill:um(_.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ie(H,!1)),Mc(H));return P.push(y.renderActiveDot(H,te,"".concat(U,"-activePoint-").concat(C))),O?P.push(y.renderActiveDot(H,ne(ne({},te),{},{cx:O.x,cy:O.y}),"".concat(U,"-basePoint-").concat(C))):j&&P.push(null),P}),Ne(w,"renderGraphicChild",function(S,_,A){var O=w.filterFormatItem(S,_,A);if(!O)return null;var C=w.getTooltipEventType(),j=w.state,P=j.isTooltipActive,U=j.tooltipAxis,q=j.activeTooltipIndex,H=j.activeLabel,Z=w.props.children,te=Nr(Z,gn),se=O.props,oe=se.points,me=se.isRange,_e=se.baseLine,D=O.item.type.defaultProps!==void 0?ne(ne({},O.item.type.defaultProps),O.item.props):O.item.props,z=D.activeDot,F=D.hide,B=D.activeBar,Y=D.activeShape,xe=!!(!F&&P&&te&&(z||B||Y)),be={};C!=="axis"&&te&&te.props.trigger==="click"?be={onClick:gc(w.handleItemMouseEnter,S.props.onClick)}:C!=="axis"&&(be={onMouseLeave:gc(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:gc(w.handleItemMouseEnter,S.props.onMouseEnter)});var Q=W.cloneElement(S,ne(ne({},O.props),be));function ie(Sr){return typeof U.dataKey=="function"?U.dataKey(Sr.payload):null}if(xe)if(q>=0){var we,ee;if(U.dataKey&&!U.allowDuplicatedCategory){var De=typeof U.dataKey=="function"?ie:"payload.".concat(U.dataKey.toString());we=$c(oe,De,H),ee=me&&_e&&$c(_e,De,H)}else we=oe==null?void 0:oe[q],ee=me&&_e&&_e[q];if(Y||B){var Se=S.props.activeIndex!==void 0?S.props.activeIndex:q;return[W.cloneElement(S,ne(ne(ne({},O.props),be),{},{activeIndex:Se})),null,null]}if(!$e(we))return[Q].concat(Ts(w.renderActivePoints({item:O,activePoint:we,basePoint:ee,childIndex:q,isRange:me})))}else{var Le,Ce=(Le=w.getItemByXY(w.state.activeCoordinate))!==null&&Le!==void 0?Le:{graphicalItem:Q},G=Ce.graphicalItem,Pe=G.item,Ge=Pe===void 0?S:Pe,ft=G.childIndex,Zt=ne(ne(ne({},O.props),be),{},{activeIndex:ft});return[W.cloneElement(Ge,Zt),null,null]}return me?[Q,null,null]:[Q,null]}),Ne(w,"renderCustomized",function(S,_,A){return W.cloneElement(S,ne(ne({key:"recharts-customized-".concat(A)},w.props),w.state))}),Ne(w,"renderMap",{CartesianGrid:{handler:_c,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:_c},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:_c},YAxis:{handler:_c},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:da("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=Jw(w.triggeredAfterMouseMove,(E=b.throttleDelay)!==null&&E!==void 0?E:1e3/60),w.state={},w}return YK(y,g),GK(y,[{key:"componentDidMount",value:function(){var x,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,E=x.children,w=x.data,S=x.height,_=x.layout,A=Nr(E,gn);if(A){var O=A.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,j=Z0(this.state,w,O,C),P=this.state.tooltipTicks[O].coordinate,U=(this.state.offset.top+S)/2,q=_==="horizontal",H=q?{x:P,y:U}:{y:P,x:U},Z=this.state.formattedGraphicalItems.find(function(se){var oe=se.item;return oe.type.name==="Scatter"});Z&&(H=ne(ne({},H),Z.props.points[O].tooltipPosition),j=Z.props.points[O].tooltipPayload);var te={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:C,activePayload:j,activeCoordinate:H};this.setState(te),this.renderCursor(A),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(x){Oh([Nr(x.children,gn)],[Nr(this.props.children,gn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Nr(this.props.children,gn);if(x&&typeof x.props.shared=="boolean"){var E=x.props.shared?"axis":"item";return o.indexOf(E)>=0?E:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var E=this.container,w=E.getBoundingClientRect(),S=g6(w),_={chartX:Math.round(x.pageX-S.left),chartY:Math.round(x.pageY-S.top)},A=w.width/E.offsetWidth||1,O=this.inRange(_.chartX,_.chartY,A);if(!O)return null;var C=this.state,j=C.xAxisMap,P=C.yAxisMap,U=this.getTooltipEventType();if(U!=="axis"&&j&&P){var q=fi(j).scale,H=fi(P).scale,Z=q&&q.invert?q.invert(_.chartX):null,te=H&&H.invert?H.invert(_.chartY):null;return ne(ne({},_),{},{xValue:Z,yValue:te})}var se=i1(this.state,this.props.data,this.props.layout,O);return se?ne(ne({},_),se):null}},{key:"inRange",value:function(x,E){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,_=x/w,A=E/w;if(S==="horizontal"||S==="vertical"){var O=this.state.offset,C=_>=O.left&&_<=O.left+O.width&&A>=O.top&&A<=O.top+O.height;return C?{x:_,y:A}:null}var j=this.state,P=j.angleAxisMap,U=j.radiusAxisMap;if(P&&U){var q=fi(P);return $x({x:_,y:A},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,E=this.getTooltipEventType(),w=Nr(x,gn),S={};w&&E==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=Mc(this.props,this.handleOuterEvent);return ne(ne({},_),S)}},{key:"addListener",value:function(){Xd.on(Yd,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Xd.removeListener(Yd,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,E,w){for(var S=this.state.formattedGraphicalItems,_=0,A=S.length;_<A;_++){var O=S[_];if(O.item===x||O.props.key===x.key||E===Rn(O.item.type)&&w===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,E=this.state.offset,w=E.left,S=E.top,_=E.height,A=E.width;return L.createElement("defs",null,L.createElement("clipPath",{id:x},L.createElement("rect",{x:w,y:S,height:_,width:A})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(E,w){var S=t1(w,2),_=S[0],A=S[1];return ne(ne({},E),{},Ne({},_,A.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(E,w){var S=t1(w,2),_=S[0],A=S[1];return ne(ne({},E),{},Ne({},_,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[x])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(x){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[x])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(x){var E=this.state,w=E.formattedGraphicalItems,S=E.activeItem;if(w&&w.length)for(var _=0,A=w.length;_<A;_++){var O=w[_],C=O.props,j=O.item,P=j.type.defaultProps!==void 0?ne(ne({},j.type.defaultProps),j.props):j.props,U=Rn(j.type);if(U==="Bar"){var q=(C.data||[]).find(function(se){return ZW(x,se)});if(q)return{graphicalItem:O,payload:q}}else if(U==="RadialBar"){var H=(C.data||[]).find(function(se){return $x(x,se)});if(H)return{graphicalItem:O,payload:H}}else if(Lf(O,S)||Bf(O,S)||bl(O,S)){var Z=eH({graphicalItem:O,activeTooltipItem:S,itemData:P.data}),te=P.activeIndex===void 0?Z:P.activeIndex;return{graphicalItem:ne(ne({},O),{},{childIndex:te}),payload:bl(O,S)?P.data[Z]:O.props.data[Z]}}}return null}},{key:"render",value:function(){var x=this;if(!Tv(this))return null;var E=this.props,w=E.children,S=E.className,_=E.width,A=E.height,O=E.style,C=E.compact,j=E.title,P=E.desc,U=r1(E,LK),q=Ie(U,!1);if(C)return L.createElement(Dy,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(jh,Wa({},q,{width:_,height:A,title:j,desc:P}),this.renderClipPath(),Pv(w,this.renderMap)));if(this.props.accessibilityLayer){var H,Z;q.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,q.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",q.onKeyDown=function(se){x.accessibilityManager.keyboardEvent(se)},q.onFocus=function(){x.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return L.createElement(Dy,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Wa({className:Ke("recharts-wrapper",S),style:ne({position:"relative",cursor:"default",width:_,height:A},O)},te,{ref:function(oe){x.container=oe}}),L.createElement(jh,Wa({},q,{width:_,height:A,title:j,desc:P,style:rX}),this.renderClipPath(),Pv(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(W.Component);Ne(v,"displayName",r),Ne(v,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ne(v,"getDerivedStateFromProps",function(g,y){var b=g.dataKey,x=g.data,E=g.children,w=g.width,S=g.height,_=g.layout,A=g.stackOffset,O=g.margin,C=y.dataStartIndex,j=y.dataEndIndex;if(y.updateId===void 0){var P=a1(g);return ne(ne(ne({},P),{},{updateId:0},p(ne(ne({props:g},P),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:S,prevLayout:_,prevStackOffset:A,prevMargin:O,prevChildren:E})}if(b!==y.prevDataKey||x!==y.prevData||w!==y.prevWidth||S!==y.prevHeight||_!==y.prevLayout||A!==y.prevStackOffset||!Ga(O,y.prevMargin)){var U=a1(g),q={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},H=ne(ne({},i1(y,x,_)),{},{updateId:y.updateId+1}),Z=ne(ne(ne({},U),q),H);return ne(ne(ne({},Z),p(ne({props:g},Z),y)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:S,prevLayout:_,prevStackOffset:A,prevMargin:O,prevChildren:E})}if(!Oh(E,y.prevChildren)){var te,se,oe,me,_e=Nr(E,hs),D=_e&&(te=(se=_e.props)===null||se===void 0?void 0:se.startIndex)!==null&&te!==void 0?te:C,z=_e&&(oe=(me=_e.props)===null||me===void 0?void 0:me.endIndex)!==null&&oe!==void 0?oe:j,F=D!==C||z!==j,B=!$e(x),Y=B&&!F?y.updateId:y.updateId+1;return ne(ne({updateId:Y},p(ne(ne({props:g},y),{},{updateId:Y,dataStartIndex:D,dataEndIndex:z}),y)),{},{prevChildren:E,dataStartIndex:D,dataEndIndex:z})}return null}),Ne(v,"renderActiveDot",function(g,y,b){var x;return W.isValidElement(g)?x=W.cloneElement(g,y):Fe(g)?x=g(y):x=L.createElement(Rf,y),L.createElement(et,{className:"recharts-active-dot",key:b},x)});var m=W.forwardRef(function(y,b){return L.createElement(v,Wa({},y,{ref:b}))});return m.displayName=v.displayName,m},hX=dX({chartName:"ComposedChart",GraphicalChild:[In,Ti,Hs,Vf],axisComponents:[{axisType:"xAxis",AxisComp:Kf},{axisType:"yAxis",AxisComp:Al},{axisType:"zAxis",AxisComp:Gf}],formatAxisMap:Aq});function pX(){const{user:e}=Xn(),[t,r]=W.useState("UTC"),[n,i]=W.useState(!0);return W.useEffect(()=>{async function a(){try{if(!e){i(!1);return}const{data:s,error:o}=await Re.from("user_settings").select("timezone").eq("user_id",e.id).maybeSingle();!o&&s&&r(s.timezone)}catch(s){console.error("Error loading timezone:",s)}finally{i(!1)}}a()},[e]),{timezone:t,loading:n}}function Zd(e,t){try{const r=typeof e=="string"?new Date(e):e;return new Intl.DateTimeFormat("en-CA",{timeZone:t,year:"numeric",month:"2-digit",day:"2-digit"}).format(r)}catch(r){return console.error("Error formatting date:",r),new Date(e).toISOString().split("T")[0]}}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Mu={};Mu.version="0.18.5";var xS=1252,mX=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],yS=function(e){mX.indexOf(e)!=-1&&(xS=e)};function vX(){yS(1252)}var Pl=function(e){yS(e)};function gX(){Pl(1200),vX()}var Sc=function(t){return String.fromCharCode(t)},o1=function(t){return String.fromCharCode(t)},Bi,mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function jl(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),a=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,i=e.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),t+=mi.charAt(a)+mi.charAt(s)+mi.charAt(o)+mi.charAt(l);return t}function Vn(e){var t="",r=0,n=0,i=0,a=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)a=mi.indexOf(e.charAt(c++)),s=mi.indexOf(e.charAt(c++)),r=a<<2|s>>4,t+=String.fromCharCode(r),o=mi.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=mi.indexOf(e.charAt(c++)),i=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(i));return t}var Qe=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Qn=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function sa(e){return Qe?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function l1(e){return Qe?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var on=function(t){return Qe?Qn(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Yf(e){if(typeof ArrayBuffer>"u")return on(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function ql(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function xX(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Vt=Qe?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Qn(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function yX(e){for(var t=[],r=0,n=e.length+250,i=sa(e.length+255),a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(s&3)<<4,i[r++]=128|o&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(t.push(i.slice(0,r)),r=0,i=sa(65535),n=65530)}return t.push(i.slice(0,r)),Vt(t)}var Ro=/\u0000/g,Ec=/[\u0001-\u0006]/g;function Xa(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function cn(e,t){var r=""+e;return r.length>=t?r:_t("0",t-r.length)+r}function wm(e,t){var r=""+e;return r.length>=t?r:_t(" ",t-r.length)+r}function Fu(e,t){var r=""+e;return r.length>=t?r:r+_t(" ",t-r.length)}function bX(e,t){var r=""+Math.round(e);return r.length>=t?r:_t("0",t-r.length)+r}function wX(e,t){var r=""+e;return r.length>=t?r:_t("0",t-r.length)+r}var c1=Math.pow(2,32);function Da(e,t){if(e>c1||e<-c1)return bX(e,t);var r=Math.round(e);return wX(r,t)}function Ru(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var u1=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Qd=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function _X(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var St={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},f1={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},SX={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Lu(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<t&&(f=Math.floor(i),o=f*s+a,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),a=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=a):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Ac(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,s=[],o={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),r&&(a=NX(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var bS=new Date(1899,11,31,0,0,0),EX=bS.getTime(),AX=new Date(1900,2,1,0,0,0);function wS(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=AX&&(r+=24*60*60*1e3),(r-(EX+(e.getTimezoneOffset()-bS.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function _m(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function TX(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function OX(e){var t=e<0?12:11,r=_m(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function PX(e){var t=_m(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function jX(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=OX(e):t===10?r=e.toFixed(10).substr(0,12):r=PX(e),_m(TX(r.toUpperCase()))}function Q0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):jX(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return xi(14,wS(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function NX(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function CX(e,t,r,n){var i="",a=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return Qd[r.m-1][1];case 5:return Qd[r.m-1][0];default:return Qd[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return u1[r.q][0];default:return u1[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?cn(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),t==="s"?a===0?"0":""+a/s:(i=cn(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?cn(l,c):"";return u}function vi(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var _S=/%/g;function kX(e,t,r){var n=t.replace(_S,""),i=t.length-n.length;return Un(e,n,r*Math.pow(10,2*i))+_t("%",i)}function DX(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Un(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function SS(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+SS(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var ES=/# (\?+)( ?)\/( ?)(\d+)/;function IX(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(a===0?"":""+a)+" "+(s===0?_t(" ",e[1].length+1+e[4].length):wm(s,e[1].length)+e[2]+"/"+e[3]+cn(o,e[4].length))}function $X(e,t,r){return r+(t===0?"":""+t)+_t(" ",e[1].length+2+e[4].length)}var AS=/^#*0*\.([0#]+)/,TS=/\).*[0#]/,OS=/\(###\) ###\\?-####/;function ur(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function d1(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function h1(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function MX(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function FX(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function zr(e,t,r){if(e.charCodeAt(0)===40&&!t.match(TS)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?zr("n",n,r):"("+zr("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return DX(e,t,r);if(t.indexOf("%")!==-1)return kX(e,t,r);if(t.indexOf("E")!==-1)return SS(t,r);if(t.charCodeAt(0)===36)return"$"+zr(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Da(l,t.length);if(t.match(/^[#?]+$/))return i=Da(r,0),i==="0"&&(i=""),i.length>t.length?i:ur(t.substr(0,t.length-i.length))+i;if(a=t.match(ES))return IX(a,l,c);if(t.match(/^#+0+$/))return c+Da(l,t.length-t.indexOf("0"));if(a=t.match(AS))return i=d1(r,a[1].length).replace(/^([^\.]+)$/,"$1."+ur(a[1])).replace(/\.$/,"."+ur(a[1])).replace(/\.(\d*)$/,function(v,m){return"."+m+_t("0",ur(a[1]).length-m.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+d1(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+vi(Da(l,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+zr(e,t,-r):vi(""+(Math.floor(r)+MX(r,a[1].length)))+"."+cn(h1(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return zr(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Xa(zr(e,t.replace(/[\\-]/g,""),r)),s=0,Xa(Xa(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return s<i.length?i.charAt(s++):v==="0"?"0":""}));if(t.match(OS))return i=zr(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=Lu(l,Math.pow(10,s)-1,!1),i=""+c,u=Un("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=Fu(o[2],s),u.length<a[4].length&&(u=ur(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=Lu(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?wm(o[1],s)+a[2]+"/"+a[3]+Fu(o[2],s):_t(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=Da(r,0),t.length<=i.length?i:ur(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=t.indexOf(".")-s,h=t.length-i.length-f;return ur(t.substr(0,f)+i+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=h1(r,a[1].length),r<0?"-"+zr(e,t,-r):vi(FX(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?cn(0,3-v.length):"")+v})+"."+cn(s,a[1].length);switch(t){case"###,##0.00":return zr(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=vi(Da(l,0));return p!=="0"?c+p:"";case"###,###.00":return zr(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return zr(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function RX(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Un(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function LX(e,t,r){var n=t.replace(_S,""),i=t.length-n.length;return Un(e,n,r*Math.pow(10,2*i))+_t("%",i)}function PS(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+PS(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function mn(e,t,r){if(e.charCodeAt(0)===40&&!t.match(TS)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?mn("n",n,r):"("+mn("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return RX(e,t,r);if(t.indexOf("%")!==-1)return LX(e,t,r);if(t.indexOf("E")!==-1)return PS(t,r);if(t.charCodeAt(0)===36)return"$"+mn(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+cn(l,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:ur(t.substr(0,t.length-i.length))+i;if(a=t.match(ES))return $X(a,l,c);if(t.match(/^#+0+$/))return c+cn(l,t.length-t.indexOf("0"));if(a=t.match(AS))return i=(""+r).replace(/^([^\.]+)$/,"$1."+ur(a[1])).replace(/\.$/,"."+ur(a[1])),i=i.replace(/\.(\d*)$/,function(v,m){return"."+m+_t("0",ur(a[1]).length-m.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+vi(""+l);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+mn(e,t,-r):vi(""+r)+"."+_t("0",a[1].length);if(a=t.match(/^#,#*,#0/))return mn(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Xa(mn(e,t.replace(/[\\-]/g,""),r)),s=0,Xa(Xa(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return s<i.length?i.charAt(s++):v==="0"?"0":""}));if(t.match(OS))return i=mn(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=Lu(l,Math.pow(10,s)-1,!1),i=""+c,u=Un("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=Fu(o[2],s),u.length<a[4].length&&(u=ur(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=Lu(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?wm(o[1],s)+a[2]+"/"+a[3]+Fu(o[2],s):_t(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:ur(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=t.indexOf(".")-s,h=t.length-i.length-f;return ur(t.substr(0,f)+i+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+mn(e,t,-r):vi(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?cn(0,3-v.length):"")+v})+"."+cn(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=vi(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return mn(e,t.slice(0,t.lastIndexOf(".")),r)+ur(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Un(e,t,r){return(r|0)===r?mn(e,t,r):zr(e,t,r)}function BX(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var jS=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function NS(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Ru(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(jS))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function UX(e,t,r,n){for(var i=[],a="",s=0,o="",l="t",c,u,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Ru(e,s))throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(f=e.charCodeAt(++s))!==34&&s<e.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++s;break;case"\\":var p=e.charAt(++s),v=p==="("||p===")"?p:"t";i[i.length]={t:v,v:p},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=Ac(t,r,e.charAt(s+1)==="2"),c==null))return"";i[i.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Ac(t,r),c==null))return"";for(a=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var m={t:o,v:o};if(c==null&&(c=Ac(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="/"?(c!=null&&(m.v=c.H>=12?"":""),m.t="T",s+=5,h="h"):(m.t="t",++s),c==null&&m.t==="T")return"";i[i.length]=m,l=o;break;case"[":for(a=o;e.charAt(s++)!=="]"&&s<e.length;)a+=e.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(jS)){if(c==null&&(c=Ac(t,r),c==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",NS(e)||(i[i.length]={t:"t",v:a}));break;case".":if(c!=null){for(a=o;++s<e.length&&(o=e.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;e.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)a+=e.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"t",v:o},++s;break}var g=0,y=0,b;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=h,l="h",g<1&&(g=1);break;case"s":(b=i[s].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&i[s].v.match(/[Hh]/)&&(g=1),g<2&&i[s].v.match(/[Mm]/)&&(g=2),g<3&&i[s].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var x="",E;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=CX(i[s].t.charCodeAt(0),i[s].v,c,y),i[s].t="t";break;case"n":case"?":for(E=s+1;i[E]!=null&&((o=i[E].t)==="?"||o==="D"||(o===" "||o==="t")&&i[E+1]!=null&&(i[E+1].t==="?"||i[E+1].t==="t"&&i[E+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[E].v==="/"||i[E].v===" "&&i[E+1]!=null&&i[E+1].t=="?"));)i[s].v+=i[E].v,i[E]={v:"",t:";"},++E;x+=i[s].v,s=E-1;break;case"G":i[s].t="t",i[s].v=Q0(t,r);break}var w="",S,_;if(x.length>0){x.charCodeAt(0)==40?(S=t<0&&x.charCodeAt(0)===45?-t:t,_=Un("n",x,S)):(S=t<0&&n>1?-t:t,_=Un("n",x,S),S<0&&i[0]&&i[0].t=="t"&&(_=_.substr(1),i[0].v="-"+i[0].v)),E=_.length-1;var A=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){A=s;break}var O=i.length;if(A===i.length&&_.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(E>=i[s].v.length-1?(E-=i[s].v.length,i[s].v=_.substr(E+1,i[s].v.length)):E<0?i[s].v="":(i[s].v=_.substr(0,E+1),E=-1),i[s].t="t",O=s);E>=0&&O<i.length&&(i[O].v=_.substr(0,E+1)+i[O].v)}else if(A!==i.length&&_.indexOf("E")===-1){for(E=_.indexOf(".")-1,s=A;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(u=i[s].v.indexOf(".")>-1&&s===A?i[s].v.indexOf(".")-1:i[s].v.length-1,w=i[s].v.substr(u+1);u>=0;--u)E>=0&&(i[s].v.charAt(u)==="0"||i[s].v.charAt(u)==="#")&&(w=_.charAt(E--)+w);i[s].v=w,i[s].t="t",O=s}for(E>=0&&O<i.length&&(i[O].v=_.substr(0,E+1)+i[O].v),E=_.indexOf(".")+1,s=A;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==A)){for(u=i[s].v.indexOf(".")>-1&&s===A?i[s].v.indexOf(".")+1:0,w=i[s].v.substr(0,u);u<i[s].v.length;++u)E<_.length&&(w+=_.charAt(E++));i[s].v=w,i[s].t="t",O=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(S=n>1&&t<0&&s>0&&i[s-1].v==="-"?-t:t,i[s].v=Un(i[s].t,i[s].v,S),i[s].t="t");var C="";for(s=0;s!==i.length;++s)i[s]!=null&&(C+=i[s].v);return C}var p1=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function m1(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function WX(e,t){var r=BX(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(p1),o=r[1].match(p1);return m1(t,s)?[n,r[0]]:m1(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,a]}function xi(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:St)[e],n==null&&(n=r.table&&r.table[f1[e]]||St[f1[e]]),n==null&&(n=SX[e]||"General");break}if(Ru(n,0))return Q0(t,r);t instanceof Date&&(t=wS(t,r.date1904));var i=WX(n,t);if(Ru(i[1]))return Q0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return UX(i[1],t,r,i[0])}function CS(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(St[r]==null){t<0&&(t=r);continue}if(St[r]==e){t=r;break}}t<0&&(t=391)}return St[t]=e,t}function Jf(e){for(var t=0;t!=392;++t)e[t]!==void 0&&CS(e[t],t)}function Zf(){St=_X()}var kS=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function zX(e){var t=typeof e=="number"?St[e]:e;return t=t.replace(kS,"(\\d+)"),new RegExp("^"+t+"$")}function HX(e,t,r){var n=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(t.match(kS)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":a=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:i=p;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&a==-1?u:c+"T"+u}var qX=function(){var e={};e.version="1.2.0";function t(){for(var _=0,A=new Array(256),O=0;O!=256;++O)_=O,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,A[O]=_;return typeof Int32Array<"u"?new Int32Array(A):A}var r=t();function n(_){var A=0,O=0,C=0,j=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)j[C]=_[C];for(C=0;C!=256;++C)for(O=_[C],A=256+C;A<4096;A+=256)O=j[A]=O>>>8^_[O&255];var P=[];for(C=1;C!=16;++C)P[C-1]=typeof Int32Array<"u"?j.subarray(C*256,C*256+256):j.slice(C*256,C*256+256);return P}var i=n(r),a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],h=i[7],p=i[8],v=i[9],m=i[10],g=i[11],y=i[12],b=i[13],x=i[14];function E(_,A){for(var O=A^-1,C=0,j=_.length;C<j;)O=O>>>8^r[(O^_.charCodeAt(C++))&255];return~O}function w(_,A){for(var O=A^-1,C=_.length-15,j=0;j<C;)O=x[_[j++]^O&255]^b[_[j++]^O>>8&255]^y[_[j++]^O>>16&255]^g[_[j++]^O>>>24]^m[_[j++]]^v[_[j++]]^p[_[j++]]^h[_[j++]]^f[_[j++]]^u[_[j++]]^c[_[j++]]^l[_[j++]]^o[_[j++]]^s[_[j++]]^a[_[j++]]^r[_[j++]];for(C+=15;j<C;)O=O>>>8^r[(O^_[j++])&255];return~O}function S(_,A){for(var O=A^-1,C=0,j=_.length,P=0,U=0;C<j;)P=_.charCodeAt(C++),P<128?O=O>>>8^r[(O^P)&255]:P<2048?(O=O>>>8^r[(O^(192|P>>6&31))&255],O=O>>>8^r[(O^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,U=_.charCodeAt(C++)&1023,O=O>>>8^r[(O^(240|P>>8&7))&255],O=O>>>8^r[(O^(128|P>>2&63))&255],O=O>>>8^r[(O^(128|U>>6&15|(P&3)<<4))&255],O=O>>>8^r[(O^(128|U&63))&255]):(O=O>>>8^r[(O^(224|P>>12&15))&255],O=O>>>8^r[(O^(128|P>>6&63))&255],O=O>>>8^r[(O^(128|P&63))&255]);return~O}return e.table=r,e.bstr=E,e.buf=w,e.str=S,e}(),lt=function(){var t={};t.version="1.2.1";function r(T,I){for(var N=T.split("/"),k=I.split("/"),M=0,R=0,X=Math.min(N.length,k.length);M<X;++M){if(R=N[M].length-k[M].length)return R;if(N[M]!=k[M])return N[M]<k[M]?-1:1}return N.length-k.length}function n(T){if(T.charAt(T.length-1)=="/")return T.slice(0,-1).indexOf("/")===-1?T:n(T.slice(0,-1));var I=T.lastIndexOf("/");return I===-1?T:T.slice(0,I+1)}function i(T){if(T.charAt(T.length-1)=="/")return i(T.slice(0,-1));var I=T.lastIndexOf("/");return I===-1?T:T.slice(I+1)}function a(T,I){typeof I=="string"&&(I=new Date(I));var N=I.getHours();N=N<<6|I.getMinutes(),N=N<<5|I.getSeconds()>>>1,T.write_shift(2,N);var k=I.getFullYear()-1980;k=k<<4|I.getMonth()+1,k=k<<5|I.getDate(),T.write_shift(2,k)}function s(T){var I=T.read_shift(2)&65535,N=T.read_shift(2)&65535,k=new Date,M=N&31;N>>>=5;var R=N&15;N>>>=4,k.setMilliseconds(0),k.setFullYear(N+1980),k.setMonth(R-1),k.setDate(M);var X=I&31;I>>>=5;var ae=I&63;return I>>>=6,k.setHours(I),k.setMinutes(ae),k.setSeconds(X<<1),k}function o(T){Cr(T,0);for(var I={},N=0;T.l<=T.length-4;){var k=T.read_shift(2),M=T.read_shift(2),R=T.l+M,X={};switch(k){case 21589:N=T.read_shift(1),N&1&&(X.mtime=T.read_shift(4)),M>5&&(N&2&&(X.atime=T.read_shift(4)),N&4&&(X.ctime=T.read_shift(4))),X.mtime&&(X.mt=new Date(X.mtime*1e3));break}T.l=R,I[k]=X}return I}var l;function c(){return l||(l={})}function u(T,I){if(T[0]==80&&T[1]==75)return Qs(T,I);if((T[0]|32)==109&&(T[1]|32)==105)return to(T,I);if(T.length<512)throw new Error("CFB file size "+T.length+" < 512");var N=3,k=512,M=0,R=0,X=0,ae=0,K=0,V=[],J=T.slice(0,512);Cr(J,0);var ue=f(J);switch(N=ue[0],N){case 3:k=512;break;case 4:k=4096;break;case 0:if(ue[1]==0)return Qs(T,I);default:throw new Error("Major Version: Expected 3 or 4 saw "+N)}k!==512&&(J=T.slice(0,k),Cr(J,28));var ye=T.slice(0,k);h(J,N);var Te=J.read_shift(4,"i");if(N===3&&Te!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Te);J.l+=4,X=J.read_shift(4,"i"),J.l+=4,J.chk("00100000","Mini Stream Cutoff Size: "),ae=J.read_shift(4,"i"),M=J.read_shift(4,"i"),K=J.read_shift(4,"i"),R=J.read_shift(4,"i");for(var he=-1,Ee=0;Ee<109&&(he=J.read_shift(4,"i"),!(he<0));++Ee)V[Ee]=he;var ke=p(T,k);g(K,R,ke,k,V);var vt=b(ke,X,V,k);vt[X].name="!Directory",M>0&&ae!==U&&(vt[ae].name="!MiniFAT"),vt[V[0]].name="!FAT",vt.fat_addrs=V,vt.ssz=k;var dt={},Mt=[],ji=[],ce=[];x(X,vt,ke,Mt,M,dt,ji,ae),v(ji,ce,Mt),Mt.shift();var Be={FileIndex:ji,FullPaths:ce};return I&&I.raw&&(Be.raw={header:ye,sectors:ke}),Be}function f(T){if(T[T.l]==80&&T[T.l+1]==75)return[0,0];T.chk(q,"Header Signature: "),T.l+=16;var I=T.read_shift(2,"u");return[T.read_shift(2,"u"),I]}function h(T,I){var N=9;switch(T.l+=2,N=T.read_shift(2)){case 9:if(I!=3)throw new Error("Sector Shift: Expected 9 saw "+N);break;case 12:if(I!=4)throw new Error("Sector Shift: Expected 12 saw "+N);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+N)}T.chk("0600","Mini Sector Shift: "),T.chk("000000000000","Reserved: ")}function p(T,I){for(var N=Math.ceil(T.length/I)-1,k=[],M=1;M<N;++M)k[M-1]=T.slice(M*I,(M+1)*I);return k[N-1]=T.slice(N*I),k}function v(T,I,N){for(var k=0,M=0,R=0,X=0,ae=0,K=N.length,V=[],J=[];k<K;++k)V[k]=J[k]=k,I[k]=N[k];for(;ae<J.length;++ae)k=J[ae],M=T[k].L,R=T[k].R,X=T[k].C,V[k]===k&&(M!==-1&&V[M]!==M&&(V[k]=V[M]),R!==-1&&V[R]!==R&&(V[k]=V[R])),X!==-1&&(V[X]=k),M!==-1&&k!=V[k]&&(V[M]=V[k],J.lastIndexOf(M)<ae&&J.push(M)),R!==-1&&k!=V[k]&&(V[R]=V[k],J.lastIndexOf(R)<ae&&J.push(R));for(k=1;k<K;++k)V[k]===k&&(R!==-1&&V[R]!==R?V[k]=V[R]:M!==-1&&V[M]!==M&&(V[k]=V[M]));for(k=1;k<K;++k)if(T[k].type!==0){if(ae=k,ae!=V[ae])do ae=V[ae],I[k]=I[ae]+"/"+I[k];while(ae!==0&&V[ae]!==-1&&ae!=V[ae]);V[k]=-1}for(I[0]+="/",k=1;k<K;++k)T[k].type!==2&&(I[k]+="/")}function m(T,I,N){for(var k=T.start,M=T.size,R=[],X=k;N&&M>0&&X>=0;)R.push(I.slice(X*P,X*P+P)),M-=P,X=Ui(N,X*4);return R.length===0?re(0):Vt(R).slice(0,T.size)}function g(T,I,N,k,M){var R=U;if(T===U){if(I!==0)throw new Error("DIFAT chain shorter than expected")}else if(T!==-1){var X=N[T],ae=(k>>>2)-1;if(!X)return;for(var K=0;K<ae&&(R=Ui(X,K*4))!==U;++K)M.push(R);g(Ui(X,k-4),I-1,N,k,M)}}function y(T,I,N,k,M){var R=[],X=[];M||(M=[]);var ae=k-1,K=0,V=0;for(K=I;K>=0;){M[K]=!0,R[R.length]=K,X.push(T[K]);var J=N[Math.floor(K*4/k)];if(V=K*4&ae,k<4+V)throw new Error("FAT boundary crossed: "+K+" 4 "+k);if(!T[J])break;K=Ui(T[J],V)}return{nodes:R,data:S1([X])}}function b(T,I,N,k){var M=T.length,R=[],X=[],ae=[],K=[],V=k-1,J=0,ue=0,ye=0,Te=0;for(J=0;J<M;++J)if(ae=[],ye=J+I,ye>=M&&(ye-=M),!X[ye]){K=[];var he=[];for(ue=ye;ue>=0;){he[ue]=!0,X[ue]=!0,ae[ae.length]=ue,K.push(T[ue]);var Ee=N[Math.floor(ue*4/k)];if(Te=ue*4&V,k<4+Te)throw new Error("FAT boundary crossed: "+ue+" 4 "+k);if(!T[Ee]||(ue=Ui(T[Ee],Te),he[ue]))break}R[ye]={nodes:ae,data:S1([K])}}return R}function x(T,I,N,k,M,R,X,ae){for(var K=0,V=k.length?2:0,J=I[T].data,ue=0,ye=0,Te;ue<J.length;ue+=128){var he=J.slice(ue,ue+128);Cr(he,64),ye=he.read_shift(2),Te=Om(he,0,ye-V),k.push(Te);var Ee={name:Te,type:he.read_shift(1),color:he.read_shift(1),L:he.read_shift(4,"i"),R:he.read_shift(4,"i"),C:he.read_shift(4,"i"),clsid:he.read_shift(16),state:he.read_shift(4,"i"),start:0,size:0},ke=he.read_shift(2)+he.read_shift(2)+he.read_shift(2)+he.read_shift(2);ke!==0&&(Ee.ct=E(he,he.l-8));var vt=he.read_shift(2)+he.read_shift(2)+he.read_shift(2)+he.read_shift(2);vt!==0&&(Ee.mt=E(he,he.l-8)),Ee.start=he.read_shift(4,"i"),Ee.size=he.read_shift(4,"i"),Ee.size<0&&Ee.start<0&&(Ee.size=Ee.type=0,Ee.start=U,Ee.name=""),Ee.type===5?(K=Ee.start,M>0&&K!==U&&(I[K].name="!StreamData")):Ee.size>=4096?(Ee.storage="fat",I[Ee.start]===void 0&&(I[Ee.start]=y(N,Ee.start,I.fat_addrs,I.ssz)),I[Ee.start].name=Ee.name,Ee.content=I[Ee.start].data.slice(0,Ee.size)):(Ee.storage="minifat",Ee.size<0?Ee.size=0:K!==U&&Ee.start!==U&&I[K]&&(Ee.content=m(Ee,I[K].data,(I[ae]||{}).data))),Ee.content&&Cr(Ee.content,0),R[Te]=Ee,X.push(Ee)}}function E(T,I){return new Date((Dr(T,I+4)/1e7*Math.pow(2,32)+Dr(T,I)/1e7-11644473600)*1e3)}function w(T,I){return c(),u(l.readFileSync(T),I)}function S(T,I){var N=I&&I.type;switch(N||Qe&&Buffer.isBuffer(T)&&(N="buffer"),N||"base64"){case"file":return w(T,I);case"base64":return u(on(Vn(T)),I);case"binary":return u(on(T),I)}return u(T,I)}function _(T,I){var N=I||{},k=N.root||"Root Entry";if(T.FullPaths||(T.FullPaths=[]),T.FileIndex||(T.FileIndex=[]),T.FullPaths.length!==T.FileIndex.length)throw new Error("inconsistent CFB structure");T.FullPaths.length===0&&(T.FullPaths[0]=k+"/",T.FileIndex[0]={name:k,type:5}),N.CLSID&&(T.FileIndex[0].clsid=N.CLSID),A(T)}function A(T){var I="Sh33tJ5";if(!lt.find(T,"/"+I)){var N=re(4);N[0]=55,N[1]=N[3]=50,N[2]=54,T.FileIndex.push({name:I,type:2,content:N,size:4,L:69,R:69,C:69}),T.FullPaths.push(T.FullPaths[0]+I),O(T)}}function O(T,I){_(T);for(var N=!1,k=!1,M=T.FullPaths.length-1;M>=0;--M){var R=T.FileIndex[M];switch(R.type){case 0:k?N=!0:(T.FileIndex.pop(),T.FullPaths.pop());break;case 1:case 2:case 5:k=!0,isNaN(R.R*R.L*R.C)&&(N=!0),R.R>-1&&R.L>-1&&R.R==R.L&&(N=!0);break;default:N=!0;break}}if(!(!N&&!I)){var X=new Date(1987,1,19),ae=0,K=Object.create?Object.create(null):{},V=[];for(M=0;M<T.FullPaths.length;++M)K[T.FullPaths[M]]=!0,T.FileIndex[M].type!==0&&V.push([T.FullPaths[M],T.FileIndex[M]]);for(M=0;M<V.length;++M){var J=n(V[M][0]);k=K[J],k||(V.push([J,{name:i(J).replace("/",""),type:1,clsid:Z,ct:X,mt:X,content:null}]),K[J]=!0)}for(V.sort(function(Te,he){return r(Te[0],he[0])}),T.FullPaths=[],T.FileIndex=[],M=0;M<V.length;++M)T.FullPaths[M]=V[M][0],T.FileIndex[M]=V[M][1];for(M=0;M<V.length;++M){var ue=T.FileIndex[M],ye=T.FullPaths[M];if(ue.name=i(ye).replace("/",""),ue.L=ue.R=ue.C=-(ue.color=1),ue.size=ue.content?ue.content.length:0,ue.start=0,ue.clsid=ue.clsid||Z,M===0)ue.C=V.length>1?1:-1,ue.size=0,ue.type=5;else if(ye.slice(-1)=="/"){for(ae=M+1;ae<V.length&&n(T.FullPaths[ae])!=ye;++ae);for(ue.C=ae>=V.length?-1:ae,ae=M+1;ae<V.length&&n(T.FullPaths[ae])!=n(ye);++ae);ue.R=ae>=V.length?-1:ae,ue.type=1}else n(T.FullPaths[M+1]||"")==n(ye)&&(ue.R=M+1),ue.type=2}}}function C(T,I){var N=I||{};if(N.fileType=="mad")return ei(T,N);switch(O(T),N.fileType){case"zip":return ec(T,N)}var k=function(Te){for(var he=0,Ee=0,ke=0;ke<Te.FileIndex.length;++ke){var vt=Te.FileIndex[ke];if(vt.content){var dt=vt.content.length;dt>0&&(dt<4096?he+=dt+63>>6:Ee+=dt+511>>9)}}for(var Mt=Te.FullPaths.length+3>>2,ji=he+7>>3,ce=he+127>>7,Be=ji+Ee+Mt+ce,ct=Be+127>>7,Rr=ct<=109?0:Math.ceil((ct-109)/127);Be+ct+Rr+127>>7>ct;)Rr=++ct<=109?0:Math.ceil((ct-109)/127);var Qt=[1,Rr,ct,ce,Mt,Ee,he,0];return Te.FileIndex[0].size=he<<6,Qt[7]=(Te.FileIndex[0].start=Qt[0]+Qt[1]+Qt[2]+Qt[3]+Qt[4]+Qt[5])+(Qt[6]+7>>3),Qt}(T),M=re(k[7]<<9),R=0,X=0;{for(R=0;R<8;++R)M.write_shift(1,H[R]);for(R=0;R<8;++R)M.write_shift(2,0);for(M.write_shift(2,62),M.write_shift(2,3),M.write_shift(2,65534),M.write_shift(2,9),M.write_shift(2,6),R=0;R<3;++R)M.write_shift(2,0);for(M.write_shift(4,0),M.write_shift(4,k[2]),M.write_shift(4,k[0]+k[1]+k[2]+k[3]-1),M.write_shift(4,0),M.write_shift(4,4096),M.write_shift(4,k[3]?k[0]+k[1]+k[2]-1:U),M.write_shift(4,k[3]),M.write_shift(-4,k[1]?k[0]-1:U),M.write_shift(4,k[1]),R=0;R<109;++R)M.write_shift(-4,R<k[2]?k[1]+R:-1)}if(k[1])for(X=0;X<k[1];++X){for(;R<236+X*127;++R)M.write_shift(-4,R<k[2]?k[1]+R:-1);M.write_shift(-4,X===k[1]-1?U:X+1)}var ae=function(Te){for(X+=Te;R<X-1;++R)M.write_shift(-4,R+1);Te&&(++R,M.write_shift(-4,U))};for(X=R=0,X+=k[1];R<X;++R)M.write_shift(-4,te.DIFSECT);for(X+=k[2];R<X;++R)M.write_shift(-4,te.FATSECT);ae(k[3]),ae(k[4]);for(var K=0,V=0,J=T.FileIndex[0];K<T.FileIndex.length;++K)J=T.FileIndex[K],J.content&&(V=J.content.length,!(V<4096)&&(J.start=X,ae(V+511>>9)));for(ae(k[6]+7>>3);M.l&511;)M.write_shift(-4,te.ENDOFCHAIN);for(X=R=0,K=0;K<T.FileIndex.length;++K)J=T.FileIndex[K],J.content&&(V=J.content.length,!(!V||V>=4096)&&(J.start=X,ae(V+63>>6)));for(;M.l&511;)M.write_shift(-4,te.ENDOFCHAIN);for(R=0;R<k[4]<<2;++R){var ue=T.FullPaths[R];if(!ue||ue.length===0){for(K=0;K<17;++K)M.write_shift(4,0);for(K=0;K<3;++K)M.write_shift(4,-1);for(K=0;K<12;++K)M.write_shift(4,0);continue}J=T.FileIndex[R],R===0&&(J.start=J.size?J.start-1:U);var ye=R===0&&N.root||J.name;if(V=2*(ye.length+1),M.write_shift(64,ye,"utf16le"),M.write_shift(2,V),M.write_shift(1,J.type),M.write_shift(1,J.color),M.write_shift(-4,J.L),M.write_shift(-4,J.R),M.write_shift(-4,J.C),J.clsid)M.write_shift(16,J.clsid,"hex");else for(K=0;K<4;++K)M.write_shift(4,0);M.write_shift(4,J.state||0),M.write_shift(4,0),M.write_shift(4,0),M.write_shift(4,0),M.write_shift(4,0),M.write_shift(4,J.start),M.write_shift(4,J.size),M.write_shift(4,0)}for(R=1;R<T.FileIndex.length;++R)if(J=T.FileIndex[R],J.size>=4096)if(M.l=J.start+1<<9,Qe&&Buffer.isBuffer(J.content))J.content.copy(M,M.l,0,J.size),M.l+=J.size+511&-512;else{for(K=0;K<J.size;++K)M.write_shift(1,J.content[K]);for(;K&511;++K)M.write_shift(1,0)}for(R=1;R<T.FileIndex.length;++R)if(J=T.FileIndex[R],J.size>0&&J.size<4096)if(Qe&&Buffer.isBuffer(J.content))J.content.copy(M,M.l,0,J.size),M.l+=J.size+63&-64;else{for(K=0;K<J.size;++K)M.write_shift(1,J.content[K]);for(;K&63;++K)M.write_shift(1,0)}if(Qe)M.l=M.length;else for(;M.l<M.length;)M.write_shift(1,0);return M}function j(T,I){var N=T.FullPaths.map(function(K){return K.toUpperCase()}),k=N.map(function(K){var V=K.split("/");return V[V.length-(K.slice(-1)=="/"?2:1)]}),M=!1;I.charCodeAt(0)===47?(M=!0,I=N[0].slice(0,-1)+I):M=I.indexOf("/")!==-1;var R=I.toUpperCase(),X=M===!0?N.indexOf(R):k.indexOf(R);if(X!==-1)return T.FileIndex[X];var ae=!R.match(Ec);for(R=R.replace(Ro,""),ae&&(R=R.replace(Ec,"!")),X=0;X<N.length;++X)if((ae?N[X].replace(Ec,"!"):N[X]).replace(Ro,"")==R||(ae?k[X].replace(Ec,"!"):k[X]).replace(Ro,"")==R)return T.FileIndex[X];return null}var P=64,U=-2,q="d0cf11e0a1b11ae1",H=[208,207,17,224,161,177,26,225],Z="00000000000000000000000000000000",te={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function se(T,I,N){c();var k=C(T,N);l.writeFileSync(I,k)}function oe(T){for(var I=new Array(T.length),N=0;N<T.length;++N)I[N]=String.fromCharCode(T[N]);return I.join("")}function me(T,I){var N=C(T,I);switch(I&&I.type||"buffer"){case"file":return c(),l.writeFileSync(I.filename,N),N;case"binary":return typeof N=="string"?N:oe(N);case"base64":return jl(typeof N=="string"?N:oe(N));case"buffer":if(Qe)return Buffer.isBuffer(N)?N:Qn(N);case"array":return typeof N=="string"?on(N):N}return N}var _e;function D(T){try{var I=T.InflateRaw,N=new I;if(N._processChunk(new Uint8Array([3,0]),N._finishFlushFlag),N.bytesRead)_e=T;else throw new Error("zlib does not expose bytesRead")}catch(k){console.error("cannot use native zlib: "+(k.message||k))}}function z(T,I){if(!_e)return cd(T,I);var N=_e.InflateRaw,k=new N,M=k._processChunk(T.slice(T.l),k._finishFlushFlag);return T.l+=k.bytesRead,M}function F(T){return _e?_e.deflateRawSync(T):_a(T)}var B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function be(T){var I=(T<<1|T<<11)&139536|(T<<5|T<<15)&558144;return(I>>16|I>>8|I)&255}for(var Q=typeof Uint8Array<"u",ie=Q?new Uint8Array(256):[],we=0;we<256;++we)ie[we]=be(we);function ee(T,I){var N=ie[T&255];return I<=8?N>>>8-I:(N=N<<8|ie[T>>8&255],I<=16?N>>>16-I:(N=N<<8|ie[T>>16&255],N>>>24-I))}function De(T,I){var N=I&7,k=I>>>3;return(T[k]|(N<=6?0:T[k+1]<<8))>>>N&3}function Se(T,I){var N=I&7,k=I>>>3;return(T[k]|(N<=5?0:T[k+1]<<8))>>>N&7}function Le(T,I){var N=I&7,k=I>>>3;return(T[k]|(N<=4?0:T[k+1]<<8))>>>N&15}function Ce(T,I){var N=I&7,k=I>>>3;return(T[k]|(N<=3?0:T[k+1]<<8))>>>N&31}function G(T,I){var N=I&7,k=I>>>3;return(T[k]|(N<=1?0:T[k+1]<<8))>>>N&127}function Pe(T,I,N){var k=I&7,M=I>>>3,R=(1<<N)-1,X=T[M]>>>k;return N<8-k||(X|=T[M+1]<<8-k,N<16-k)||(X|=T[M+2]<<16-k,N<24-k)||(X|=T[M+3]<<24-k),X&R}function Ge(T,I,N){var k=I&7,M=I>>>3;return k<=5?T[M]|=(N&7)<<k:(T[M]|=N<<k&255,T[M+1]=(N&7)>>8-k),I+3}function ft(T,I,N){var k=I&7,M=I>>>3;return N=(N&1)<<k,T[M]|=N,I+1}function Zt(T,I,N){var k=I&7,M=I>>>3;return N<<=k,T[M]|=N&255,N>>>=8,T[M+1]=N,I+8}function Sr(T,I,N){var k=I&7,M=I>>>3;return N<<=k,T[M]|=N&255,N>>>=8,T[M+1]=N&255,T[M+2]=N>>>8,I+16}function fe(T,I){var N=T.length,k=2*N>I?2*N:I+5,M=0;if(N>=I)return T;if(Qe){var R=l1(k);if(T.copy)T.copy(R);else for(;M<T.length;++M)R[M]=T[M];return R}else if(Q){var X=new Uint8Array(k);if(X.set)X.set(T);else for(;M<N;++M)X[M]=T[M];return X}return T.length=k,T}function Ae(T){for(var I=new Array(T),N=0;N<T;++N)I[N]=0;return I}function Me(T,I,N){var k=1,M=0,R=0,X=0,ae=0,K=T.length,V=Q?new Uint16Array(32):Ae(32);for(R=0;R<32;++R)V[R]=0;for(R=K;R<N;++R)T[R]=0;K=T.length;var J=Q?new Uint16Array(K):Ae(K);for(R=0;R<K;++R)V[M=T[R]]++,k<M&&(k=M),J[R]=0;for(V[0]=0,R=1;R<=k;++R)V[R+16]=ae=ae+V[R-1]<<1;for(R=0;R<K;++R)ae=T[R],ae!=0&&(J[R]=V[ae+16]++);var ue=0;for(R=0;R<K;++R)if(ue=T[R],ue!=0)for(ae=ee(J[R],k)>>k-ue,X=(1<<k+4-ue)-1;X>=0;--X)I[ae|X<<ue]=ue&15|R<<4;return k}var de=Q?new Uint16Array(512):Ae(512),Xe=Q?new Uint16Array(32):Ae(32);if(!Q){for(var je=0;je<512;++je)de[je]=0;for(je=0;je<32;++je)Xe[je]=0}(function(){for(var T=[],I=0;I<32;I++)T.push(5);Me(T,Xe,32);var N=[];for(I=0;I<=143;I++)N.push(8);for(;I<=255;I++)N.push(9);for(;I<=279;I++)N.push(7);for(;I<=287;I++)N.push(8);Me(N,de,288)})();var jn=function(){for(var I=Q?new Uint8Array(32768):[],N=0,k=0;N<xe.length-1;++N)for(;k<xe[N+1];++k)I[k]=N;for(;k<32768;++k)I[k]=29;var M=Q?new Uint8Array(259):[];for(N=0,k=0;N<Y.length-1;++N)for(;k<Y[N+1];++k)M[k]=N;function R(ae,K){for(var V=0;V<ae.length;){var J=Math.min(65535,ae.length-V),ue=V+J==ae.length;for(K.write_shift(1,+ue),K.write_shift(2,J),K.write_shift(2,~J&65535);J-- >0;)K[K.l++]=ae[V++]}return K.l}function X(ae,K){for(var V=0,J=0,ue=Q?new Uint16Array(32768):[];J<ae.length;){var ye=Math.min(65535,ae.length-J);if(ye<10){for(V=Ge(K,V,+(J+ye==ae.length)),V&7&&(V+=8-(V&7)),K.l=V/8|0,K.write_shift(2,ye),K.write_shift(2,~ye&65535);ye-- >0;)K[K.l++]=ae[J++];V=K.l*8;continue}V=Ge(K,V,+(J+ye==ae.length)+2);for(var Te=0;ye-- >0;){var he=ae[J];Te=(Te<<5^he)&32767;var Ee=-1,ke=0;if((Ee=ue[Te])&&(Ee|=J&-32768,Ee>J&&(Ee-=32768),Ee<J))for(;ae[Ee+ke]==ae[J+ke]&&ke<250;)++ke;if(ke>2){he=M[ke],he<=22?V=Zt(K,V,ie[he+1]>>1)-1:(Zt(K,V,3),V+=5,Zt(K,V,ie[he-23]>>5),V+=3);var vt=he<8?0:he-4>>2;vt>0&&(Sr(K,V,ke-Y[he]),V+=vt),he=I[J-Ee],V=Zt(K,V,ie[he]>>3),V-=3;var dt=he<4?0:he-2>>1;dt>0&&(Sr(K,V,J-Ee-xe[he]),V+=dt);for(var Mt=0;Mt<ke;++Mt)ue[Te]=J&32767,Te=(Te<<5^ae[J])&32767,++J;ye-=ke-1}else he<=143?he=he+48:V=ft(K,V,1),V=Zt(K,V,ie[he]),ue[Te]=J&32767,++J}V=Zt(K,V,0)-1}return K.l=(V+7)/8|0,K.l}return function(K,V){return K.length<8?R(K,V):X(K,V)}}();function _a(T){var I=re(50+Math.floor(T.length*1.1)),N=jn(T,I);return I.slice(0,N)}var Ye=Q?new Uint16Array(32768):Ae(32768),or=Q?new Uint16Array(32768):Ae(32768),Sa=Q?new Uint16Array(128):Ae(128),Ys=1,Nn=1;function Js(T,I){var N=Ce(T,I)+257;I+=5;var k=Ce(T,I)+1;I+=5;var M=Le(T,I)+4;I+=4;for(var R=0,X=Q?new Uint8Array(19):Ae(19),ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],K=1,V=Q?new Uint8Array(8):Ae(8),J=Q?new Uint8Array(8):Ae(8),ue=X.length,ye=0;ye<M;++ye)X[B[ye]]=R=Se(T,I),K<R&&(K=R),V[R]++,I+=3;var Te=0;for(V[0]=0,ye=1;ye<=K;++ye)J[ye]=Te=Te+V[ye-1]<<1;for(ye=0;ye<ue;++ye)(Te=X[ye])!=0&&(ae[ye]=J[Te]++);var he=0;for(ye=0;ye<ue;++ye)if(he=X[ye],he!=0){Te=ie[ae[ye]]>>8-he;for(var Ee=(1<<7-he)-1;Ee>=0;--Ee)Sa[Te|Ee<<he]=he&7|ye<<3}var ke=[];for(K=1;ke.length<N+k;)switch(Te=Sa[G(T,I)],I+=Te&7,Te>>>=3){case 16:for(R=3+De(T,I),I+=2,Te=ke[ke.length-1];R-- >0;)ke.push(Te);break;case 17:for(R=3+Se(T,I),I+=3;R-- >0;)ke.push(0);break;case 18:for(R=11+G(T,I),I+=7;R-- >0;)ke.push(0);break;default:ke.push(Te),K<Te&&(K=Te);break}var vt=ke.slice(0,N),dt=ke.slice(N);for(ye=N;ye<286;++ye)vt[ye]=0;for(ye=k;ye<30;++ye)dt[ye]=0;return Ys=Me(vt,Ye,286),Nn=Me(dt,or,30),I}function Pi(T,I){if(T[0]==3&&!(T[1]&3))return[sa(I),2];for(var N=0,k=0,M=l1(I||1<<18),R=0,X=M.length>>>0,ae=0,K=0;!(k&1);){if(k=Se(T,N),N+=3,k>>>1)k>>1==1?(ae=9,K=5):(N=Js(T,N),ae=Ys,K=Nn);else{N&7&&(N+=8-(N&7));var V=T[N>>>3]|T[(N>>>3)+1]<<8;if(N+=32,V>0)for(!I&&X<R+V&&(M=fe(M,R+V),X=M.length);V-- >0;)M[R++]=T[N>>>3],N+=8;continue}for(;;){!I&&X<R+32767&&(M=fe(M,R+32767),X=M.length);var J=Pe(T,N,ae),ue=k>>>1==1?de[J]:Ye[J];if(N+=ue&15,ue>>>=4,!(ue>>>8&255))M[R++]=ue;else{if(ue==256)break;ue-=257;var ye=ue<8?0:ue-4>>2;ye>5&&(ye=0);var Te=R+Y[ue];ye>0&&(Te+=Pe(T,N,ye),N+=ye),J=Pe(T,N,K),ue=k>>>1==1?Xe[J]:or[J],N+=ue&15,ue>>>=4;var he=ue<4?0:ue-2>>1,Ee=xe[ue];for(he>0&&(Ee+=Pe(T,N,he),N+=he),!I&&X<Te&&(M=fe(M,Te+100),X=M.length);R<Te;)M[R]=M[R-Ee],++R}}}return I?[M,N+7>>>3]:[M.slice(0,R),N+7>>>3]}function cd(T,I){var N=T.slice(T.l||0),k=Pi(N,I);return T.l+=k[1],k[0]}function Zs(T,I){if(T)typeof console<"u"&&console.error(I);else throw new Error(I)}function Qs(T,I){var N=T;Cr(N,0);var k=[],M=[],R={FileIndex:k,FullPaths:M};_(R,{root:I.root});for(var X=N.length-4;(N[X]!=80||N[X+1]!=75||N[X+2]!=5||N[X+3]!=6)&&X>=0;)--X;N.l=X+4,N.l+=4;var ae=N.read_shift(2);N.l+=6;var K=N.read_shift(4);for(N.l=K,X=0;X<ae;++X){N.l+=20;var V=N.read_shift(4),J=N.read_shift(4),ue=N.read_shift(2),ye=N.read_shift(2),Te=N.read_shift(2);N.l+=8;var he=N.read_shift(4),Ee=o(N.slice(N.l+ue,N.l+ue+ye));N.l+=ue+ye+Te;var ke=N.l;N.l=he+4,Ql(N,V,J,R,Ee),N.l=ke}return R}function Ql(T,I,N,k,M){T.l+=2;var R=T.read_shift(2),X=T.read_shift(2),ae=s(T);if(R&8257)throw new Error("Unsupported ZIP encryption");for(var K=T.read_shift(4),V=T.read_shift(4),J=T.read_shift(4),ue=T.read_shift(2),ye=T.read_shift(2),Te="",he=0;he<ue;++he)Te+=String.fromCharCode(T[T.l++]);if(ye){var Ee=o(T.slice(T.l,T.l+ye));(Ee[21589]||{}).mt&&(ae=Ee[21589].mt),((M||{})[21589]||{}).mt&&(ae=M[21589].mt)}T.l+=ye;var ke=T.slice(T.l,T.l+V);switch(X){case 8:ke=z(T,J);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+X)}var vt=!1;R&8&&(K=T.read_shift(4),K==134695760&&(K=T.read_shift(4),vt=!0),V=T.read_shift(4),J=T.read_shift(4)),V!=I&&Zs(vt,"Bad compressed size: "+I+" != "+V),J!=N&&Zs(vt,"Bad uncompressed size: "+N+" != "+J),Fr(k,Te,ke,{unsafe:!0,mt:ae})}function ec(T,I){var N=I||{},k=[],M=[],R=re(1),X=N.compression?8:0,ae=0,K=0,V=0,J=0,ue=0,ye=T.FullPaths[0],Te=ye,he=T.FileIndex[0],Ee=[],ke=0;for(K=1;K<T.FullPaths.length;++K)if(Te=T.FullPaths[K].slice(ye.length),he=T.FileIndex[K],!(!he.size||!he.content||Te=="Sh33tJ5")){var vt=J,dt=re(Te.length);for(V=0;V<Te.length;++V)dt.write_shift(1,Te.charCodeAt(V)&127);dt=dt.slice(0,dt.l),Ee[ue]=qX.buf(he.content,0);var Mt=he.content;X==8&&(Mt=F(Mt)),R=re(30),R.write_shift(4,67324752),R.write_shift(2,20),R.write_shift(2,ae),R.write_shift(2,X),he.mt?a(R,he.mt):R.write_shift(4,0),R.write_shift(-4,Ee[ue]),R.write_shift(4,Mt.length),R.write_shift(4,he.content.length),R.write_shift(2,dt.length),R.write_shift(2,0),J+=R.length,k.push(R),J+=dt.length,k.push(dt),J+=Mt.length,k.push(Mt),R=re(46),R.write_shift(4,33639248),R.write_shift(2,0),R.write_shift(2,20),R.write_shift(2,ae),R.write_shift(2,X),R.write_shift(4,0),R.write_shift(-4,Ee[ue]),R.write_shift(4,Mt.length),R.write_shift(4,he.content.length),R.write_shift(2,dt.length),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(4,0),R.write_shift(4,vt),ke+=R.l,M.push(R),ke+=dt.length,M.push(dt),++ue}return R=re(22),R.write_shift(4,101010256),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(2,ue),R.write_shift(2,ue),R.write_shift(4,ke),R.write_shift(4,J),R.write_shift(2,0),Vt([Vt(k),Vt(M),R])}var Ea={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ud(T,I){if(T.ctype)return T.ctype;var N=T.name||"",k=N.match(/\.([^\.]+)$/);return k&&Ea[k[1]]||I&&(k=(N=I).match(/[\.\\]([^\.\\])+$/),k&&Ea[k[1]])?Ea[k[1]]:"application/octet-stream"}function fd(T){for(var I=jl(T),N=[],k=0;k<I.length;k+=76)N.push(I.slice(k,k+76));return N.join(`\r
`)+`\r
`}function dd(T){var I=T.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(V){var J=V.charCodeAt(0).toString(16).toUpperCase();return"="+(J.length==1?"0"+J:J)});I=I.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),I.charAt(0)==`
`&&(I="=0D"+I.slice(1)),I=I.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var N=[],k=I.split(`\r
`),M=0;M<k.length;++M){var R=k[M];if(R.length==0){N.push("");continue}for(var X=0;X<R.length;){var ae=76,K=R.slice(X,X+ae);K.charAt(ae-1)=="="?ae--:K.charAt(ae-2)=="="?ae-=2:K.charAt(ae-3)=="="&&(ae-=3),K=R.slice(X,X+ae),X+=ae,X<R.length&&(K+="="),N.push(K)}}return N.join(`\r
`)}function eo(T){for(var I=[],N=0;N<T.length;++N){for(var k=T[N];N<=T.length&&k.charAt(k.length-1)=="=";)k=k.slice(0,k.length-1)+T[++N];I.push(k)}for(var M=0;M<I.length;++M)I[M]=I[M].replace(/[=][0-9A-Fa-f]{2}/g,function(R){return String.fromCharCode(parseInt(R.slice(1),16))});return on(I.join(`\r
`))}function tc(T,I,N){for(var k="",M="",R="",X,ae=0;ae<10;++ae){var K=I[ae];if(!K||K.match(/^\s*$/))break;var V=K.match(/^(.*?):\s*([^\s].*)$/);if(V)switch(V[1].toLowerCase()){case"content-location":k=V[2].trim();break;case"content-type":R=V[2].trim();break;case"content-transfer-encoding":M=V[2].trim();break}}switch(++ae,M.toLowerCase()){case"base64":X=on(Vn(I.slice(ae).join("")));break;case"quoted-printable":X=eo(I.slice(ae));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+M)}var J=Fr(T,k.slice(N.length),X,{unsafe:!0});R&&(J.ctype=R)}function to(T,I){if(oe(T.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var N=I&&I.root||"",k=(Qe&&Buffer.isBuffer(T)?T.toString("binary"):oe(T)).split(`\r
`),M=0,R="";for(M=0;M<k.length;++M)if(R=k[M],!!/^Content-Location:/i.test(R)&&(R=R.slice(R.indexOf("file")),N||(N=R.slice(0,R.lastIndexOf("/")+1)),R.slice(0,N.length)!=N))for(;N.length>0&&(N=N.slice(0,N.length-1),N=N.slice(0,N.lastIndexOf("/")+1),R.slice(0,N.length)!=N););var X=(k[1]||"").match(/boundary="(.*?)"/);if(!X)throw new Error("MAD cannot find boundary");var ae="--"+(X[1]||""),K=[],V=[],J={FileIndex:K,FullPaths:V};_(J);var ue,ye=0;for(M=0;M<k.length;++M){var Te=k[M];Te!==ae&&Te!==ae+"--"||(ye++&&tc(J,k.slice(ue,M),N),ue=M)}return J}function ei(T,I){var N=I||{},k=N.boundary||"SheetJS";k="------="+k;for(var M=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+k.slice(2)+'"',"","",""],R=T.FullPaths[0],X=R,ae=T.FileIndex[0],K=1;K<T.FullPaths.length;++K)if(X=T.FullPaths[K].slice(R.length),ae=T.FileIndex[K],!(!ae.size||!ae.content||X=="Sh33tJ5")){X=X.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ke){return"_x"+ke.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ke){return"_u"+ke.charCodeAt(0).toString(16)+"_"});for(var V=ae.content,J=Qe&&Buffer.isBuffer(V)?V.toString("binary"):oe(V),ue=0,ye=Math.min(1024,J.length),Te=0,he=0;he<=ye;++he)(Te=J.charCodeAt(he))>=32&&Te<128&&++ue;var Ee=ue>=ye*4/5;M.push(k),M.push("Content-Location: "+(N.root||"file:///C:/SheetJS/")+X),M.push("Content-Transfer-Encoding: "+(Ee?"quoted-printable":"base64")),M.push("Content-Type: "+ud(ae,X)),M.push(""),M.push(Ee?dd(J):fd(J))}return M.push(k+`--\r
`),M.join(`\r
`)}function ro(T){var I={};return _(I,T),I}function Fr(T,I,N,k){var M=k&&k.unsafe;M||_(T);var R=!M&&lt.find(T,I);if(!R){var X=T.FullPaths[0];I.slice(0,X.length)==X?X=I:(X.slice(-1)!="/"&&(X+="/"),X=(X+I).replace("//","/")),R={name:i(I),type:2},T.FileIndex.push(R),T.FullPaths.push(X),M||lt.utils.cfb_gc(T)}return R.content=N,R.size=N?N.length:0,k&&(k.CLSID&&(R.clsid=k.CLSID),k.mt&&(R.mt=k.mt),k.ct&&(R.ct=k.ct)),R}function no(T,I){_(T);var N=lt.find(T,I);if(N){for(var k=0;k<T.FileIndex.length;++k)if(T.FileIndex[k]==N)return T.FileIndex.splice(k,1),T.FullPaths.splice(k,1),!0}return!1}function ti(T,I,N){_(T);var k=lt.find(T,I);if(k){for(var M=0;M<T.FileIndex.length;++M)if(T.FileIndex[M]==k)return T.FileIndex[M].name=i(N),T.FullPaths[M]=N,!0}return!1}function io(T){O(T,!0)}return t.find=j,t.read=S,t.parse=u,t.write=me,t.writeFile=se,t.utils={cfb_new:ro,cfb_add:Fr,cfb_del:no,cfb_mov:ti,cfb_gc:io,ReadShift:Bo,CheckField:YS,prep_blob:Cr,bconcat:Vt,use_zlib:D,_deflateRaw:_a,_inflateRaw:cd,consts:te},t}();function GX(e){return typeof e=="string"?Yf(e):Array.isArray(e)?xX(e):e}function Gl(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Yf(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Cl(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var i=new Blob([GX(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=ql(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function Jt(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function v1(e,t){for(var r=[],n=Jt(e),i=0;i!==n.length;++i)r[e[n[i]][t]]==null&&(r[e[n[i]][t]]=n[i]);return r}function Sm(e){for(var t=[],r=Jt(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Qf(e){for(var t=[],r=Jt(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function VX(e){for(var t=[],r=Jt(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Bu=new Date(1899,11,30,0,0,0);function br(e,t){var r=e.getTime(),n=Bu.getTime()+(e.getTimezoneOffset()-Bu.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var DS=new Date,KX=Bu.getTime()+(DS.getTimezoneOffset()-Bu.getTimezoneOffset())*6e4,g1=DS.getTimezoneOffset();function IS(e){var t=new Date;return t.setTime(e*24*60*60*1e3+KX),t.getTimezoneOffset()!==g1&&t.setTime(t.getTime()+(t.getTimezoneOffset()-g1)*6e4),t}var x1=new Date("2017-02-19T19:06:09.000Z"),$S=isNaN(x1.getFullYear())?new Date("2/19/17"):x1,XX=$S.getFullYear()==2017;function hr(e,t){var r=new Date(e);if(XX)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if($S.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function ed(e,t){if(Qe&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function wr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=wr(e[r]));return t}function _t(e,t){for(var r="";r.length<t;)r+=e;return r}function Wn(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var YX=["january","february","march","april","may","june","july","august","september","october","november","december"];function Nl(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&YX.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function He(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Qe?n=Qn(r):n=yX(r),lt.utils.cfb_add(e,t,n)}lt.utils.cfb_add(e,t,r)}else e.file(t,r)}function Em(){return lt.utils.cfb_new()}var Nt=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,JX={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Am=Sm(JX),Tm=/[&<>'"]/g,ZX=/[\u0000-\u0008\u000b-\u001f]/g;function it(e){var t=e+"";return t.replace(Tm,function(r){return Am[r]}).replace(ZX,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function y1(e){return it(e).replace(/ /g,"_x0020_")}var MS=/[\u0000-\u001f]/g;function QX(e){var t=e+"";return t.replace(Tm,function(r){return Am[r]}).replace(/\n/g,"<br/>").replace(MS,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function eY(e){var t=e+"";return t.replace(Tm,function(r){return Am[r]}).replace(MS,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function tY(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function rY(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function eh(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function b1(e){var t=sa(2*e.length),r,n,i=1,a=0,s=0,o;for(n=0;n<e.length;n+=i)i=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[a++]=s&255,t[a++]=s>>>8,s=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function w1(e){return Qn(e,"binary").toString("utf8")}var Tc="foo bar baz",Lo=Qe&&(w1(Tc)==eh(Tc)&&w1||b1(Tc)==eh(Tc)&&b1)||eh,Cl=Qe?function(e){return Qn(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},nY=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),FS=/(^\s|\s$|\n)/;function Kt(e,t){return"<"+e+(t.match(FS)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function kl(e){return Jt(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function pe(e,t,r){return"<"+e+(r!=null?kl(r):"")+(t!=null?(t.match(FS)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function ep(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function iY(e,t){switch(typeof e){case"string":var r=pe("vt:lpwstr",it(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return pe((e|0)==e?"vt:i4":"vt:r8",it(String(e)));case"boolean":return pe("vt:bool",e?"true":"false")}if(e instanceof Date)return pe("vt:filetime",ep(e));throw new Error("Unable to serialize "+e)}var Lt={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Gs=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],kr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function aY(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function sY(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=n?-t:t;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[r+o]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var _1=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},S1=Qe?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Qn(t)})):_1(e)}:_1,E1=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(Oo(e,i)));return n.join("").replace(Ro,"")},Om=Qe?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ro,""):E1(e,t,r)}:E1,A1=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},RS=Qe?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):A1(e,t,r)}:A1,T1=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(Ra(e,i)));return n.join("")},Vl=Qe?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):T1(t,r,n)}:T1,LS=function(e,t){var r=Dr(e,t);return r>0?Vl(e,t+4,t+4+r-1):""},BS=LS,US=function(e,t){var r=Dr(e,t);return r>0?Vl(e,t+4,t+4+r-1):""},WS=US,zS=function(e,t){var r=2*Dr(e,t);return r>0?Vl(e,t+4,t+4+r-1):""},HS=zS,qS=function(t,r){var n=Dr(t,r);return n>0?Om(t,r+4,r+4+n):""},GS=qS,VS=function(e,t){var r=Dr(e,t);return r>0?Vl(e,t+4,t+4+r):""},KS=VS,XS=function(e,t){return aY(e,t)},Uu=XS,Pm=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Qe&&(BS=function(t,r){if(!Buffer.isBuffer(t))return LS(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},WS=function(t,r){if(!Buffer.isBuffer(t))return US(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},HS=function(t,r){if(!Buffer.isBuffer(t))return zS(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},GS=function(t,r){if(!Buffer.isBuffer(t))return qS(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},KS=function(t,r){if(!Buffer.isBuffer(t))return VS(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Uu=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):XS(t,r)},Pm=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Ra=function(e,t){return e[t]},Oo=function(e,t){return e[t+1]*256+e[t]},oY=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Dr=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ui=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},lY=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Bo(e,t){var r="",n,i,a=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,Qe&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Oo(this,c)),c+=2;e*=2;break;case"utf8":r=Vl(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Om(this,this.l,this.l+e);break;case"wstr":return Bo.call(this,e,"dbcs");case"lpstr-ansi":r=BS(this,this.l),e=4+Dr(this,this.l);break;case"lpstr-cp":r=WS(this,this.l),e=4+Dr(this,this.l);break;case"lpwstr":r=HS(this,this.l),e=4+2*Dr(this,this.l);break;case"lpp4":e=4+Dr(this,this.l),r=GS(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Dr(this,this.l),r=KS(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Ra(this,this.l+e++))!==0;)a.push(Sc(s));r=a.join("");break;case"_wstr":for(e=0,r="";(s=Oo(this,this.l+e))!==0;)a.push(Sc(s)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Ra(this,c),this.l=c+1,o=Bo.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Sc(Oo(this,c))),c+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Ra(this,c),this.l=c+1,o=Bo.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Sc(Ra(this,c))),c+=1}r=a.join("");break;default:switch(e){case 1:return n=Ra(this,this.l),this.l++,n;case 2:return n=(t==="i"?oY:Oo)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Ui:lY)(this,this.l),this.l+=4,n):(i=Dr(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=Uu(this,this.l):i=Uu([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=RS(this,this.l,e);break}}return this.l+=e,r}var cY=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},uY=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},fY=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function dY(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)fY(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,cY(this,t,this.l);break;case 8:if(n=8,r==="f"){sY(this,t,this.l);break}case 16:break;case-4:n=4,uY(this,t,this.l);break}return this.l+=n,this}function YS(e,t){var r=RS(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Cr(e,t){e.l=t,e.read_shift=Bo,e.chk=YS,e.write_shift=dY}function An(e,t){e.l+=t}function re(e){var t=sa(e);return Cr(t,0),t}function yr(){var e=[],t=Qe?256:2048,r=function(c){var u=re(c);return Cr(u,0),u},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(c){return n&&c<n.length-n.l?n:(i(),n=r(Math.max(c+1,t)))},s=function(){return i(),Vt(e)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:o,end:s,_bufs:e}}function le(e,t,r,n){var i=+t,a;if(!isNaN(i)){n||(n=are[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=e.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&Pm(r)&&e.push(r)}}function Uo(e,t,r){var n=wr(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function O1(e,t,r){var n=wr(e);return n.s=Uo(n.s,t.s,r),n.e=Uo(n.e,t.s,r),n}function Wo(e,t){if(e.cRel&&e.c<0)for(e=wr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=wr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=at(e);return!e.cRel&&e.cRel!=null&&(r=mY(r)),!e.rRel&&e.rRel!=null&&(r=hY(r)),r}function th(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ar(e.s.c)+":"+(e.e.cRel?"":"$")+ar(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Yt(e.s.r)+":"+(e.e.rRel?"":"$")+Yt(e.e.r):Wo(e.s,t.biff)+":"+Wo(e.e,t.biff)}function jm(e){return parseInt(pY(e),10)-1}function Yt(e){return""+(e+1)}function hY(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function pY(e){return e.replace(/\$(\d+)$/,"$1")}function Nm(e){for(var t=vY(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ar(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function mY(e){return e.replace(/^([A-Z])/,"$$$1")}function vY(e){return e.replace(/^\$([A-Z])/,"$1")}function gY(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Bt(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function at(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Mr(e){var t=e.indexOf(":");return t==-1?{s:Bt(e),e:Bt(e)}:{s:Bt(e.slice(0,t)),e:Bt(e.slice(t+1))}}function jt(e,t){return typeof t>"u"||typeof t=="number"?jt(e.s,e.e):(typeof e!="string"&&(e=at(e)),typeof t!="string"&&(t=at(t)),e==t?e:e+":"+t)}function yt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function P1(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=xi(e.z,r?br(t):t)}catch{}try{return e.w=xi((e.XF||{}).numFmtId||(r?14:0),r?br(t):t)}catch{return""+t}}function Kn(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Kl[e.v]||e.v:t==null?P1(e,e.v):P1(e,t))}function va(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function JS(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Bt(n.origin):n.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=yt(a["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},v=s+f,m=o+h;if(c.s.r>v&&(c.s.r=v),c.s.c>m&&(c.s.c=m),c.e.r<v&&(c.e.r=v),c.e.c<m&&(c.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||St[14],n.cellDates?(p.t="d",p.w=xi(p.z,br(p.v))):(p.t="n",p.v=br(p.v),p.w=xi(p.z,p.v))):p.t="s";if(i)a[v]||(a[v]=[]),a[v][m]&&a[v][m].z&&(p.z=a[v][m].z),a[v][m]=p;else{var g=at({c:m,r:v});a[g]&&a[g].z&&(p.z=a[g].z),a[g]=p}}}return c.s.c<1e7&&(a["!ref"]=jt(c)),a}function Vs(e,t){return JS(null,e,t)}function xY(e){return e.read_shift(4,"i")}function fn(e,t){return t||(t=re(4)),t.write_shift(4,e),t}function sr(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ut(e,t){var r=!1;return t==null&&(r=!0,t=re(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function yY(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function bY(e,t){return t||(t=re(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Cm(e,t){var r=e.l,n=e.read_shift(1),i=sr(e),a=[],s={t:i,h:i};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)a.push(yY(e));s.r=a}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function wY(e,t){var r=!1;return t==null&&(r=!0,t=re(15+4*e.t.length)),t.write_shift(1,0),Ut(e.t,t),r?t.slice(0,t.l):t}var _Y=Cm;function SY(e,t){var r=!1;return t==null&&(r=!0,t=re(23+4*e.t.length)),t.write_shift(1,1),Ut(e.t,t),t.write_shift(4,1),bY({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Jr(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function ga(e,t){return t==null&&(t=re(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function xa(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function ya(e,t){return t==null&&(t=re(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var EY=sr,ZS=Ut;function km(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Wu(e,t){var r=!1;return t==null&&(r=!0,t=re(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var AY=sr,tp=km,Dm=Wu;function QS(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?Uu([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ui(t,0)>>2;return r?i/100:i}function eE(e,t){t==null&&(t=re(4));var r=0,n=0,i=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function tE(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function TY(e,t){return t||(t=re(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var ba=tE,Ks=TY;function Xs(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function oa(e,t){return(t||re(8)).write_shift(8,e,"f")}function OY(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var c=MY[i];c&&(t.rgb=L1(c));break;case 2:t.rgb=L1([s,o,l]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function zu(e,t){if(t||(t=re(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function PY(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function jY(e,t){t||(t=re(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var rE=2,jr=3,Oc=11,Hu=19,Pc=64,NY=65,CY=71,kY=4108,DY=4126,qt=80,j1={1:{n:"CodePage",t:rE},2:{n:"Category",t:qt},3:{n:"PresentationFormat",t:qt},4:{n:"ByteCount",t:jr},5:{n:"LineCount",t:jr},6:{n:"ParagraphCount",t:jr},7:{n:"SlideCount",t:jr},8:{n:"NoteCount",t:jr},9:{n:"HiddenCount",t:jr},10:{n:"MultimediaClipCount",t:jr},11:{n:"ScaleCrop",t:Oc},12:{n:"HeadingPairs",t:kY},13:{n:"TitlesOfParts",t:DY},14:{n:"Manager",t:qt},15:{n:"Company",t:qt},16:{n:"LinksUpToDate",t:Oc},17:{n:"CharacterCount",t:jr},19:{n:"SharedDoc",t:Oc},22:{n:"HyperlinksChanged",t:Oc},23:{n:"AppVersion",t:jr,p:"version"},24:{n:"DigSig",t:NY},26:{n:"ContentType",t:qt},27:{n:"ContentStatus",t:qt},28:{n:"Language",t:qt},29:{n:"Version",t:qt},255:{},2147483648:{n:"Locale",t:Hu},2147483651:{n:"Behavior",t:Hu},1919054434:{}},N1={1:{n:"CodePage",t:rE},2:{n:"Title",t:qt},3:{n:"Subject",t:qt},4:{n:"Author",t:qt},5:{n:"Keywords",t:qt},6:{n:"Comments",t:qt},7:{n:"Template",t:qt},8:{n:"LastAuthor",t:qt},9:{n:"RevNumber",t:qt},10:{n:"EditTime",t:Pc},11:{n:"LastPrinted",t:Pc},12:{n:"CreatedDate",t:Pc},13:{n:"ModifiedDate",t:Pc},14:{n:"PageCount",t:jr},15:{n:"WordCount",t:jr},16:{n:"CharCount",t:jr},17:{n:"Thumbnail",t:CY},18:{n:"Application",t:qt},19:{n:"DocSecurity",t:jr},255:{},2147483648:{n:"Locale",t:Hu},2147483651:{n:"Behavior",t:Hu},1919054434:{}};function IY(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var $Y=IY([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),MY=wr($Y),Kl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},FY={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},jc={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function nE(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function iE(e,t){var r=VX(FY),n=[],i;n[n.length]=Nt,n[n.length]=pe("Types",null,{xmlns:Lt.CT,"xmlns:xsd":Lt.xsd,"xmlns:xsi":Lt.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return pe("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){e[l]&&e[l].length>0&&(i=e[l][0],n[n.length]=pe("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:jc[l][t.bookType]||jc[l].xlsx}))},s=function(l){(e[l]||[]).forEach(function(c){n[n.length]=pe("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:jc[l][t.bookType]||jc[l].xlsx})})},o=function(l){(e[l]||[]).forEach(function(c){n[n.length]=pe("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Je={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function aE(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Ya(e){var t=[Nt,pe("Relationships",null,{xmlns:Lt.RELS})];return Jt(e["!id"]).forEach(function(r){t[t.length]=pe("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function nt(e,t,r,n,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=r,[Je.HLINK,Je.XPATH,Je.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function RY(e){var t=[Nt];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function C1(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function LY(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function BY(e){var t=[Nt];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(C1(e[r][0],e[r][1])),t.push(LY("",e[r][0]));return t.push(C1("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function sE(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Mu.version+"</meta:generator></office:meta></office:document-meta>"}var ea=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function rh(e,t,r,n,i){i[e]!=null||t==null||t===""||(i[e]=t,t=it(t),n[n.length]=r?pe(e,t,r):Kt(e,t))}function oE(e,t){var r=t||{},n=[Nt,pe("cp:coreProperties",null,{"xmlns:cp":Lt.CORE_PROPS,"xmlns:dc":Lt.dc,"xmlns:dcterms":Lt.dcterms,"xmlns:dcmitype":Lt.dcmitype,"xmlns:xsi":Lt.xsi})],i={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&rh("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:ep(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),e.ModifiedDate!=null&&rh("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:ep(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=ea.length;++a){var s=ea[a],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&rh(s[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Ja=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],lE=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function cE(e){var t=[],r=pe;return e||(e={}),e.Application="SheetJS",t[t.length]=Nt,t[t.length]=pe("Properties",null,{xmlns:Lt.EXT_PROPS,"xmlns:vt":Lt.vt}),Ja.forEach(function(n){if(e[n[1]]!==void 0){var i;switch(n[2]){case"string":i=it(String(e[n[1]]));break;case"bool":i=e[n[1]]?"true":"false";break}i!==void 0&&(t[t.length]=r(n[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+it(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function uE(e){var t=[Nt,pe("Properties",null,{xmlns:Lt.CUST_PROPS,"xmlns:vt":Lt.vt})];if(!e)return t.join("");var r=1;return Jt(e).forEach(function(i){++r,t[t.length]=pe("property",iY(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:it(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var k1={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function UY(e,t){var r=[];return Jt(k1).map(function(n){for(var i=0;i<ea.length;++i)if(ea[i][1]==n)return ea[i];for(i=0;i<Ja.length;++i)if(Ja[i][1]==n)return Ja[i];throw n}).forEach(function(n){if(e[n[1]]!=null){var i=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(Kt(k1[n[1]]||n[1],i))}}),pe("DocumentProperties",r.join(""),{xmlns:kr.o})}function WY(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return e&&Jt(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var s=0;s<ea.length;++s)if(a==ea[s][1])return;for(s=0;s<Ja.length;++s)if(a==Ja[s][1])return;for(s=0;s<r.length;++s)if(a==r[s])return;var o=e[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(pe(y1(a),o,{"dt:dt":l}))}}),t&&Jt(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var s=t[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(pe(y1(a),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+kr.o+'">'+i.join("")+"</"+n+">"}function zY(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=re(8);return s.write_shift(4,n),s.write_shift(4,i),s}function D1(e,t){var r=re(4),n=re(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=re(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=zY(t);break;case 31:case 80:for(n=re(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Vt([r,n])}var fE=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function HY(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function I1(e,t,r){var n=re(8),i=[],a=[],s=8,o=0,l=re(8),c=re(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),a.push(l),i.push(c),s+=8+l.length,!t){c=re(8),c.write_shift(4,0),i.unshift(c);var u=[re(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(l=re(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Vt(u),a.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(fE.indexOf(e[o][0])>-1||lE.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],p=0;if(t){p=+t[e[o][0]];var v=r[p];if(v.p=="version"&&typeof h=="string"){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}l=D1(v.t,h)}else{var g=HY(h);g==-1&&(g=31,h=String(h)),l=D1(g,h)}a.push(l),c=re(8),c.write_shift(4,t?p:2+o),i.push(c),s+=8+l.length}var y=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,y),y+=a[o].length;return n.write_shift(4,s),n.write_shift(4,a.length),Vt([n].concat(i).concat(a))}function $1(e,t,r,n,i,a){var s=re(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,lt.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,i?68:48);var l=I1(e,r,n);if(o.push(l),i){var c=I1(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+l.length),o.push(c)}return Vt(o)}function qY(e,t){t||(t=re(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function GY(e,t){return e.read_shift(t)===1}function fr(e,t){return t||(t=re(2)),t.write_shift(2,+!!e),t}function dE(e){return e.read_shift(2,"u")}function qr(e,t){return t||(t=re(2)),t.write_shift(2,e),t}function hE(e,t,r){return r||(r=re(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function pE(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?e.read_shift(n,i):"";return s}function VY(e){var t=e.t||"",r=re(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=re(2*t.length);n.write_shift(2*t.length,t,"utf16le");var i=[r,n];return Vt(i)}function KY(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function XY(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):KY(e,n,r)}function YY(e,t,r){if(r.biff>5)return XY(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function mE(e,t,r){return r||(r=re(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function M1(e,t){t||(t=re(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function JY(e){var t=re(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(a==28)n=n.slice(1),M1(n,t);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),a&8&&M1(i>-1?n.slice(i+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function la(e,t,r,n){return n||(n=re(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function ZY(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[i,a,s]}function QY(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function vE(e,t){return t||(t=re(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Im(e,t,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=re(i);return a.write_shift(2,n),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function eJ(e,t){var r=!t||t.biff==8,n=re(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function tJ(e,t){var r=!t||t.biff>=8?2:1,n=re(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function rJ(e,t){var r=re(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],i=0;i<e.length;++i)n[i]=VY(e[i]);var a=Vt([r].concat(n));return a.parts=[r.length].concat(n.map(function(s){return s.length})),a}function nJ(){var e=re(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function iJ(e){var t=re(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function aJ(e,t){var r=e.name||"Arial",n=t&&t.biff==5,i=n?15+r.length:16+2*r.length,a=re(i);return a.write_shift(2,(e.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function sJ(e,t,r,n){var i=re(10);return la(e,t,n,i),i.write_shift(4,r),i}function oJ(e,t,r,n,i){var a=!i||i.biff==8,s=re(8+ +a+(1+a)*r.length);return la(e,t,n,s),s.write_shift(2,r.length),a&&s.write_shift(1,1),s.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),s}function lJ(e,t,r,n){var i=r&&r.biff==5;n||(n=re(i?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function cJ(e,t){var r=t.biff==8||!t.biff?4:2,n=re(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function F1(e,t,r,n){var i=r&&r.biff==5;n||(n=re(i?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function uJ(e){var t=re(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function fJ(e,t,r,n,i,a){var s=re(8);return la(e,t,n,s),hE(r,a,s),s}function dJ(e,t,r,n){var i=re(14);return la(e,t,n,i),oa(r,i),i}function hJ(e,t,r){if(r.biff<8)return pJ(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(ZY(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function pJ(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=pE(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function mJ(e){var t=re(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)vE(e[r],t);return t}function vJ(e){var t=re(24),r=Bt(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return Vt([t,JY(e[1])])}function gJ(e){var t=e[1].Tooltip,r=re(10+2*(t.length+1));r.write_shift(2,2048);var n=Bt(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function xJ(e){return e||(e=re(4)),e.write_shift(2,1),e.write_shift(2,1),e}function yJ(e,t,r){if(!r.cellStyles)return An(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:i,e:a,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function bJ(e,t){var r=re(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function wJ(e){for(var t=re(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function _J(e,t,r){var n=re(15);return Yl(n,e,t),n.write_shift(8,r,"f"),n}function SJ(e,t,r){var n=re(9);return Yl(n,e,t),n.write_shift(2,r),n}var EJ=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Sm({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=sa(1);switch(l.type){case"base64":u=on(Vn(o));break;case"binary":u=on(o);break;case"buffer":case"array":u=o;break}Cr(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,g=521;f==2&&(m=u.read_shift(2)),u.l+=3,f!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(g=u.read_shift(2));var y=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=e[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var x=[],E={},w=Math.min(u.length,f==2?521:g-10-(p?264:0)),S=v?32:11;u.l<w&&u[u.l]!=13;)switch(E={},E.name=Bi.utils.decode(b,u.slice(u.l,u.l+S)).replace(/[\u0000\r\n].*$/g,""),u.l+=S,E.type=String.fromCharCode(u.read_shift(1)),f!=2&&!v&&(E.offset=u.read_shift(4)),E.len=u.read_shift(1),f==2&&(E.offset=u.read_shift(2)),E.dec=u.read_shift(1),E.name.length&&x.push(E),f!=2&&(u.l+=v?13:14),E.type){case"B":(!p||E.len!=8)&&l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var _=0,A=0;for(c[0]=[],A=0;A!=x.length;++A)c[0][A]=x[A].name;for(;m-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++_]=[],A=0,A=0;A!=x.length;++A){var O=u.slice(u.l,u.l+x[A].len);u.l+=x[A].len,Cr(O,0);var C=Bi.utils.decode(b,O);switch(x[A].type){case"C":C.trim().length&&(c[_][A]=C.replace(/\s+$/,""));break;case"D":C.length===8?c[_][A]=new Date(+C.slice(0,4),+C.slice(4,6)-1,+C.slice(6,8)):c[_][A]=C;break;case"F":c[_][A]=parseFloat(C.trim());break;case"+":case"I":c[_][A]=v?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(C.trim().toUpperCase()){case"Y":case"T":c[_][A]=!0;break;case"N":case"F":c[_][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+C+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[_][A]="##MEMO##"+(v?parseInt(C.trim(),10):O.read_shift(4));break;case"N":C=C.replace(/\u0000/g,"").trim(),C&&C!="."&&(c[_][A]=+C||0);break;case"@":c[_][A]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":c[_][A]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":c[_][A]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[_][A]=-O.read_shift(-8,"f");break;case"B":if(p&&x[A].len==8){c[_][A]=O.read_shift(8,"f");break}case"G":case"P":O.l+=x[A].len;break;case"0":if(x[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+x[A].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=x,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Vs(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{return va(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Pl(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=yr(),f=Xu(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),v=o["!cols"]||[],m=0,g=0,y=0,b=1;for(m=0;m<h.length;++m){if(((v[m]||{}).DBF||{}).name){h[m]=v[m].DBF.name,++y;continue}if(h[m]!=null){if(++y,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(g=0;g<1024;++g)if(h.indexOf(h[m]+"_"+g)==-1){h[m]+="_"+g;break}}}}var x=yt(o["!ref"]),E=[],w=[],S=[];for(m=0;m<=x.e.c-x.s.c;++m){var _="",A="",O=0,C=[];for(g=0;g<p.length;++g)p[g][m]!=null&&C.push(p[g][m]);if(C.length==0||h[m]==null){E[m]="?";continue}for(g=0;g<C.length;++g){switch(typeof C[g]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=C[g]instanceof Date?"D":"C";break;default:A="C"}O=Math.max(O,String(C[g]).length),_=_&&_!=A?"C":A}O>250&&(O=250),A=((v[m]||{}).DBF||{}).type,A=="C"&&v[m].DBF.len>O&&(O=v[m].DBF.len),_=="B"&&A=="N"&&(_="N",S[m]=v[m].DBF.dec,O=v[m].DBF.len),w[m]=_=="C"||A=="N"?O:a[_]||0,b+=w[m],E[m]=_}var j=u.next(32);for(j.write_shift(4,318902576),j.write_shift(4,p.length),j.write_shift(2,296+32*y),j.write_shift(2,b),m=0;m<4;++m)j.write_shift(4,0);for(j.write_shift(4,0|(+t[xS]||3)<<8),m=0,g=0;m<h.length;++m)if(h[m]!=null){var P=u.next(32),U=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,U,"sbcs"),P.write_shift(1,E[m]=="?"?"C":E[m],"sbcs"),P.write_shift(4,g),P.write_shift(1,w[m]||a[E[m]]||0),P.write_shift(1,S[m]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),g+=w[m]||a[E[m]]||0}var q=u.next(264);for(q.write_shift(4,13),m=0;m<65;++m)q.write_shift(4,0);for(m=0;m<p.length;++m){var H=u.next(b);for(H.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(E[g]){case"L":H.write_shift(1,p[m][g]==null?63:p[m][g]?84:70);break;case"B":H.write_shift(8,p[m][g]||0,"f");break;case"N":var Z="0";for(typeof p[m][g]=="number"&&(Z=p[m][g].toFixed(S[g]||0)),y=0;y<w[g]-Z.length;++y)H.write_shift(1,32);H.write_shift(1,Z,"sbcs");break;case"D":p[m][g]?(H.write_shift(4,("0000"+p[m][g].getFullYear()).slice(-4),"sbcs"),H.write_shift(2,("00"+(p[m][g].getMonth()+1)).slice(-2),"sbcs"),H.write_shift(2,("00"+p[m][g].getDate()).slice(-2),"sbcs")):H.write_shift(8,"00000000","sbcs");break;case"C":var te=String(p[m][g]!=null?p[m][g]:"").slice(0,w[g]);for(H.write_shift(1,te,"sbcs"),y=0;y<w[g]-te.length;++y)H.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),AJ=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Jt(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var v=e[p];return typeof v=="number"?o1(v):v},n=function(h,p,v){var m=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return m==59?h:o1(m)};e["|"]=254;function i(h,p){switch(p.type){case"base64":return a(Vn(h),p);case"binary":return a(h,p);case"buffer":return a(Qe&&Buffer.isBuffer(h)?h.toString("binary"):ql(h),p);case"array":return a(ed(h),p)}throw new Error("Unrecognized type "+p.type)}function a(h,p){var v=h.split(/[\n\r]+/),m=-1,g=-1,y=0,b=0,x=[],E=[],w=null,S={},_=[],A=[],O=[],C=0,j;for(+p.codepage>=0&&Pl(+p.codepage);y!==v.length;++y){C=0;var P=v[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),U=P.replace(/;;/g,"\0").split(";").map(function(B){return B.replace(/\u0000/g,";")}),q=U[0],H;if(P.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&E.push(P.slice(3).replace(/;;/g,";"));break;case"C":var Z=!1,te=!1,se=!1,oe=!1,me=-1,_e=-1;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"A":break;case"X":g=parseInt(U[b].slice(1))-1,te=!0;break;case"Y":for(m=parseInt(U[b].slice(1))-1,te||(g=0),j=x.length;j<=m;++j)x[j]=[];break;case"K":H=U[b].slice(1),H.charAt(0)==='"'?H=H.slice(1,H.length-1):H==="TRUE"?H=!0:H==="FALSE"?H=!1:isNaN(Wn(H))?isNaN(Nl(H).getDate())||(H=hr(H)):(H=Wn(H),w!==null&&NS(w)&&(H=IS(H))),Z=!0;break;case"E":oe=!0;var D=SZ(U[b].slice(1),{r:m,c:g});x[m][g]=[x[m][g],D];break;case"S":se=!0,x[m][g]=[x[m][g],"S5S"];break;case"G":break;case"R":me=parseInt(U[b].slice(1))-1;break;case"C":_e=parseInt(U[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+P)}if(Z&&(x[m][g]&&x[m][g].length==2?x[m][g][0]=H:x[m][g]=H,w=null),se){if(oe)throw new Error("SYLK shared formula cannot have own formula");var z=me>-1&&x[me][_e];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");x[m][g][1]=EZ(z[1],{r:m-me,c:g-_e})}break;case"F":var F=0;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"X":g=parseInt(U[b].slice(1))-1,++F;break;case"Y":for(m=parseInt(U[b].slice(1))-1,j=x.length;j<=m;++j)x[j]=[];break;case"M":C=parseInt(U[b].slice(1))/20;break;case"F":break;case"G":break;case"P":w=E[parseInt(U[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=U[b].slice(1).split(" "),j=parseInt(O[0],10);j<=parseInt(O[1],10);++j)C=parseInt(O[2],10),A[j-1]=C===0?{hidden:!0}:{wch:C},$m(A[j-1]);break;case"C":g=parseInt(U[b].slice(1))-1,A[g]||(A[g]={});break;case"R":m=parseInt(U[b].slice(1))-1,_[m]||(_[m]={}),C>0?(_[m].hpt=C,_[m].hpx=wE(C)):C===0&&(_[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+P)}F<1&&(w=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+P)}}return _.length>0&&(S["!rows"]=_),A.length>0&&(S["!cols"]=A),p&&p.sheetRows&&(x=x.slice(0,p.sheetRows)),[x,S]}function s(h,p){var v=i(h,p),m=v[0],g=v[1],y=Vs(m,p);return Jt(g).forEach(function(b){y[b]=g[b]}),y}function o(h,p){return va(s(h,p),p)}function l(h,p,v,m){var g="C;Y"+(v+1)+";X"+(m+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+Fm(h.f,{r:v,c:m}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function c(h,p){p.forEach(function(v,m){var g="F;W"+(m+1)+" "+(m+1)+" ";v.hidden?g+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=qu(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=Gu(v.wpx)),typeof v.wch=="number"&&(g+=Math.round(v.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function u(h,p){p.forEach(function(v,m){var g="F;";v.hidden?g+="M0;":v.hpt?g+="M"+20*v.hpt+";":v.hpx&&(g+="M"+20*Vu(v.hpx)+";"),g.length>2&&h.push(g+"R"+(m+1))})}function f(h,p){var v=["ID;PWXL;N;E"],m=[],g=yt(h["!ref"]),y,b=Array.isArray(h),x=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&c(v,h["!cols"]),h["!rows"]&&u(v,h["!rows"]),v.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var E=g.s.r;E<=g.e.r;++E)for(var w=g.s.c;w<=g.e.c;++w){var S=at({r:E,c:w});y=b?(h[E]||[])[w]:h[S],!(!y||y.v==null&&(!y.f||y.F))&&m.push(l(y,h,E,w))}return v.join(x)+x+m.join(x)+x+"E"+x}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),TJ=function(){function e(a,s){switch(s.type){case"base64":return t(Vn(a),s);case"binary":return t(a,s);case"buffer":return t(Qe&&Buffer.isBuffer(a)?a.toString("binary"):ql(a),s);case"array":return t(ed(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){for(var o=a.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],v=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][c]=!0:m==="FALSE"?f[l][c]=!1:isNaN(Wn(v))?isNaN(Nl(v).getDate())?f[l][c]=v:f[l][c]=hr(v):f[l][c]=Wn(v),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(a,s){return Vs(e(a,s),s)}function n(a,s){return va(r(a,s),s)}var i=function(){var a=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=yt(l["!ref"]),f,h=Array.isArray(l);a(c,"TABLE",0,1,"sheetjs"),a(c,"VECTORS",0,u.e.r-u.s.r+1,""),a(c,"TUPLES",0,u.e.c-u.s.c+1,""),a(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){s(c,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var m=at({r:p,c:v});if(f=h?(l[p]||[])[v]:l[m],!f){s(c,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,g,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=xi(f.z||St[14],br(hr(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,b=c.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),gE=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),v=-1,m=-1,g=0,y=[];g!==p.length;++g){var b=p[g].trim().split(":");if(b[0]==="cell"){var x=Bt(b[1]);if(y.length<=x.r)for(v=y.length;v<=x.r;++v)y[v]||(y[v]=[]);switch(v=x.r,m=x.c,b[2]){case"t":y[v][m]=e(b[3]);break;case"v":y[v][m]=+b[3];break;case"vtf":var E=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[v][m]=!!+b[4];break;default:y[v][m]=+b[4];break}b[2]=="vtf"&&(y[v][m]=[y[v][m],E])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Vs(r(f,h),h)}function i(f,h){return va(n(f,h),h)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],v,m="",g=Mr(f["!ref"]),y=Array.isArray(f),b=g.s.r;b<=g.e.r;++b)for(var x=g.s.c;x<=g.e.c;++x)if(m=at({r:b,c:x}),v=y?(f[b]||[])[x]:f[m],!(!v||v.v==null||v.t==="z")){switch(p=["cell",m,"t"],v.t){case"s":case"str":p.push(t(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=t(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var E=br(hr(v.v));p[2]="vtc",p[3]="nd",p[4]=""+E,p[5]=v.w||xi(v.z||St[14],E);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[a,s,o,s,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:u}}(),OJ=function(){function e(u,f,h,p,v){v.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(Wn(u))?isNaN(Nl(u).getDate())?f[h][p]=u:f[h][p]=hr(u):f[h][p]=Wn(u))}function t(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var v=u.split(/[\r\n]/),m=v.length-1;m>=0&&v[m].length===0;)--m;for(var g=10,y=0,b=0;b<=m;++b)y=v[b].indexOf(" "),y==-1?y=v[b].length:y++,g=Math.max(g,y);for(b=0;b<=m;++b){p[b]=[];var x=0;for(e(v[b].slice(0,g).trim(),p,b,x,h),x=1;x<=(v[b].length-g)/10+1;++x)e(v[b].slice(g+(x-1)*10,g+x*10).trim(),p,b,x,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(u){for(var f={},h=!1,p=0,v=0;p<u.length;++p)(v=u.charCodeAt(p))==34?h=!h:!h&&v in r&&(f[v]=(f[v]||0)+1);v=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p]);if(!v.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p])}return v.sort(function(m,g){return m[0]-g[0]||n[m[1]]-n[g[1]]}),r[v.pop()[1]]||44}function a(u,f){var h=f||{},p="",v=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=i(u.slice(0,1024)):h&&h.FS?p=h.FS:p=i(u.slice(0,1024));var g=0,y=0,b=0,x=0,E=0,w=p.charCodeAt(0),S=!1,_=0,A=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var O=h.dateNF!=null?zX(h.dateNF):null;function C(){var j=u.slice(x,E),P={};if(j.charAt(0)=='"'&&j.charAt(j.length-1)=='"'&&(j=j.slice(1,-1).replace(/""/g,'"')),j.length===0)P.t="z";else if(h.raw)P.t="s",P.v=j;else if(j.trim().length===0)P.t="s",P.v=j;else if(j.charCodeAt(0)==61)j.charCodeAt(1)==34&&j.charCodeAt(j.length-1)==34?(P.t="s",P.v=j.slice(2,-1).replace(/""/g,'"')):AZ(j)?(P.t="n",P.f=j.slice(1)):(P.t="s",P.v=j);else if(j=="TRUE")P.t="b",P.v=!0;else if(j=="FALSE")P.t="b",P.v=!1;else if(!isNaN(b=Wn(j)))P.t="n",h.cellText!==!1&&(P.w=j),P.v=b;else if(!isNaN(Nl(j).getDate())||O&&j.match(O)){P.z=h.dateNF||St[14];var U=0;O&&j.match(O)&&(j=HX(j,h.dateNF,j.match(O)||[]),U=1),h.cellDates?(P.t="d",P.v=hr(j,U)):(P.t="n",P.v=br(hr(j,U))),h.cellText!==!1&&(P.w=xi(P.z,P.v instanceof Date?br(P.v):P.v)),h.cellNF||delete P.z}else P.t="s",P.v=j;if(P.t=="z"||(h.dense?(v[g]||(v[g]=[]),v[g][y]=P):v[at({c:y,r:g})]=P),x=E+1,A=u.charCodeAt(x),m.e.c<y&&(m.e.c=y),m.e.r<g&&(m.e.r=g),_==w)++y;else if(y=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;E<u.length;++E)switch(_=u.charCodeAt(E)){case 34:A===34&&(S=!S);break;case w:case 10:case 13:if(!S&&C())break e;break}return E-x>0&&C(),v["!ref"]=jt(m),v}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?a(u,f):Vs(t(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:Lre(u,f);switch(f.type){case"base64":h=Vn(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Bi<"u"?h=Bi.utils.decode(f.codepage,u):h=Qe&&Buffer.isBuffer(u)?u.toString("binary"):ql(u);break;case"array":h=ed(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Lo(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Lo(h):f.type=="binary"&&typeof Bi<"u"&&f.codepage&&(h=Bi.utils.decode(f.codepage,Bi.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?gE.to_sheet(f.type=="string"?h:Lo(h),f):s(h,f)}function l(u,f){return va(o(u,f),f)}function c(u){for(var f=[],h=yt(u["!ref"]),p,v=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var g=[],y=h.s.c;y<=h.e.c;++y){var b=at({r:m,c:y});if(p=v?(u[m]||[])[y]:u[b],!p||p.v==null){g.push("          ");continue}for(var x=(p.w||(Kn(p),p.w)||"").slice(0,10);x.length<10;)x+=" ";g.push(x+(y===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}(),R1=function(){function e(D,z,F){if(D){Cr(D,D.l||0);for(var B=F.Enum||me;D.l<D.length;){var Y=D.read_shift(2),xe=B[Y]||B[65535],be=D.read_shift(2),Q=D.l+be,ie=xe.f&&xe.f(D,be,F);if(D.l=Q,z(ie,xe,Y))return}}}function t(D,z){switch(z.type){case"base64":return r(on(Vn(D)),z);case"binary":return r(on(D),z);case"buffer":case"array":return r(D,z)}throw"Unsupported type "+z.type}function r(D,z){if(!D)return D;var F=z||{},B=F.dense?[]:{},Y="Sheet1",xe="",be=0,Q={},ie=[],we=[],ee={s:{r:0,c:0},e:{r:0,c:0}},De=F.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)F.Enum=me,e(D,function(G,Pe,Ge){switch(Ge){case 0:F.vers=G,G>=4096&&(F.qpro=!0);break;case 6:ee=G;break;case 204:G&&(xe=G);break;case 222:xe=G;break;case 15:case 51:F.qpro||(G[1].v=G[1].v.slice(1));case 13:case 14:case 16:Ge==14&&(G[2]&112)==112&&(G[2]&15)>1&&(G[2]&15)<15&&(G[1].z=F.dateNF||St[14],F.cellDates&&(G[1].t="d",G[1].v=IS(G[1].v))),F.qpro&&G[3]>be&&(B["!ref"]=jt(ee),Q[Y]=B,ie.push(Y),B=F.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},be=G[3],Y=xe||"Sheet"+(be+1),xe="");var ft=F.dense?(B[G[0].r]||[])[G[0].c]:B[at(G[0])];if(ft){ft.t=G[1].t,ft.v=G[1].v,G[1].z!=null&&(ft.z=G[1].z),G[1].f!=null&&(ft.f=G[1].f);break}F.dense?(B[G[0].r]||(B[G[0].r]=[]),B[G[0].r][G[0].c]=G[1]):B[at(G[0])]=G[1];break}},F);else if(D[2]==26||D[2]==14)F.Enum=_e,D[2]==14&&(F.qpro=!0,D.l=0),e(D,function(G,Pe,Ge){switch(Ge){case 204:Y=G;break;case 22:G[1].v=G[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(G[3]>be&&(B["!ref"]=jt(ee),Q[Y]=B,ie.push(Y),B=F.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},be=G[3],Y="Sheet"+(be+1)),De>0&&G[0].r>=De)break;F.dense?(B[G[0].r]||(B[G[0].r]=[]),B[G[0].r][G[0].c]=G[1]):B[at(G[0])]=G[1],ee.e.c<G[0].c&&(ee.e.c=G[0].c),ee.e.r<G[0].r&&(ee.e.r=G[0].r);break;case 27:G[14e3]&&(we[G[14e3][0]]=G[14e3][1]);break;case 1537:we[G[0]]=G[1],G[0]==be&&(Y=G[1]);break}},F);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(B["!ref"]=jt(ee),Q[xe||Y]=B,ie.push(xe||Y),!we.length)return{SheetNames:ie,Sheets:Q};for(var Se={},Le=[],Ce=0;Ce<we.length;++Ce)Q[ie[Ce]]?(Le.push(we[Ce]||ie[Ce]),Se[we[Ce]]=Q[we[Ce]]||Q[ie[Ce]]):(Le.push(we[Ce]),Se[we[Ce]]={"!ref":"A1"});return{SheetNames:Le,Sheets:Se}}function n(D,z){var F=z||{};if(+F.codepage>=0&&Pl(+F.codepage),F.type=="string")throw new Error("Cannot write WK1 to JS string");var B=yr(),Y=yt(D["!ref"]),xe=Array.isArray(D),be=[];ve(B,0,a(1030)),ve(B,6,l(Y));for(var Q=Math.min(Y.e.r,8191),ie=Y.s.r;ie<=Q;++ie)for(var we=Yt(ie),ee=Y.s.c;ee<=Y.e.c;++ee){ie===Y.s.r&&(be[ee]=ar(ee));var De=be[ee]+we,Se=xe?(D[ie]||[])[ee]:D[De];if(!(!Se||Se.t=="z"))if(Se.t=="n")(Se.v|0)==Se.v&&Se.v>=-32768&&Se.v<=32767?ve(B,13,p(ie,ee,Se.v)):ve(B,14,m(ie,ee,Se.v));else{var Le=Kn(Se);ve(B,15,f(ie,ee,Le.slice(0,239)))}}return ve(B,1),B.end()}function i(D,z){var F=z||{};if(+F.codepage>=0&&Pl(+F.codepage),F.type=="string")throw new Error("Cannot write WK3 to JS string");var B=yr();ve(B,0,s(D));for(var Y=0,xe=0;Y<D.SheetNames.length;++Y)(D.Sheets[D.SheetNames[Y]]||{})["!ref"]&&ve(B,27,oe(D.SheetNames[Y],xe++));var be=0;for(Y=0;Y<D.SheetNames.length;++Y){var Q=D.Sheets[D.SheetNames[Y]];if(!(!Q||!Q["!ref"])){for(var ie=yt(Q["!ref"]),we=Array.isArray(Q),ee=[],De=Math.min(ie.e.r,8191),Se=ie.s.r;Se<=De;++Se)for(var Le=Yt(Se),Ce=ie.s.c;Ce<=ie.e.c;++Ce){Se===ie.s.r&&(ee[Ce]=ar(Ce));var G=ee[Ce]+Le,Pe=we?(Q[Se]||[])[Ce]:Q[G];if(!(!Pe||Pe.t=="z"))if(Pe.t=="n")ve(B,23,C(Se,Ce,be,Pe.v));else{var Ge=Kn(Pe);ve(B,22,_(Se,Ce,be,Ge.slice(0,239)))}}++be}}return ve(B,1),B.end()}function a(D){var z=re(2);return z.write_shift(2,D),z}function s(D){var z=re(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var F=0,B=0,Y=0,xe=0;xe<D.SheetNames.length;++xe){var be=D.SheetNames[xe],Q=D.Sheets[be];if(!(!Q||!Q["!ref"])){++Y;var ie=Mr(Q["!ref"]);F<ie.e.r&&(F=ie.e.r),B<ie.e.c&&(B=ie.e.c)}}return F>8191&&(F=8191),z.write_shift(2,F),z.write_shift(1,Y),z.write_shift(1,B),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function o(D,z,F){var B={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&F.qpro?(B.s.c=D.read_shift(1),D.l++,B.s.r=D.read_shift(2),B.e.c=D.read_shift(1),D.l++,B.e.r=D.read_shift(2),B):(B.s.c=D.read_shift(2),B.s.r=D.read_shift(2),z==12&&F.qpro&&(D.l+=2),B.e.c=D.read_shift(2),B.e.r=D.read_shift(2),z==12&&F.qpro&&(D.l+=2),B.s.c==65535&&(B.s.c=B.e.c=B.s.r=B.e.r=0),B)}function l(D){var z=re(8);return z.write_shift(2,D.s.c),z.write_shift(2,D.s.r),z.write_shift(2,D.e.c),z.write_shift(2,D.e.r),z}function c(D,z,F){var B=[{c:0,r:0},{t:"n",v:0},0,0];return F.qpro&&F.vers!=20768?(B[0].c=D.read_shift(1),B[3]=D.read_shift(1),B[0].r=D.read_shift(2),D.l+=2):(B[2]=D.read_shift(1),B[0].c=D.read_shift(2),B[0].r=D.read_shift(2)),B}function u(D,z,F){var B=D.l+z,Y=c(D,z,F);if(Y[1].t="s",F.vers==20768){D.l++;var xe=D.read_shift(1);return Y[1].v=D.read_shift(xe,"utf8"),Y}return F.qpro&&D.l++,Y[1].v=D.read_shift(B-D.l,"cstr"),Y}function f(D,z,F){var B=re(7+F.length);B.write_shift(1,255),B.write_shift(2,z),B.write_shift(2,D),B.write_shift(1,39);for(var Y=0;Y<B.length;++Y){var xe=F.charCodeAt(Y);B.write_shift(1,xe>=128?95:xe)}return B.write_shift(1,0),B}function h(D,z,F){var B=c(D,z,F);return B[1].v=D.read_shift(2,"i"),B}function p(D,z,F){var B=re(7);return B.write_shift(1,255),B.write_shift(2,z),B.write_shift(2,D),B.write_shift(2,F,"i"),B}function v(D,z,F){var B=c(D,z,F);return B[1].v=D.read_shift(8,"f"),B}function m(D,z,F){var B=re(13);return B.write_shift(1,255),B.write_shift(2,z),B.write_shift(2,D),B.write_shift(8,F,"f"),B}function g(D,z,F){var B=D.l+z,Y=c(D,z,F);if(Y[1].v=D.read_shift(8,"f"),F.qpro)D.l=B;else{var xe=D.read_shift(2);E(D.slice(D.l,D.l+xe),Y),D.l+=xe}return Y}function y(D,z,F){var B=z&32768;return z&=-32769,z=(B?D:0)+(z>=8192?z-16384:z),(B?"":"$")+(F?ar(z):Yt(z))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},x=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(D,z){Cr(D,0);for(var F=[],B=0,Y="",xe="",be="",Q="";D.l<D.length;){var ie=D[D.l++];switch(ie){case 0:F.push(D.read_shift(8,"f"));break;case 1:xe=y(z[0].c,D.read_shift(2),!0),Y=y(z[0].r,D.read_shift(2),!1),F.push(xe+Y);break;case 2:{var we=y(z[0].c,D.read_shift(2),!0),ee=y(z[0].r,D.read_shift(2),!1);xe=y(z[0].c,D.read_shift(2),!0),Y=y(z[0].r,D.read_shift(2),!1),F.push(we+ee+":"+xe+Y)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:F.push("("+F.pop()+")");break;case 5:F.push(D.read_shift(2));break;case 6:{for(var De="";ie=D[D.l++];)De+=String.fromCharCode(ie);F.push('"'+De.replace(/"/g,'""')+'"')}break;case 8:F.push("-"+F.pop());break;case 23:F.push("+"+F.pop());break;case 22:F.push("NOT("+F.pop()+")");break;case 20:case 21:Q=F.pop(),be=F.pop(),F.push(["AND","OR"][ie-20]+"("+be+","+Q+")");break;default:if(ie<32&&x[ie])Q=F.pop(),be=F.pop(),F.push(be+x[ie]+Q);else if(b[ie]){if(B=b[ie][1],B==69&&(B=D[D.l++]),B>F.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+F.join("|")+"|");return}var Se=F.slice(-B);F.length-=B,F.push(b[ie][0]+"("+Se.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}F.length==1?z[1].f=""+F[0]:console.error("WK1 bad formula parse |"+F.join("|")+"|")}function w(D){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=D.read_shift(2),z[3]=D[D.l++],z[0].c=D[D.l++],z}function S(D,z){var F=w(D);return F[1].t="s",F[1].v=D.read_shift(z-4,"cstr"),F}function _(D,z,F,B){var Y=re(6+B.length);Y.write_shift(2,D),Y.write_shift(1,F),Y.write_shift(1,z),Y.write_shift(1,39);for(var xe=0;xe<B.length;++xe){var be=B.charCodeAt(xe);Y.write_shift(1,be>=128?95:be)}return Y.write_shift(1,0),Y}function A(D,z){var F=w(D);F[1].v=D.read_shift(2);var B=F[1].v>>1;if(F[1].v&1)switch(B&7){case 0:B=(B>>3)*5e3;break;case 1:B=(B>>3)*500;break;case 2:B=(B>>3)/20;break;case 3:B=(B>>3)/200;break;case 4:B=(B>>3)/2e3;break;case 5:B=(B>>3)/2e4;break;case 6:B=(B>>3)/16;break;case 7:B=(B>>3)/64;break}return F[1].v=B,F}function O(D,z){var F=w(D),B=D.read_shift(4),Y=D.read_shift(4),xe=D.read_shift(2);if(xe==65535)return B===0&&Y===3221225472?(F[1].t="e",F[1].v=15):B===0&&Y===3489660928?(F[1].t="e",F[1].v=42):F[1].v=0,F;var be=xe&32768;return xe=(xe&32767)-16446,F[1].v=(1-be*2)*(Y*Math.pow(2,xe+32)+B*Math.pow(2,xe)),F}function C(D,z,F,B){var Y=re(14);if(Y.write_shift(2,D),Y.write_shift(1,F),Y.write_shift(1,z),B==0)return Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(2,65535),Y;var xe=0,be=0,Q=0,ie=0;return B<0&&(xe=1,B=-B),be=Math.log2(B)|0,B/=Math.pow(2,be-31),ie=B>>>0,ie&2147483648||(B/=2,++be,ie=B>>>0),B-=ie,ie|=2147483648,ie>>>=0,B*=Math.pow(2,32),Q=B>>>0,Y.write_shift(4,Q),Y.write_shift(4,ie),be+=16383+(xe?32768:0),Y.write_shift(2,be),Y}function j(D,z){var F=O(D);return D.l+=z-14,F}function P(D,z){var F=w(D),B=D.read_shift(4);return F[1].v=B>>6,F}function U(D,z){var F=w(D),B=D.read_shift(8,"f");return F[1].v=B,F}function q(D,z){var F=U(D);return D.l+=z-10,F}function H(D,z){return D[D.l+z-1]==0?D.read_shift(z,"cstr"):""}function Z(D,z){var F=D[D.l++];F>z-1&&(F=z-1);for(var B="";B.length<F;)B+=String.fromCharCode(D[D.l++]);return B}function te(D,z,F){if(!(!F.qpro||z<21)){var B=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var Y=D.read_shift(z-21,"cstr");return[B,Y]}}function se(D,z){for(var F={},B=D.l+z;D.l<B;){var Y=D.read_shift(2);if(Y==14e3){for(F[Y]=[0,""],F[Y][0]=D.read_shift(2);D[D.l];)F[Y][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return F}function oe(D,z){var F=re(5+D.length);F.write_shift(2,14e3),F.write_shift(2,z);for(var B=0;B<D.length;++B){var Y=D.charCodeAt(B);F[F.l++]=Y>127?95:Y}return F[F.l++]=0,F}var me={0:{n:"BOF",f:dE},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:H},222:{n:"SHEETNAMELP",f:Z},65535:{n:""}},_e={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:j},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:se},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:H},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:te},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}(),PJ=/^\s|\s$|[\t\n\r]/;function xE(e,t){if(!t.bookSST)return"";var r=[Nt];r[r.length]=pe("sst",null,{xmlns:Gs[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var i=e[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(PJ)&&(a+=' xml:space="preserve"'),a+=">"+it(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function jJ(e){return[e.read_shift(4),e.read_shift(4)]}function NJ(e,t){return t||(t=re(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var CJ=wY;function kJ(e){var t=yr();le(t,159,NJ(e));for(var r=0;r<e.length;++r)le(t,19,CJ(e[r]));return le(t,160),t.end()}function DJ(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function yE(e){var t=0,r,n=DJ(e),i=n.length+1,a,s,o,l,c;for(r=sa(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var IJ=function(){function e(i,a){switch(a.type){case"base64":return t(Vn(i),a);case"binary":return t(i,a);case"buffer":return t(Qe&&Buffer.isBuffer(i)?i.toString("binary"):ql(i),a);case"array":return t(ed(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,v,m=-1;v=h.exec(u);){switch(v[0]){case"\\cell":var g=u.slice(p,h.lastIndex-v[0].length);if(g[0]==" "&&(g=g.slice(1)),++m,g.length){var y={v:g,t:"s"};Array.isArray(o)?o[f][m]=y:o[at({r:f,c:m})]=y}break}p=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=jt(c),o}function r(i,a){return va(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=yt(i["!ref"]),o,l=Array.isArray(i),c=s.s.r;c<=s.e.r;++c){a.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)a.push("\\cellx"+(u+1));for(a.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=at({r:c,c:u});o=l?(i[c]||[])[u]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Kn(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function L1(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var $J=6,zn=$J;function qu(e){return Math.floor((e+Math.round(128/zn)/256)*zn)}function Gu(e){return Math.floor((e-5)/zn*100+.5)/100}function rp(e){return Math.round((e*zn+5)/zn*256)/256}function $m(e){e.width?(e.wpx=qu(e.width),e.wch=Gu(e.wpx),e.MDW=zn):e.wpx?(e.wch=Gu(e.wpx),e.width=rp(e.wch),e.MDW=zn):typeof e.wch=="number"&&(e.width=rp(e.wch),e.wpx=qu(e.width),e.MDW=zn),e.customWidth&&delete e.customWidth}var MJ=96,bE=MJ;function Vu(e){return e*96/bE}function wE(e){return e*bE/96}function FJ(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=pe("numFmt",null,{numFmtId:n,formatCode:it(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=pe("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function RJ(e){var t=[];return t[t.length]=pe("cellXfs",null),e.forEach(function(r){t[t.length]=pe("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=pe("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function _E(e,t){var r=[Nt,pe("styleSheet",null,{xmlns:Gs[0],"xmlns:vt":Lt.vt})],n;return e.SSF&&(n=FJ(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=RJ(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function LJ(e,t){var r=e.read_shift(2),n=sr(e);return[r,n]}function BJ(e,t,r){r||(r=re(6+4*t.length)),r.write_shift(2,e),Ut(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function UJ(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=PY(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=OY(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=sr(e),n}function WJ(e,t){t||(t=re(25+4*32)),t.write_shift(2,e.sz*20),jY(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),zu(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),Ut(e.name,t),t.length>t.l?t.slice(0,t.l):t}var zJ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],nh,HJ=An;function B1(e,t){t||(t=re(4*3+8*7+16*1)),nh||(nh=Sm(zJ));var r=nh[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(zu({auto:1},t),zu({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function qJ(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}function SE(e,t,r){r||(r=re(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function yo(e,t){return t||(t=re(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var GJ=An;function VJ(e,t){return t||(t=re(51)),t.write_shift(1,0),yo(null,t),yo(null,t),yo(null,t),yo(null,t),yo(null,t),t.length>t.l?t.slice(0,t.l):t}function KJ(e,t){return t||(t=re(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Wu(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function XJ(e,t,r){var n=re(2052);return n.write_shift(4,e),Wu(t,n),Wu(r,n),n.length>n.l?n.slice(0,n.l):n}function YJ(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&++r}),r!=0&&(le(e,615,fn(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&le(e,44,BJ(i,t[i]))}),le(e,616))}}function JJ(e){var t=1;le(e,611,fn(t)),le(e,43,WJ({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),le(e,612)}function ZJ(e){var t=2;le(e,603,fn(t)),le(e,45,B1({patternType:"none"})),le(e,45,B1({patternType:"gray125"})),le(e,604)}function QJ(e){var t=1;le(e,613,fn(t)),le(e,46,VJ()),le(e,614)}function eZ(e){var t=1;le(e,626,fn(t)),le(e,47,SE({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),le(e,627)}function tZ(e,t){le(e,617,fn(t.length)),t.forEach(function(r){le(e,47,SE(r,0))}),le(e,618)}function rZ(e){var t=1;le(e,619,fn(t)),le(e,48,KJ({xfId:0,builtinId:0,name:"Normal"})),le(e,620)}function nZ(e){var t=0;le(e,505,fn(t)),le(e,506)}function iZ(e){var t=0;le(e,508,XJ(t,"TableStyleMedium9","PivotStyleMedium4")),le(e,509)}function aZ(e,t){var r=yr();return le(r,278),YJ(r,e.SSF),JJ(r),ZJ(r),QJ(r),eZ(r),tZ(r,t.cellXfs),rZ(r),nZ(r),iZ(r),le(r,279),r.end()}function EE(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Nt];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function sZ(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:sr(e)}}function oZ(e){var t=re(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ut(e.name,t),t.slice(0,t.l)}function lZ(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function cZ(e){var t=re(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function uZ(e,t){var r=re(8+2*t.length);return r.write_shift(4,e),Ut(t,r),r.slice(0,r.l)}function fZ(e){return e.l+=4,e.read_shift(4)!=0}function dZ(e,t){var r=re(8);return r.write_shift(4,e),r.write_shift(4,1),r}function hZ(){var e=yr();return le(e,332),le(e,334,fn(1)),le(e,335,oZ({name:"XLDAPR",version:12e4,flags:3496657072})),le(e,336),le(e,339,uZ(1,"XLDAPR")),le(e,52),le(e,35,fn(514)),le(e,4096,fn(0)),le(e,4097,qr(1)),le(e,36),le(e,53),le(e,340),le(e,337,dZ(1)),le(e,51,cZ([[1,0]])),le(e,338),le(e,333),e.end()}function AE(){var e=[Nt];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function pZ(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=at(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var za=1024;function TE(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[pe("xml",null,{"xmlns:v":kr.v,"xmlns:o":kr.o,"xmlns:x":kr.x,"xmlns:mv":kr.mv}).replace(/\/>/,">"),pe("o:shapelayout",pe("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),pe("v:shapetype",[pe("v:stroke",null,{joinstyle:"miter"}),pe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];za<e*1e3;)za+=1e3;return t.forEach(function(a){var s=Bt(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?pe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=pe("v:fill",l,o),u={on:"t",obscured:"t"};++za,i=i.concat(["<v:shape"+kl({id:"_x0000_s"+za,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,pe("v:shadow",null,u),pe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Kt("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Kt("x:AutoFill","False"),Kt("x:Row",String(s.r)),Kt("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function OE(e){var t=[Nt,pe("comments",null,{xmlns:Gs[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(i){var a=it(i.a);r.indexOf(a)==-1&&(r.push(a),t.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(it(l.a))),a.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)t.push(Kt("t",it(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;t.push(Kt("t",it(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function mZ(e,t,r){var n=[Nt,pe("ThreadedComments",null,{xmlns:Lt.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?a=l.id:l.parentId=a,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(pe("threadedComment",Kt("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function vZ(e){var t=[Nt,pe("personList",null,{xmlns:Lt.TCMNT,"xmlns:x":Gs[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(pe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function gZ(e){var t={};t.iauthor=e.read_shift(4);var r=ba(e);return t.rfx=r.s,t.ref=at(r.s),e.l+=16,t}function xZ(e,t){return t==null&&(t=re(36)),t.write_shift(4,e[1].iauthor),Ks(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var yZ=sr;function bZ(e){return Ut(e.slice(0,54))}function wZ(e){var t=yr(),r=[];return le(t,628),le(t,630),e.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),le(t,632,bZ(i.a)))})}),le(t,631),le(t,633),e.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:Bt(n[0]),e:Bt(n[0])};le(t,635,xZ([a,i])),i.t&&i.t.length>0&&le(t,637,SY(i)),le(t,636),delete i.iauthor})}),le(t,634),le(t,629),t.end()}function _Z(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&lt.utils.cfb_add(e,i,t.FileIndex[n].content)}})}var PE=["xlsb","xlsm","xlam","biff8","xla"],SZ=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=a.length>0?parseInt(a,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,i+(o?"":"$")+ar(u)+(l?"":"$")+Yt(c)}return function(i,a){return t=a,i.replace(e,r)}}(),Mm=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Fm=function(){return function(t,r){return t.replace(Mm,function(n,i,a,s,o,l){var c=Nm(s)-(a?0:r.c),u=jm(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":a?c+1:"["+c+"]";return i+"R"+f+"C"+h})}}();function EZ(e,t){return e.replace(Mm,function(r,n,i,a,s,o){return n+(i=="$"?i+a:ar(Nm(a)+t.c))+(s=="$"?s+o:Yt(jm(o)+t.r))})}function AZ(e){return e.length!=1}function Tt(e){e.l+=1}function yi(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function jE(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return NE(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),s=yi(e),o=yi(e);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function NE(e){var t=yi(e),r=yi(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function TZ(e,t,r){if(r.biff<8)return NE(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=yi(e),s=yi(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function CE(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return OZ(e);var n=e.read_shift(r&&r.biff==12?4:2),i=yi(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function OZ(e){var t=yi(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function PZ(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function jZ(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return NZ(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function NZ(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function CZ(e,t,r){var n=(e[e.l++]&96)>>5,i=jE(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function kZ(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var s=jE(e,a,r);return[n,i,s]}function DZ(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function IZ(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function $Z(e,t,r){var n=(e[e.l++]&96)>>5,i=TZ(e,t-1,r);return[n,i]}function MZ(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function U1(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function FZ(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function RZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function LZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function BZ(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function UZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function kE(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function WZ(e){return e.read_shift(2),kE(e)}function zZ(e){return e.read_shift(2),kE(e)}function HZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=CE(e,0,r);return[n,i]}function qZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=jZ(e,0,r);return[n,i]}function GZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=CE(e,0,r);return[n,i,a]}function VZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[VQ[i],$E[i],n]}function KZ(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:XZ(e);return[i,(a[0]===0?$E:GQ)[a[1]]]}function XZ(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function YZ(e,t,r){e.l+=r&&r.biff==2?3:4}function JZ(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function ZZ(e){return e.l++,Kl[e.read_shift(1)]}function QZ(e){return e.l++,e.read_shift(2)}function eQ(e){return e.l++,e.read_shift(1)!==0}function tQ(e){return e.l++,Xs(e)}function rQ(e,t,r){return e.l++,pE(e,t-1,r)}function nQ(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=GY(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Kl[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Xs(e);break;case 2:r[1]=YY(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function iQ(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?ba:QY)(e));return i}function aQ(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=nQ(e,r.biff);return s}function sQ(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function oQ(e,t,r){if(r.biff==5)return lQ(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function lQ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function cQ(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function uQ(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function fQ(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function dQ(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var hQ=An,pQ=An,mQ=An;function Xl(e,t,r){return e.l+=2,[PZ(e)]}function Rm(e){return e.l+=6,[]}var vQ=Xl,gQ=Rm,xQ=Rm,yQ=Xl;function DE(e){return e.l+=2,[dE(e),e.read_shift(2)&1]}var bQ=Xl,wQ=DE,_Q=Rm,SQ=Xl,EQ=Xl,AQ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function TQ(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),s=AQ[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:i,C:a}}function OQ(e){return e.l+=2,[e.read_shift(4)]}function PQ(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function jQ(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function NQ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function CQ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function kQ(e){return e.l+=4,[0,0]}var W1={1:{n:"PtgExp",f:JZ},2:{n:"PtgTbl",f:mQ},3:{n:"PtgAdd",f:Tt},4:{n:"PtgSub",f:Tt},5:{n:"PtgMul",f:Tt},6:{n:"PtgDiv",f:Tt},7:{n:"PtgPower",f:Tt},8:{n:"PtgConcat",f:Tt},9:{n:"PtgLt",f:Tt},10:{n:"PtgLe",f:Tt},11:{n:"PtgEq",f:Tt},12:{n:"PtgGe",f:Tt},13:{n:"PtgGt",f:Tt},14:{n:"PtgNe",f:Tt},15:{n:"PtgIsect",f:Tt},16:{n:"PtgUnion",f:Tt},17:{n:"PtgRange",f:Tt},18:{n:"PtgUplus",f:Tt},19:{n:"PtgUminus",f:Tt},20:{n:"PtgPercent",f:Tt},21:{n:"PtgParen",f:Tt},22:{n:"PtgMissArg",f:Tt},23:{n:"PtgStr",f:rQ},26:{n:"PtgSheet",f:PQ},27:{n:"PtgEndSheet",f:jQ},28:{n:"PtgErr",f:ZZ},29:{n:"PtgBool",f:eQ},30:{n:"PtgInt",f:QZ},31:{n:"PtgNum",f:tQ},32:{n:"PtgArray",f:MZ},33:{n:"PtgFunc",f:VZ},34:{n:"PtgFuncVar",f:KZ},35:{n:"PtgName",f:sQ},36:{n:"PtgRef",f:HZ},37:{n:"PtgArea",f:CZ},38:{n:"PtgMemArea",f:cQ},39:{n:"PtgMemErr",f:hQ},40:{n:"PtgMemNoMem",f:pQ},41:{n:"PtgMemFunc",f:uQ},42:{n:"PtgRefErr",f:fQ},43:{n:"PtgAreaErr",f:DZ},44:{n:"PtgRefN",f:qZ},45:{n:"PtgAreaN",f:$Z},46:{n:"PtgMemAreaN",f:NQ},47:{n:"PtgMemNoMemN",f:CQ},57:{n:"PtgNameX",f:oQ},58:{n:"PtgRef3d",f:GZ},59:{n:"PtgArea3d",f:kZ},60:{n:"PtgRefErr3d",f:dQ},61:{n:"PtgAreaErr3d",f:IZ},255:{}},DQ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},IQ={1:{n:"PtgElfLel",f:DE},2:{n:"PtgElfRw",f:SQ},3:{n:"PtgElfCol",f:vQ},6:{n:"PtgElfRwV",f:EQ},7:{n:"PtgElfColV",f:yQ},10:{n:"PtgElfRadical",f:bQ},11:{n:"PtgElfRadicalS",f:_Q},13:{n:"PtgElfColS",f:gQ},15:{n:"PtgElfColSV",f:xQ},16:{n:"PtgElfRadicalLel",f:wQ},25:{n:"PtgList",f:TQ},29:{n:"PtgSxName",f:OQ},255:{}},$Q={0:{n:"PtgAttrNoop",f:kQ},1:{n:"PtgAttrSemi",f:UZ},2:{n:"PtgAttrIf",f:LZ},4:{n:"PtgAttrChoose",f:FZ},8:{n:"PtgAttrGoto",f:RZ},16:{n:"PtgAttrSum",f:YZ},32:{n:"PtgAttrBaxcel",f:U1},33:{n:"PtgAttrBaxcel",f:U1},64:{n:"PtgAttrSpace",f:WZ},65:{n:"PtgAttrSpaceSemi",f:zZ},128:{n:"PtgAttrIfError",f:BZ},255:{}};function MQ(e,t,r,n){if(n.biff<8)return An(e,t);for(var i=e.l+t,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=aQ(e,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=iQ(e,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=i-e.l,t!==0&&a.push(An(e,t)),a}function FQ(e,t,r){for(var n=e.l+t,i,a,s=[];n!=e.l;)t=n-e.l,a=e[e.l],i=W1[a]||W1[DQ[a]],(a===24||a===25)&&(i=(a===24?IQ:$Q)[e[e.l+1]]),!i||!i.f?An(e,t):s.push([i.n,i.f(e,t,r)]);return s}function RQ(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var LQ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function BQ(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function IE(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function z1(e,t,r){var n=IE(e,t,r);return n=="#REF"?n:BQ(n,r)}function Os(e,t,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,v="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",y=0,b=e[0].length;y<b;++y){var x=e[0][y];switch(x[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=_t(" ",e[0][m][1][1]);break;case 1:g=_t("\r",e[0][m][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+g,m=-1}o.push(c+LQ[x[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Uo(x[1][1],s,i),o.push(Wo(u,a));break;case"PtgRefN":u=r?Uo(x[1][1],r,i):x[1][1],o.push(Wo(u,a));break;case"PtgRef3d":f=x[1][1],u=Uo(x[1][2],s,i),v=z1(n,f,i),o.push(v+"!"+Wo(u,a));break;case"PtgFunc":case"PtgFuncVar":var E=x[1][0],w=x[1][1];E||(E=0),E&=127;var S=E==0?[]:o.slice(-E);o.length-=E,w==="User"&&(w=S.shift()),o.push(w+"("+S.join(",")+")");break;case"PtgBool":o.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(x[1]);break;case"PtgNum":o.push(String(x[1]));break;case"PtgStr":o.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(x[1]);break;case"PtgAreaN":p=O1(x[1][1],r?{s:r}:s,i),o.push(th(p,i));break;case"PtgArea":p=O1(x[1][1],s,i),o.push(th(p,i));break;case"PtgArea3d":f=x[1][1],p=x[1][2],v=z1(n,f,i),o.push(v+"!"+th(p,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=x[1][2];var _=(n.names||[])[h-1]||(n[0]||[])[h],A=_?_.Name:"SH33TJSNAME"+String(h);A&&A.slice(0,6)=="_xlfn."&&!i.xlfn&&(A=A.slice(6)),o.push(A);break;case"PtgNameX":var O=x[1][1];h=x[1][2];var C;if(i.biff<=5)O<0&&(O=-O),n[O]&&(C=n[O][h]);else{var j="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][h]&&n[O][h].itab>0&&(j=n.SheetNames[n[O][h].itab-1]+"!"):j=n.SheetNames[h-1]+"!"),n[O]&&n[O][h])j+=n[O][h].Name;else if(n[0]&&n[0][h])j+=n[0][h].Name;else{var P=(IE(n,O,i)||"").split(";;");P[h-1]?j=P[h-1]:j+="SH33TJSERRX"}o.push(j);break}C||(C={Name:"SH33TJSERRY"}),o.push(C.Name);break;case"PtgParen":var U="(",q=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:U=_t(" ",e[0][m][1][1])+U;break;case 3:U=_t("\r",e[0][m][1][1])+U;break;case 4:q=_t(" ",e[0][m][1][1])+q;break;case 5:q=_t("\r",e[0][m][1][1])+q;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(U+o.pop()+q);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:x[1][1],r:x[1][0]};var H={c:r.c,r:r.r};if(n.sharedf[at(u)]){var Z=n.sharedf[at(u)];o.push(Os(Z,s,H,n,i))}else{var te=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Os(c[1],s,H,n,i)),te=!0;break}te||o.push(x[1])}break;case"PtgArray":o.push("{"+RQ(x[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(x));default:throw new Error("Unrecognized Formula Token: "+String(x))}var se=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&m>=0&&se.indexOf(e[0][y][0])==-1){x=e[0][m];var oe=!0;switch(x[1][0]){case 4:oe=!1;case 0:g=_t(" ",x[1][1]);break;case 5:oe=!1;case 1:g=_t("\r",x[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}o.push((oe?g:"")+o.pop()+(oe?"":g)),m=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function UQ(e){if(e==null){var t=re(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return oa(e);return oa(0)}function WQ(e,t,r,n,i){var a=la(t,r,i),s=UQ(e.v),o=re(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=re(e.bf.length),u=0;u<e.bf.length;++u)c[u]=e.bf[u];var f=Vt([a,s,o,c]);return f}function td(e,t,r){var n=e.read_shift(4),i=FQ(e,n,r),a=e.read_shift(4),s=a>0?MQ(e,a,i,r):null;return[i,s]}var zQ=td,rd=td,HQ=td,qQ=td,GQ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},$E={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},VQ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function KQ(e){var t="of:="+e.replace(Mm,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function XQ(e){return e.replace(/\./,"!")}var zo=typeof Map<"u";function Lm(e,t,r){var n=0,i=e.length;if(r){if(zo?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var a=zo?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}}else for(;n<i;++n)if(e[n].t===t)return e.Count++,n;return e[i]={t},e.Count++,e.Unique++,r&&(zo?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function nd(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(zn=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Gu(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=rp(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function ME(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Oi(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],i=60,a=e.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){CS(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=n=i;break}}for(i=0;i!=a;++i)if(e[i].numFmtId===n)return i;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function YQ(e,t,r){if(e&&e["!ref"]){var n=yt(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function JQ(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+jt(e[r])+'"/>';return t+"</mergeCells>"}function ZQ(e,t,r,n,i){var a=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}a=!0,s.codeName=Cl(it(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+pe("outlinePr",null,c)}!a&&!o||(i[i.length]=pe("sheetPr",o,s))}var QQ=["objects","scenarios","selectLockedCells","selectUnlockedCells"],eee=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function tee(e){var t={sheet:1};return QQ.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),eee.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=yE(e.password).toString(16).toUpperCase()),pe("sheetProtection",null,t)}function ree(e){return ME(e),pe("pageMargins",null,e)}function nee(e,t){for(var r=["<cols>"],n,i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=pe("col",null,nd(i,n)));return r[r.length]="</cols>",r.join("")}function iee(e,t,r,n){var i=typeof e.ref=="string"?e.ref:jt(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=Mr(i);s.s.r==s.e.r&&(s.e.r=Mr(t["!ref"]).e.r,i=jt(s));for(var o=0;o<a.length;++o){var l=a[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),pe("autoFilter",null,{ref:i})}function aee(e,t,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),pe("sheetViews",pe("sheetView",null,i),{})}function see(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",a=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=Kl[e.v];break;case"d":n&&n.cellDates?i=hr(e.v,-1).toISOString():(e=wr(e),e.t="n",i=""+(e.v=br(hr(e.v)))),typeof e.z>"u"&&(e.z=St[14]);break;default:i=e.v;break}var o=Kt("v",it(i)),l={r:t},c=Oi(n.cellXfs,e,n);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Kt("v",""+Lm(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=a&&(e.t=a,e.v=s),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=pe("f",it(e.f),u)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),pe("c",o,l)}function oee(e,t,r,n){var i=[],a=[],s=yt(e["!ref"]),o="",l,c="",u=[],f=0,h=0,p=e["!rows"],v=Array.isArray(e),m={r:c},g,y=-1;for(h=s.s.c;h<=s.e.c;++h)u[h]=ar(h);for(f=s.s.r;f<=s.e.r;++f){for(a=[],c=Yt(f),h=s.s.c;h<=s.e.c;++h){l=u[h]+c;var b=v?(e[f]||[])[h]:e[l];b!==void 0&&(o=see(b,l,e,t))!=null&&a.push(o)}(a.length>0||p&&p[f])&&(m={r:c},p&&p[f]&&(g=p[f],g.hidden&&(m.hidden=1),y=-1,g.hpx?y=Vu(g.hpx):g.hpt&&(y=g.hpt),y>-1&&(m.ht=y,m.customHeight=1),g.level&&(m.outlineLevel=g.level)),i[i.length]=pe("row",a.join(""),m))}if(p)for(;f<p.length;++f)p&&p[f]&&(m={r:f+1},g=p[f],g.hidden&&(m.hidden=1),y=-1,g.hpx?y=Vu(g.hpx):g.hpt&&(y=g.hpt),y>-1&&(m.ht=y,m.customHeight=1),g.level&&(m.outlineLevel=g.level),i[i.length]=pe("row","",m));return i.join("")}function FE(e,t,r,n){var i=[Nt,pe("worksheet",null,{xmlns:Gs[0],"xmlns:r":Lt.r})],a=r.SheetNames[e],s=0,o="",l=r.Sheets[a];l==null&&(l={});var c=l["!ref"]||"A1",u=yt(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=jt(u)}n||(n={}),l["!comments"]=[];var f=[];ZQ(l,r,e,t,i),i[i.length]=pe("dimension",null,{ref:c}),i[i.length]=aee(l,t,e,r),t.sheetFormat&&(i[i.length]=pe("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=nee(l,l["!cols"])),i[s=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=oee(l,t),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),l["!protect"]&&(i[i.length]=tee(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=iee(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=JQ(l["!merges"]));var h=-1,p,v=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(v=nt(n,-1,it(m[1].Target).replace(/#.*$/,""),Je.HLINK),p["r:id"]="rId"+v),(h=m[1].Target.indexOf("#"))>-1&&(p.location=it(m[1].Target.slice(h+1))),m[1].Tooltip&&(p.tooltip=it(m[1].Tooltip)),i[i.length]=pe("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=ree(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=Kt("ignoredErrors",pe("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(v=nt(n,-1,"../drawings/drawing"+(e+1)+".xml",Je.DRAW),i[i.length]=pe("drawing",null,{"r:id":"rId"+v}),l["!drawing"]=f),l["!comments"].length>0&&(v=nt(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Je.VML),i[i.length]=pe("legacyDrawing",null,{"r:id":"rId"+v}),l["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function lee(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function cee(e,t,r){var n=re(145),i=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;i.hpx?a=Vu(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,h=-1,p=u<<10;p<u+1<<10;++p){c.c=p;var v=Array.isArray(r)?(r[c.r]||[])[c.c]:r[at(c)];v&&(f<0&&(f=p),h=p)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var m=n.l;return n.l=l,n.write_shift(4,o),n.l=m,n.length>n.l?n.slice(0,n.l):n}function uee(e,t,r,n){var i=cee(n,r,t);(i.length>17||(t["!rows"]||[])[n])&&le(e,0,i)}var fee=ba,dee=Ks;function hee(){}function pee(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=EY(e),r}function mee(e,t,r){r==null&&(r=re(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return zu({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),ZS(e,r),r.slice(0,r.l)}function vee(e){var t=Jr(e);return[t]}function gee(e,t,r){return r==null&&(r=re(8)),ga(t,r)}function xee(e){var t=xa(e);return[t]}function yee(e,t,r){return r==null&&(r=re(4)),ya(t,r)}function bee(e){var t=Jr(e),r=e.read_shift(1);return[t,r,"b"]}function wee(e,t,r){return r==null&&(r=re(9)),ga(t,r),r.write_shift(1,e.v?1:0),r}function _ee(e){var t=xa(e),r=e.read_shift(1);return[t,r,"b"]}function See(e,t,r){return r==null&&(r=re(5)),ya(t,r),r.write_shift(1,e.v?1:0),r}function Eee(e){var t=Jr(e),r=e.read_shift(1);return[t,r,"e"]}function Aee(e,t,r){return r==null&&(r=re(9)),ga(t,r),r.write_shift(1,e.v),r}function Tee(e){var t=xa(e),r=e.read_shift(1);return[t,r,"e"]}function Oee(e,t,r){return r==null&&(r=re(8)),ya(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Pee(e){var t=Jr(e),r=e.read_shift(4);return[t,r,"s"]}function jee(e,t,r){return r==null&&(r=re(12)),ga(t,r),r.write_shift(4,t.v),r}function Nee(e){var t=xa(e),r=e.read_shift(4);return[t,r,"s"]}function Cee(e,t,r){return r==null&&(r=re(8)),ya(t,r),r.write_shift(4,t.v),r}function kee(e){var t=Jr(e),r=Xs(e);return[t,r,"n"]}function Dee(e,t,r){return r==null&&(r=re(16)),ga(t,r),oa(e.v,r),r}function Iee(e){var t=xa(e),r=Xs(e);return[t,r,"n"]}function $ee(e,t,r){return r==null&&(r=re(12)),ya(t,r),oa(e.v,r),r}function Mee(e){var t=Jr(e),r=QS(e);return[t,r,"n"]}function Fee(e,t,r){return r==null&&(r=re(12)),ga(t,r),eE(e.v,r),r}function Ree(e){var t=xa(e),r=QS(e);return[t,r,"n"]}function Lee(e,t,r){return r==null&&(r=re(8)),ya(t,r),eE(e.v,r),r}function Bee(e){var t=Jr(e),r=Cm(e);return[t,r,"is"]}function Uee(e){var t=Jr(e),r=sr(e);return[t,r,"str"]}function Wee(e,t,r){return r==null&&(r=re(12+4*e.v.length)),ga(t,r),Ut(e.v,r),r.length>r.l?r.slice(0,r.l):r}function zee(e){var t=xa(e),r=sr(e);return[t,r,"str"]}function Hee(e,t,r){return r==null&&(r=re(8+4*e.v.length)),ya(t,r),Ut(e.v,r),r.length>r.l?r.slice(0,r.l):r}function qee(e,t,r){var n=e.l+t,i=Jr(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"b"];if(r.cellFormula){e.l+=2;var o=rd(e,n-e.l,r);s[3]=Os(o,null,i,r.supbooks,r)}else e.l=n;return s}function Gee(e,t,r){var n=e.l+t,i=Jr(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"e"];if(r.cellFormula){e.l+=2;var o=rd(e,n-e.l,r);s[3]=Os(o,null,i,r.supbooks,r)}else e.l=n;return s}function Vee(e,t,r){var n=e.l+t,i=Jr(e);i.r=r["!row"];var a=Xs(e),s=[i,a,"n"];if(r.cellFormula){e.l+=2;var o=rd(e,n-e.l,r);s[3]=Os(o,null,i,r.supbooks,r)}else e.l=n;return s}function Kee(e,t,r){var n=e.l+t,i=Jr(e);i.r=r["!row"];var a=sr(e),s=[i,a,"str"];if(r.cellFormula){e.l+=2;var o=rd(e,n-e.l,r);s[3]=Os(o,null,i,r.supbooks,r)}else e.l=n;return s}var Xee=ba,Yee=Ks;function Jee(e,t){return t==null&&(t=re(4)),t.write_shift(4,e),t}function Zee(e,t){var r=e.l+t,n=ba(e),i=km(e),a=sr(e),s=sr(e),o=sr(e);e.l=r;var l={rfx:n,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function Qee(e,t){var r=re(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Ks({s:Bt(e[0]),e:Bt(e[0])},r),Dm("rId"+t,r);var n=e[1].Target.indexOf("#"),i=n==-1?"":e[1].Target.slice(n+1);return Ut(i||"",r),Ut(e[1].Tooltip||"",r),Ut("",r),r.slice(0,r.l)}function ete(){}function tte(e,t,r){var n=e.l+t,i=tE(e),a=e.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=zQ(e,n-e.l,r);s[1]=o}else e.l=n;return s}function rte(e,t,r){var n=e.l+t,i=ba(e),a=[i];if(r.cellFormula){var s=qQ(e,n-e.l,r);a[1]=s,e.l=n}else e.l=n;return a}function nte(e,t,r){r==null&&(r=re(18));var n=nd(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var RE=["left","right","top","bottom","header","footer"];function ite(e){var t={};return RE.forEach(function(r){t[r]=Xs(e)}),t}function ate(e,t){return t==null&&(t=re(6*8)),ME(e),RE.forEach(function(r){oa(e[r],t)}),t}function ste(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function ote(e,t,r){r==null&&(r=re(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function lte(e){var t=re(24);return t.write_shift(4,4),t.write_shift(4,1),Ks(e,t),t}function cte(e,t){return t==null&&(t=re(16*4+2)),t.write_shift(2,e.password?yE(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function ute(){}function fte(){}function dte(e,t,r,n,i,a,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=wr(t),t.z=t.z||St[14],t.v=br(hr(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r,c:n};switch(l.s=Oi(i.cellXfs,t,i),t.l&&a["!links"].push([at(l),t.l]),t.c&&a["!comments"].push([at(l),t.c]),t.t){case"s":case"str":return i.bookSST?(o=Lm(i.Strings,t.v,i.revStrings),l.t="s",l.v=o,s?le(e,18,Cee(t,l)):le(e,7,jee(t,l))):(l.t="str",s?le(e,17,Hee(t,l)):le(e,6,Wee(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?le(e,13,Lee(t,l)):le(e,2,Fee(t,l)):s?le(e,16,$ee(t,l)):le(e,5,Dee(t,l)),!0;case"b":return l.t="b",s?le(e,15,See(t,l)):le(e,4,wee(t,l)),!0;case"e":return l.t="e",s?le(e,14,Oee(t,l)):le(e,3,Aee(t,l)),!0}return s?le(e,12,yee(t,l)):le(e,1,gee(t,l)),!0}function hte(e,t,r,n){var i=yt(t["!ref"]||"A1"),a,s="",o=[];le(e,145);var l=Array.isArray(t),c=i.e.r;t["!rows"]&&(c=Math.max(i.e.r,t["!rows"].length-1));for(var u=i.s.r;u<=c;++u){s=Yt(u),uee(e,t,i,u);var f=!1;if(u<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(o[h]=ar(h)),a=o[h]+s;var p=l?(t[u]||[])[h]:t[a];if(!p){f=!1;continue}f=dte(e,p,u,h,n,t,f)}}le(e,146)}function pte(e,t){!t||!t["!merges"]||(le(e,177,Jee(t["!merges"].length)),t["!merges"].forEach(function(r){le(e,176,Yee(r))}),le(e,178))}function mte(e,t){!t||!t["!cols"]||(le(e,390),t["!cols"].forEach(function(r,n){r&&le(e,60,nte(n,r))}),le(e,391))}function vte(e,t){!t||!t["!ref"]||(le(e,648),le(e,649,lte(yt(t["!ref"]))),le(e,650))}function gte(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var i=nt(r,-1,n[1].Target.replace(/#.*$/,""),Je.HLINK);le(e,494,Qee(n,i))}}),delete t["!links"]}function xte(e,t,r,n){if(t["!comments"].length>0){var i=nt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Je.VML);le(e,551,Dm("rId"+i)),t["!legacy"]=i}}function yte(e,t,r,n){if(t["!autofilter"]){var i=t["!autofilter"],a=typeof i.ref=="string"?i.ref:jt(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Mr(a);o.s.r==o.e.r&&(o.e.r=Mr(t["!ref"]).e.r,a=jt(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),le(e,161,Ks(yt(a))),le(e,162)}}function bte(e,t,r){le(e,133),le(e,137,ote(t,r)),le(e,138),le(e,134)}function wte(e,t){t["!protect"]&&le(e,535,cte(t["!protect"]))}function _te(e,t,r,n){var i=yr(),a=r.SheetNames[e],s=r.Sheets[a]||{},o=a;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var l=yt(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],le(i,129),(r.vbaraw||s["!outline"])&&le(i,147,mee(o,s["!outline"])),le(i,148,dee(l)),bte(i,s,r.Workbook),mte(i,s),hte(i,s,e,t),wte(i,s),yte(i,s,r,e),pte(i,s),gte(i,s,n),s["!margins"]&&le(i,476,ate(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&vte(i,s),xte(i,s,e,n),le(i,130),i.end()}function Ste(e,t){e.l+=10;var r=sr(e);return{name:r}}var Ete=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Ate(e){return!e.Workbook||!e.Workbook.WBProps?"false":rY(e.Workbook.WBProps.date1904)?"true":"false"}var Tte="][*?/\\".split("");function LE(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Tte.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Ote(e,t,r){e.forEach(function(n,i){LE(n);for(var a=0;a<i;++a)if(n==e[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[i]&&t[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function Pte(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Ote(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)YQ(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function BE(e){var t=[Nt];t[t.length]=pe("workbook",null,{xmlns:Gs[0],"xmlns:r":Lt.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Ete.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=pe("workbookPr",null,n);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var s={name:it(e.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=pe("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=pe("definedName",it(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function jte(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=tp(e),r.name=sr(e),r}function Nte(e,t){return t||(t=re(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Dm(e.strRelID,t),Ut(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Cte(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?sr(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function kte(e,t){t||(t=re(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),ZS(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Dte(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=AY(e),s=HQ(e,0,r),o=km(e);e.l=n;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function Ite(e,t){le(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};le(e,156,Nte(i))}le(e,144)}function $te(e,t){t||(t=re(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ut("SheetJS",t),Ut(Mu.version,t),Ut(Mu.version,t),Ut("7262",t),t.length>t.l?t.slice(0,t.l):t}function Mte(e,t){t||(t=re(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Fte(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(le(e,135),le(e,158,Mte(i)),le(e,136))}}function Rte(e,t){var r=yr();return le(r,131),le(r,128,$te()),le(r,153,kte(e.Workbook&&e.Workbook.WBProps||null)),Fte(r,e),Ite(r,e),le(r,132),r.end()}function Lte(e,t,r){return(t.slice(-4)===".bin"?Rte:BE)(e)}function Bte(e,t,r,n,i){return(t.slice(-4)===".bin"?_te:FE)(e,r,n,i)}function Ute(e,t,r){return(t.slice(-4)===".bin"?aZ:_E)(e,r)}function Wte(e,t,r){return(t.slice(-4)===".bin"?kJ:xE)(e,r)}function zte(e,t,r){return(t.slice(-4)===".bin"?wZ:OE)(e)}function Hte(e){return(e.slice(-4)===".bin"?hZ:AE)()}function qte(e,t){var r=[];return e.Props&&r.push(UY(e.Props,t)),e.Custprops&&r.push(WY(e.Props,e.Custprops)),r.join("")}function Gte(){return""}function Vte(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,i){var a=[];a.push(pe("NumberFormat",null,{"ss:Format":it(St[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};r.push(pe("Style",a.join(""),s))}),pe("Styles",r.join(""))}function UE(e){return pe("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Fm(e.Ref,{r:0,c:0})})}function Kte(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var i=t[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(UE(i)))}return pe("Names",r.join(""))}function Xte(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||a.push(UE(o)))}return a.join("")}function Yte(e,t,r,n){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(pe("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(pe("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(pe("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(pe("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(Kt("ProtectContents","True")),e["!protect"].objects&&i.push(Kt("ProtectObjects","True")),e["!protect"].scenarios&&i.push(Kt("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(Kt("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(Kt("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":pe("WorksheetOptions",i.join(""),{xmlns:kr.x})}function Jte(e){return e.map(function(t){var r=tY(t.t||""),n=pe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return pe("Comment",n,{"ss:Author":t.a})}).join("")}function Zte(e,t,r,n,i,a,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+it(Fm(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=Bt(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=it(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=it(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=s.c||c[u].s.r!=s.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=Kl[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||St[14]);break;case"s":f="String",h=eY(e.v||"");break}var p=Oi(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=s.c+1;var v=e.v!=null?h:"",m=e.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(e.c||[]).length>0&&(m+=Jte(e.c)),pe("Cell",m,o)}function Qte(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=wE(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function ere(e,t,r,n){if(!e["!ref"])return"";var i=yt(e["!ref"]),a=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(g,y){$m(g);var b=!!g.width,x=nd(y,g),E={"ss:Index":y+1};b&&(E["ss:Width"]=qu(x.width)),g.hidden&&(E["ss:Hidden"]="1"),o.push(pe("Column",null,E))});for(var l=Array.isArray(e),c=i.s.r;c<=i.e.r;++c){for(var u=[Qte(c,(e["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var h=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>f)&&!(a[s].s.r>c)&&!(a[s].e.c<f)&&!(a[s].e.r<c)){(a[s].s.c!=f||a[s].s.r!=c)&&(h=!0);break}if(!h){var p={r:c,c:f},v=at(p),m=l?(e[c]||[])[f]:e[v];u.push(Zte(m,v,e,t,r,n,p))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function tre(e,t,r){var n=[],i=r.SheetNames[e],a=r.Sheets[i],s=a?Xte(a,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?ere(a,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(Yte(a,t,e,r)),n.join("")}function rre(e,t){t||(t={}),e.SSF||(e.SSF=wr(St)),e.SSF&&(Zf(),Jf(e.SSF),t.revssf=Qf(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Oi(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(qte(e,t)),r.push(Gte()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(pe("Worksheet",tre(n,t,e),{"ss:Name":it(e.SheetNames[n])}));return r[2]=Vte(e,t),r[3]=Kte(e),Nt+pe("Workbook",r.join(""),{xmlns:kr.ss,"xmlns:o":kr.o,"xmlns:x":kr.x,"xmlns:ss":kr.ss,"xmlns:dt":kr.dt,"xmlns:html":kr.html})}var ih={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function nre(e,t){var r=[],n=[],i=[],a=0,s,o=v1(j1,"n"),l=v1(N1,"n");if(e.Props)for(s=Jt(e.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],e.Props[s[a]]]);if(e.Custprops)for(s=Jt(e.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],e.Custprops[s[a]]]);var c=[];for(a=0;a<i.length;++a)fE.indexOf(i[a][0])>-1||lE.indexOf(i[a][0])>-1||i[a][1]!=null&&c.push(i[a]);n.length&&lt.utils.cfb_add(t,"/SummaryInformation",$1(n,ih.SI,l,N1)),(r.length||c.length)&&lt.utils.cfb_add(t,"/DocumentSummaryInformation",$1(r,ih.DSI,o,j1,c.length?c:null,ih.UDI))}function ire(e,t){var r=t||{},n=lt.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return lt.utils.cfb_add(n,i,WE(e,r)),r.biff==8&&(e.Props||e.Custprops)&&nre(e,n),r.biff==8&&e.vbaraw&&_Z(n,lt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var are={0:{f:lee},1:{f:vee},2:{f:Mee},3:{f:Eee},4:{f:bee},5:{f:kee},6:{f:Uee},7:{f:Pee},8:{f:Kee},9:{f:Vee},10:{f:qee},11:{f:Gee},12:{f:xee},13:{f:Ree},14:{f:Tee},15:{f:_ee},16:{f:Iee},17:{f:zee},18:{f:Nee},19:{f:Cm},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Dte},40:{},42:{},43:{f:UJ},44:{f:LJ},45:{f:HJ},46:{f:GJ},47:{f:qJ},48:{},49:{f:xY},50:{},51:{f:lZ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:yJ},62:{f:Bee},63:{f:pZ},64:{f:ute},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:An,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:ste},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:pee},148:{f:fee,p:16},151:{f:ete},152:{},153:{f:Cte},154:{},155:{},156:{f:jte},157:{},158:{},159:{T:1,f:jJ},160:{T:-1},161:{T:1,f:ba},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Xee},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:sZ},336:{T:-1},337:{f:fZ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:tp},357:{},358:{},359:{},360:{T:1},361:{},362:{f:hJ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:tte},427:{f:rte},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:ite},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:hee},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Zee},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:tp},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:yZ},633:{T:1},634:{T:-1},635:{T:1,f:gZ},636:{T:-1},637:{f:_Y},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Ste},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:fte},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ve(e,t,r,n){var i=t;if(!isNaN(i)){var a=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&Pm(r)&&e.push(r)}}function sre(e,t,r,n){var i=(r||[]).length||0;if(i<=8224)return ve(e,t,r,i);var a=t;if(!isNaN(a)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,a),u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<i;){for(u=e.next(4),u.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}function Yl(e,t,r){return e||(e=re(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function ore(e,t,r,n){var i=re(9);return Yl(i,e,t),hE(r,n||"b",i),i}function lre(e,t,r){var n=re(8+2*r.length);return Yl(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function cre(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?br(hr(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?ve(e,2,SJ(r,n,i)):ve(e,3,_J(r,n,i));return;case"b":case"e":ve(e,5,ore(r,n,t.v,t.t));return;case"s":case"str":ve(e,4,lre(r,n,(t.v||"").slice(0,255)));return}ve(e,1,Yl(null,r,n))}function ure(e,t,r,n){var i=Array.isArray(t),a=yt(t["!ref"]||"A1"),s,o="",l=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=jt(a)}for(var c=a.s.r;c<=a.e.r;++c){o=Yt(c);for(var u=a.s.c;u<=a.e.c;++u){c===a.s.r&&(l[u]=ar(u)),s=l[u]+o;var f=i?(t[c]||[])[u]:t[s];f&&cre(e,f,c,u)}}}function fre(e,t){for(var r=t||{},n=yr(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ve(n,r.biff==4?1033:r.biff==3?521:9,Im(e,16,r)),ure(n,e.Sheets[e.SheetNames[i]],i,r),ve(n,10),n.end()}function dre(e,t,r){ve(e,49,aJ({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function hre(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&ve(e,1054,lJ(i,t[i],r))})}function pre(e,t){var r=re(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ve(e,2151,r),r=re(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),vE(yt(t["!ref"]||"A1"),r),r.write_shift(4,4),ve(e,2152,r)}function mre(e,t){for(var r=0;r<16;++r)ve(e,224,F1({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){ve(e,224,F1(n,0,t))})}function vre(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];ve(e,440,vJ(n)),n[1].Tooltip&&ve(e,2048,gJ(n))}delete t["!links"]}function gre(e,t){if(t){var r=0;t.forEach(function(n,i){++r<=256&&n&&ve(e,125,bJ(nd(i,n),i))})}}function xre(e,t,r,n,i){var a=16+Oi(i.cellXfs,t,i);if(t.v==null&&!t.bf){ve(e,513,la(r,n,a));return}if(t.bf)ve(e,6,WQ(t,r,n,i,a));else switch(t.t){case"d":case"n":var s=t.t=="d"?br(hr(t.v)):t.v;ve(e,515,dJ(r,n,s,a));break;case"b":case"e":ve(e,517,fJ(r,n,t.v,a,i,t.t));break;case"s":case"str":if(i.bookSST){var o=Lm(i.Strings,t.v,i.revStrings);ve(e,253,sJ(r,n,o,a))}else ve(e,516,oJ(r,n,(t.v||"").slice(0,255),a,i));break;default:ve(e,513,la(r,n,a))}}function yre(e,t,r){var n=yr(),i=r.SheetNames[e],a=r.Sheets[i]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},l=Array.isArray(a),c=t.biff==8,u,f="",h=[],p=yt(a["!ref"]||"A1"),v=c?65536:16384;if(p.e.c>255||p.e.r>=v){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,v-1)}ve(n,2057,Im(r,16,t)),ve(n,13,qr(1)),ve(n,12,qr(100)),ve(n,15,fr(!0)),ve(n,17,fr(!1)),ve(n,16,oa(.001)),ve(n,95,fr(!0)),ve(n,42,fr(!1)),ve(n,43,fr(!1)),ve(n,130,qr(1)),ve(n,128,uJ()),ve(n,131,fr(!1)),ve(n,132,fr(!1)),c&&gre(n,a["!cols"]),ve(n,512,cJ(p,t)),c&&(a["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){f=Yt(m);for(var g=p.s.c;g<=p.e.c;++g){m===p.s.r&&(h[g]=ar(g)),u=h[g]+f;var y=l?(a[m]||[])[g]:a[u];y&&(xre(n,y,m,g,t),c&&y.l&&a["!links"].push([u,y.l]))}}var b=o.CodeName||o.name||i;return c&&ve(n,574,iJ((s.Views||[])[0])),c&&(a["!merges"]||[]).length&&ve(n,229,mJ(a["!merges"])),c&&vre(n,a),ve(n,442,mE(b)),c&&pre(n,a),ve(n,10),n.end()}function bre(e,t,r){var n=yr(),i=(e||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(ve(n,2057,Im(e,5,r)),r.bookType=="xla"&&ve(n,135),ve(n,225,o?qr(1200):null),ve(n,193,qY(2)),l&&ve(n,191),l&&ve(n,192),ve(n,226),ve(n,92,eJ("SheetJS",r)),ve(n,66,qr(o?1200:1252)),o&&ve(n,353,qr(0)),o&&ve(n,448),ve(n,317,wJ(e.SheetNames.length)),o&&e.vbaraw&&ve(n,211),o&&e.vbaraw){var c=s.CodeName||"ThisWorkbook";ve(n,442,mE(c))}ve(n,156,qr(17)),ve(n,25,fr(!1)),ve(n,18,fr(!1)),ve(n,19,qr(0)),o&&ve(n,431,fr(!1)),o&&ve(n,444,qr(0)),ve(n,61,nJ()),ve(n,64,fr(!1)),ve(n,141,qr(0)),ve(n,34,fr(Ate(e)=="true")),ve(n,14,fr(!0)),o&&ve(n,439,fr(!1)),ve(n,218,qr(0)),dre(n,e,r),hre(n,e.SSF,r),mre(n,r),o&&ve(n,352,fr(!1));var u=n.end(),f=yr();o&&ve(f,140,xJ()),o&&r.Strings&&sre(f,252,rJ(r.Strings)),ve(f,10);var h=f.end(),p=yr(),v=0,m=0;for(m=0;m<e.SheetNames.length;++m)v+=(o?12:11)+(o?2:1)*e.SheetNames[m].length;var g=u.length+v+h.length;for(m=0;m<e.SheetNames.length;++m){var y=a[m]||{};ve(p,133,tJ({pos:g,hs:y.Hidden||0,dt:0,name:e.SheetNames[m]},r)),g+=t[m].length}var b=p.end();if(v!=b.length)throw new Error("BS8 "+v+" != "+b.length);var x=[];return u.length&&x.push(u),b.length&&x.push(b),h.length&&x.push(h),Vt(x)}function wre(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=wr(St)),e&&e.SSF&&(Zf(),Jf(e.SSF),r.revssf=Qf(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Bm(r),r.cellXfs=[],Oi(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)n[n.length]=yre(i,r,e);return n.unshift(bre(e,n,r)),Vt(n)}function WE(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Mr(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return wre(e,t);case 4:case 3:case 2:return fre(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function _re(e,t,r,n){for(var i=e["!merges"]||[],a=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>s)&&!(i[c].e.r<r||i[c].e.c<s)){if(i[c].s.r<r||i[c].s.c<s){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=at({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],h=f&&f.v!=null&&(f.h||QX(f.w||(Kn(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+u,a.push(pe("td",h,p))}}var v="<tr>";return v+a.join("")+"</tr>"}var Sre='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Ere="</body></html>";function Are(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function zE(e,t){var r=t||{},n=r.header!=null?r.header:Sre,i=r.footer!=null?r.footer:Ere,a=[n],s=Mr(e["!ref"]);r.dense=Array.isArray(e),a.push(Are(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(_re(e,s,o,r));return a.push("</table>"+i),a.join("")}function HE(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?Bt(n.origin):n.origin;i=s.r,a=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var u=Mr(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),v=0,m=0,g=0,y=0,b=0,x=0;for(e["!cols"]||(e["!cols"]=[]);v<o.length&&m<l;++v){var E=o[v];if(H1(E)){if(n.display)continue;p[m]={hidden:!0}}var w=E.children;for(g=y=0;g<w.length;++g){var S=w[g];if(!(n.display&&H1(S))){var _=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):nY(S.innerHTML),A=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<f.length;++h){var O=f[h];O.s.c==y+a&&O.s.r<m+i&&m+i<=O.e.r&&(y=O.e.c+1-a,h=-1)}x=+S.getAttribute("colspan")||1,((b=+S.getAttribute("rowspan")||1)>1||x>1)&&f.push({s:{r:m+i,c:y+a},e:{r:m+i+(b||1)-1,c:y+a+(x||1)-1}});var C={t:"s",v:_},j=S.getAttribute("data-t")||S.getAttribute("t")||"";_!=null&&(_.length==0?C.t=j||"z":n.raw||_.trim().length==0||j=="s"||(_==="TRUE"?C={t:"b",v:!0}:_==="FALSE"?C={t:"b",v:!1}:isNaN(Wn(_))?isNaN(Nl(_).getDate())||(C={t:"d",v:hr(_)},n.cellDates||(C={t:"n",v:br(C.v)}),C.z=n.dateNF||St[14]):C={t:"n",v:Wn(_)})),C.z===void 0&&A!=null&&(C.z=A);var P="",U=S.getElementsByTagName("A");if(U&&U.length)for(var q=0;q<U.length&&!(U[q].hasAttribute("href")&&(P=U[q].getAttribute("href"),P.charAt(0)!="#"));++q);P&&P.charAt(0)!="#"&&(C.l={Target:P}),n.dense?(e[m+i]||(e[m+i]=[]),e[m+i][y+a]=C):e[at({c:y+a,r:m+i})]=C,c.e.c<y+a&&(c.e.c=y+a),y+=x}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,m-1+i),e["!ref"]=jt(c),m>=l&&(e["!fullref"]=jt((c.e.r=o.length-v+m-1+i,c))),e}function qE(e,t){var r=t||{},n=r.dense?[]:{};return HE(n,e,t)}function Tre(e,t){return va(qE(e,t),t)}function H1(e){var t="",r=Ore(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Ore(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Pre=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+kl({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Nt+t}}(),q1=function(){var e=function(a){return it(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,s,o){var l=[];l.push('      <table:table table:name="'+it(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=Mr(a["!ref"]||"A1"),h=a["!merges"]||[],p=0,v=Array.isArray(a);if(a["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(a["!cols"][u]?' table:style-name="co'+a["!cols"][u].ods+'"':"")+`></table:table-column>
`);var m="",g=a["!rows"]||[];for(c=0;c<f.s.r;++c)m=g[c]?' table:style-name="ro'+g[c].ods+'"':"",l.push("        <table:table-row"+m+`></table:table-row>
`);for(;c<=f.e.r;++c){for(m=g[c]?' table:style-name="ro'+g[c].ods+'"':"",l.push("        <table:table-row"+m+`>
`),u=0;u<f.s.c;++u)l.push(t);for(;u<=f.e.c;++u){var y=!1,b={},x="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>u)&&!(h[p].s.r>c)&&!(h[p].e.c<u)&&!(h[p].e.r<c)){(h[p].s.c!=u||h[p].s.r!=c)&&(y=!0),b["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,b["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(y){l.push(r);continue}var E=at({r:c,c:u}),w=v?(a[c]||[])[u]:a[E];if(w&&w.f&&(b["table:formula"]=it(KQ(w.f)),w.F&&w.F.slice(0,E.length)==E)){var S=Mr(w.F);b["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,b["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!w){l.push(t);continue}switch(w.t){case"b":x=w.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=w.v?"true":"false";break;case"n":x=w.w||String(w.v||0),b["office:value-type"]="float",b["office:value"]=w.v||0;break;case"s":case"str":x=w.v==null?"":w.v,b["office:value-type"]="string";break;case"d":x=w.w||hr(w.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=hr(w.v).toISOString(),b["table:style-name"]="ce1";break;default:l.push(t);continue}var _=e(x);if(w.l&&w.l.Target){var A=w.l.Target;A=A.charAt(0)=="#"?"#"+XQ(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),_=pe("text:a",_,{"xlink:href":A.replace(/&/g,"&amp;")})}l.push("          "+pe("table:table-cell",pe("text:p",_,{}),b)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;$m(f),f.ods=o;var h=c["!cols"][u].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),a.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";a.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),a.push(`  </style:style>
`),++l}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var l=[Nt],c=kl({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=kl({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(sE().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)l.push(n(s.Sheets[s.SheetNames[f]],s,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function GE(e,t){if(t.bookType=="fods")return q1(e,t);var r=Em(),n="",i=[],a=[];return n="mimetype",He(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",He(r,n,q1(e,t)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",He(r,n,Pre(e,t)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",He(r,n,Nt+sE()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",He(r,n,BY(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",He(r,n,RY(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ku(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function jre(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):on(Cl(e))}function Nre(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function bi(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function Cre(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)e[t+a]=i&255;e[t+15]|=r>=0?0:128}function Dl(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function rt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Za(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function kt(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=Dl(e,r),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Dl(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:a};t[i]==null?t[i]=[c]:t[i].push(c)}return t}function zt(e){var t=[];return e.forEach(function(r,n){r.forEach(function(i){i.data&&(t.push(rt(n*8+i.type)),i.type==2&&t.push(rt(i.data.length)),t.push(i.data))})}),bi(t)}function Qr(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=Dl(e,n),a=kt(e.slice(n[0],n[0]+i));n[0]+=i;var s={id:Za(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=kt(o.data),c=Za(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=a[3])!=null&&t[0]&&(s.merge=Za(a[3][0].data)>>>0>0),r.push(s)}return r}function Ia(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:rt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:rt(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:rt(s.data.length)}],n[2].push({data:zt(s.meta),type:2})});var a=zt(n);t.push(rt(a.length)),t.push(a),i.forEach(function(s){return t.push(s)})}),bi(t)}function kre(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Dl(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}i.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(a==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,a==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[bi(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=bi(i);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function en(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(kre(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return bi(t)}function $a(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var a=rt(n),s=a.length;t.push(a),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,r+=n}return bi(t)}function ah(e,t){var r=new Uint8Array(32),n=Ku(r),i=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,Cre(r,i,e.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,i)}function sh(e,t){var r=new Uint8Array(32),n=Ku(r),i=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,i)}function ri(e){var t=kt(e);return Dl(t[1][0].data)}function Dre(e,t,r){var n,i,a,s;if(!((n=e[6])!=null&&n[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=e[8])==null?void 0:a[0])==null?void 0:s.data)&&Za(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=Ku(e[7][0].data),u=0,f=[],h=Ku(e[4][0].data),p=0,v=[],m=0;m<t.length;++m){if(t[m]==null){c.setUint16(m*2,65535,!0),h.setUint16(m*2,65535);continue}c.setUint16(m*2,u,!0),h.setUint16(m*2,p,!0);var g,y;switch(typeof t[m]){case"string":g=ah({t:"s",v:t[m]},r),y=sh({t:"s",v:t[m]},r);break;case"number":g=ah({t:"n",v:t[m]},r),y=sh({t:"n",v:t[m]},r);break;case"boolean":g=ah({t:"b",v:t[m]},r),y=sh({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}f.push(g),u+=g.length,v.push(y),p+=y.length,++l}for(e[2][0].data=rt(l);m<e[7][0].data.length/2;++m)c.setUint16(m*2,65535,!0),h.setUint16(m*2,65535,!0);return e[6][0].data=bi(f),e[3][0].data=bi(v),l}function Ire(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Mr(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(jt(n)));var a=Xu(r,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(z){return z.forEach(function(F){typeof F=="string"&&s.push(F)})});var o={},l=[],c=lt.read(t.numbers,{type:"base64"});c.FileIndex.map(function(z,F){return[z,c.FullPaths[F]]}).forEach(function(z){var F=z[0],B=z[1];if(F.type==2&&F.name.match(/\.iwa/)){var Y=F.content,xe=en(Y),be=Qr(xe);be.forEach(function(Q){l.push(Q.id),o[Q.id]={deps:[],location:B,type:Za(Q.messages[0].meta[1][0].data)}})}}),l.sort(function(z,F){return z-F});var u=l.filter(function(z){return z>1}).map(function(z){return[z,rt(z)]});c.FileIndex.map(function(z,F){return[z,c.FullPaths[F]]}).forEach(function(z){var F=z[0];if(z[1],!!F.name.match(/\.iwa/)){var B=Qr(en(F.content));B.forEach(function(Y){Y.messages.forEach(function(xe){u.forEach(function(be){Y.messages.some(function(Q){return Za(Q.meta[1][0].data)!=11006&&Nre(Q.data,be[1])})&&o[be[0]].deps.push(Y.id)})})})}});for(var f=lt.find(c,o[1].location),h=Qr(en(f.content)),p,v=0;v<h.length;++v){var m=h[v];m.id==1&&(p=m)}var g=ri(kt(p.messages[0].data)[1][0].data);for(f=lt.find(c,o[g].location),h=Qr(en(f.content)),v=0;v<h.length;++v)m=h[v],m.id==g&&(p=m);for(g=ri(kt(p.messages[0].data)[2][0].data),f=lt.find(c,o[g].location),h=Qr(en(f.content)),v=0;v<h.length;++v)m=h[v],m.id==g&&(p=m);for(g=ri(kt(p.messages[0].data)[2][0].data),f=lt.find(c,o[g].location),h=Qr(en(f.content)),v=0;v<h.length;++v)m=h[v],m.id==g&&(p=m);var y=kt(p.messages[0].data);{y[6][0].data=rt(n.e.r+1),y[7][0].data=rt(n.e.c+1);var b=ri(y[46][0].data),x=lt.find(c,o[b].location),E=Qr(en(x.content));{for(var w=0;w<E.length&&E[w].id!=b;++w);if(E[w].id!=b)throw"Bad ColumnRowUIDMapArchive";var S=kt(E[w].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var _=0;_<=n.e.c;++_){var A=[];A[1]=A[2]=[{type:0,data:rt(_+420690)}],S[1].push({type:2,data:zt(A)}),S[2].push({type:0,data:rt(_)}),S[3].push({type:0,data:rt(_)})}S[4]=[],S[5]=[],S[6]=[];for(var O=0;O<=n.e.r;++O)A=[],A[1]=A[2]=[{type:0,data:rt(O+726270)}],S[4].push({type:2,data:zt(A)}),S[5].push({type:0,data:rt(O)}),S[6].push({type:0,data:rt(O)});E[w].messages[0].data=zt(S)}x.content=$a(Ia(E)),x.size=x.content.length,delete y[46];var C=kt(y[4][0].data);{C[7][0].data=rt(n.e.r+1);var j=kt(C[1][0].data),P=ri(j[2][0].data);x=lt.find(c,o[P].location),E=Qr(en(x.content));{if(E[0].id!=P)throw"Bad HeaderStorageBucket";var U=kt(E[0].messages[0].data);for(O=0;O<a.length;++O){var q=kt(U[2][0].data);q[1][0].data=rt(O),q[4][0].data=rt(a[O].length),U[2][O]={type:U[2][0].type,data:zt(q)}}E[0].messages[0].data=zt(U)}x.content=$a(Ia(E)),x.size=x.content.length;var H=ri(C[2][0].data);x=lt.find(c,o[H].location),E=Qr(en(x.content));{if(E[0].id!=H)throw"Bad HeaderStorageBucket";for(U=kt(E[0].messages[0].data),_=0;_<=n.e.c;++_)q=kt(U[2][0].data),q[1][0].data=rt(_),q[4][0].data=rt(n.e.r+1),U[2][_]={type:U[2][0].type,data:zt(q)};E[0].messages[0].data=zt(U)}x.content=$a(Ia(E)),x.size=x.content.length;var Z=ri(C[4][0].data);(function(){for(var z=lt.find(c,o[Z].location),F=Qr(en(z.content)),B,Y=0;Y<F.length;++Y){var xe=F[Y];xe.id==Z&&(B=xe)}var be=kt(B.messages[0].data);{be[3]=[];var Q=[];s.forEach(function(ee,De){Q[1]=[{type:0,data:rt(De)}],Q[2]=[{type:0,data:rt(1)}],Q[3]=[{type:2,data:jre(ee)}],be[3].push({type:2,data:zt(Q)})})}B.messages[0].data=zt(be);var ie=Ia(F),we=$a(ie);z.content=we,z.size=z.content.length})();var te=kt(C[3][0].data);{var se=te[1][0];delete te[2];var oe=kt(se.data);{var me=ri(oe[2][0].data);(function(){for(var z=lt.find(c,o[me].location),F=Qr(en(z.content)),B,Y=0;Y<F.length;++Y){var xe=F[Y];xe.id==me&&(B=xe)}var be=kt(B.messages[0].data);{delete be[6],delete te[7];var Q=new Uint8Array(be[5][0].data);be[5]=[];for(var ie=0,we=0;we<=n.e.r;++we){var ee=kt(Q);ie+=Dre(ee,a[we],s),ee[1][0].data=rt(we),be[5].push({data:zt(ee),type:2})}be[1]=[{type:0,data:rt(n.e.c+1)}],be[2]=[{type:0,data:rt(n.e.r+1)}],be[3]=[{type:0,data:rt(ie)}],be[4]=[{type:0,data:rt(n.e.r+1)}]}B.messages[0].data=zt(be);var De=Ia(F),Se=$a(De);z.content=Se,z.size=z.content.length})()}se.data=zt(oe)}C[3][0].data=zt(te)}y[4][0].data=zt(C)}p.messages[0].data=zt(y);var _e=Ia(h),D=$a(_e);return f.content=D,f.size=f.content.length,c}function $re(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Bm(e){$re([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Mre(e,t){return t.bookType=="ods"?GE(e,t):t.bookType=="numbers"?Ire(e,t):t.bookType=="xlsb"?Fre(e,t):Rre(e,t)}function Fre(e,t){za=1024,e&&!e.SSF&&(e.SSF=wr(St)),e&&e.SSF&&(Zf(),Jf(e.SSF),t.revssf=Qf(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,zo?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=PE.indexOf(t.bookType)>-1,i=nE();Bm(t=t||{});var a=Em(),s="",o=0;if(t.cellXfs=[],Oi(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",He(a,s,oE(e.Props,t)),i.coreprops.push(s),nt(t.rels,2,s,Je.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,He(a,s,cE(e.Props)),i.extprops.push(s),nt(t.rels,3,s,Je.EXT_PROPS),e.Custprops!==e.Props&&Jt(e.Custprops||{}).length>0&&(s="docProps/custom.xml",He(a,s,uE(e.Custprops)),i.custprops.push(s),nt(t.rels,4,s,Je.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,He(a,s,Bte(o-1,s,t,e,u)),i.sheets.push(s),nt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Je.WS[0])}if(f){var p=f["!comments"],v=!1,m="";p&&p.length>0&&(m="xl/comments"+o+"."+r,He(a,m,zte(p,m)),i.comments.push(m),nt(u,-1,"../comments"+o+"."+r,Je.CMNT),v=!0),f["!legacy"]&&v&&He(a,"xl/drawings/vmlDrawing"+o+".vml",TE(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&He(a,aE(s),Ya(u))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,He(a,s,Wte(t.Strings,s,t)),i.strs.push(s),nt(t.wbrels,-1,"sharedStrings."+r,Je.SST)),s="xl/workbook."+r,He(a,s,Lte(e,s)),i.workbooks.push(s),nt(t.rels,1,s,Je.WB),s="xl/theme/theme1.xml",He(a,s,EE(e.Themes,t)),i.themes.push(s),nt(t.wbrels,-1,"theme/theme1.xml",Je.THEME),s="xl/styles."+r,He(a,s,Ute(e,s,t)),i.styles.push(s),nt(t.wbrels,-1,"styles."+r,Je.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",He(a,s,e.vbaraw),i.vba.push(s),nt(t.wbrels,-1,"vbaProject.bin",Je.VBA)),s="xl/metadata."+r,He(a,s,Hte(s)),i.metadata.push(s),nt(t.wbrels,-1,"metadata."+r,Je.XLMETA),He(a,"[Content_Types].xml",iE(i,t)),He(a,"_rels/.rels",Ya(t.rels)),He(a,"xl/_rels/workbook."+r+".rels",Ya(t.wbrels)),delete t.revssf,delete t.ssf,a}function Rre(e,t){za=1024,e&&!e.SSF&&(e.SSF=wr(St)),e&&e.SSF&&(Zf(),Jf(e.SSF),t.revssf=Qf(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,zo?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=PE.indexOf(t.bookType)>-1,i=nE();Bm(t=t||{});var a=Em(),s="",o=0;if(t.cellXfs=[],Oi(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",He(a,s,oE(e.Props,t)),i.coreprops.push(s),nt(t.rels,2,s,Je.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,He(a,s,cE(e.Props)),i.extprops.push(s),nt(t.rels,3,s,Je.EXT_PROPS),e.Custprops!==e.Props&&Jt(e.Custprops||{}).length>0&&(s="docProps/custom.xml",He(a,s,uE(e.Custprops)),i.custprops.push(s),nt(t.rels,4,s,Je.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,He(a,s,FE(o-1,t,e,f)),i.sheets.push(s),nt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Je.WS[0])}if(h){var v=h["!comments"],m=!1,g="";if(v&&v.length>0){var y=!1;v.forEach(function(b){b[1].forEach(function(x){x.T==!0&&(y=!0)})}),y&&(g="xl/threadedComments/threadedComment"+o+"."+r,He(a,g,mZ(v,u,t)),i.threadedcomments.push(g),nt(f,-1,"../threadedComments/threadedComment"+o+"."+r,Je.TCMNT)),g="xl/comments"+o+"."+r,He(a,g,OE(v)),i.comments.push(g),nt(f,-1,"../comments"+o+"."+r,Je.CMNT),m=!0}h["!legacy"]&&m&&He(a,"xl/drawings/vmlDrawing"+o+".vml",TE(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&He(a,aE(s),Ya(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,He(a,s,xE(t.Strings,t)),i.strs.push(s),nt(t.wbrels,-1,"sharedStrings."+r,Je.SST)),s="xl/workbook."+r,He(a,s,BE(e)),i.workbooks.push(s),nt(t.rels,1,s,Je.WB),s="xl/theme/theme1.xml",He(a,s,EE(e.Themes,t)),i.themes.push(s),nt(t.wbrels,-1,"theme/theme1.xml",Je.THEME),s="xl/styles."+r,He(a,s,_E(e,t)),i.styles.push(s),nt(t.wbrels,-1,"styles."+r,Je.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",He(a,s,e.vbaraw),i.vba.push(s),nt(t.wbrels,-1,"vbaProject.bin",Je.VBA)),s="xl/metadata."+r,He(a,s,AE()),i.metadata.push(s),nt(t.wbrels,-1,"metadata."+r,Je.XLMETA),u.length>1&&(s="xl/persons/person.xml",He(a,s,vZ(u)),i.people.push(s),nt(t.wbrels,-1,"persons/person.xml",Je.PEOPLE)),He(a,"[Content_Types].xml",iE(i,t)),He(a,"_rels/.rels",Ya(t.rels)),He(a,"xl/_rels/workbook."+r+".rels",Ya(t.wbrels)),delete t.revssf,delete t.ssf,a}function Lre(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Vn(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function VE(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Gl(t.file,lt.write(e,{type:Qe?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return lt.write(e,t)}function Bre(e,t){var r=wr(t||{}),n=Mre(e,r);return Ure(n,r)}function Ure(e,t){var r={},n=Qe?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?lt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(Yf(i))}return t.password&&typeof encrypt_agile<"u"?VE(encrypt_agile(i,t.password),t):t.type==="file"?Gl(t.file,i):t.type=="string"?Lo(i):i}function Wre(e,t){var r=t||{},n=ire(e,r);return VE(n,r)}function vn(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return jl(Cl(n));case"binary":return Cl(n);case"string":return e;case"file":return Gl(t.file,n,"utf8");case"buffer":return Qe?Qn(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):vn(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function zre(e,t){switch(t.type){case"base64":return jl(e);case"binary":return e;case"string":return e;case"file":return Gl(t.file,e,"binary");case"buffer":return Qe?Qn(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Nc(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?jl(r):t.type=="string"?Lo(r):r;case"file":return Gl(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function KE(e,t){gX(),Pte(e);var r=wr(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=KE(e,r);return r.type="array",Yf(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return vn(rre(e,r),r);case"slk":case"sylk":return vn(AJ.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return vn(zE(e.Sheets[e.SheetNames[i]],r),r);case"txt":return zre(XE(e.Sheets[e.SheetNames[i]],r),r);case"csv":return vn(Um(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return vn(TJ.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return Nc(EJ.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return vn(OJ.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return vn(IJ.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return vn(gE.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return vn(GE(e,r),r);case"wk1":return Nc(R1.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return Nc(R1.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Nc(WE(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Wre(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Bre(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Hre(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function qre(e,t,r){var n={};return n.type="file",n.file=t,Hre(n),KE(e,n)}function Gre(e,t,r,n,i,a,s,o){var l=Yt(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var v=s?e[r][p]:e[n[p]+l];if(v===void 0||v.t===void 0){if(c===void 0)continue;a[p]!=null&&(h[a[p]]=c);continue}var m=v.v;switch(v.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(a[p]!=null){if(m==null)if(v.t=="e"&&m===null)h[a[p]]=null;else if(c!==void 0)h[a[p]]=c;else if(u&&m===null)h[a[p]]=null;else continue;else h[a[p]]=u&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?m:Kn(v,m,o);m!=null&&(f=!1)}}return{row:h,isempty:f}}function Xu(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=yt(u);break;case"number":l=yt(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(i=0);var f=Yt(l.s.r),h=[],p=[],v=0,m=0,g=Array.isArray(e),y=l.s.r,b=0,x={};g&&!e[y]&&(e[y]=[]);var E=c.skipHidden&&e["!cols"]||[],w=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(E[b]||{}).hidden)switch(h[b]=ar(b),r=g?e[y][b]:e[h[b]+f],n){case 1:a[b]=b-l.s.c;break;case 2:a[b]=h[b];break;case 3:a[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Kn(r,null,c),m=x[s]||0,!m)x[s]=1;else{do o=s+"_"+m++;while(x[o]);x[s]=m,x[o]=1}a[b]=o}for(y=l.s.r+i;y<=l.e.r;++y)if(!(w[y]||{}).hidden){var S=Gre(e,l,y,h,n,a,g,c);(S.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[v++]=S.row)}return p.length=v,p}var G1=/"/g;function Vre(e,t,r,n,i,a,s,o){for(var l=!0,c=[],u="",f=Yt(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:Kn(p,null,o));for(var v=0,m=0;v!==u.length;++v)if((m=u.charCodeAt(v))===i||m===a||m===34||o.forceQuotes){u='"'+u.replace(G1,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(G1,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function Um(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=yt(e["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((a=="|"?"\\|":a)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(h[v]||{}).hidden||(f[v]=ar(v));for(var m=0,g=i.s.r;g<=i.e.r;++g)(p[g]||{}).hidden||(u=Vre(e,i,g,f,s,l,a,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function XE(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Um(e,t);return r}function Kre(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=yt(e["!ref"]),a="",s=[],o,l=[],c=Array.isArray(e);for(o=i.s.c;o<=i.e.c;++o)s[o]=ar(o);for(var u=i.s.r;u<=i.e.r;++u)for(a=Yt(u),o=i.s.c;o<=i.e.c;++o)if(t=s[o]+a,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function YE(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Bt(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+i}};if(a["!ref"]){var f=yt(a["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+i)}else s==-1&&(s=0,u.e.r=t.length-1+i);var h=n.header||[],p=0;t.forEach(function(m,g){Jt(m).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var b=m[y],x="z",E="",w=at({c:o+p,r:s+g+i});c=Il(a,w),b&&typeof b=="object"&&!(b instanceof Date)?a[w]=b:(typeof b=="number"?x="n":typeof b=="boolean"?x="b":typeof b=="string"?x="s":b instanceof Date?(x="d",n.cellDates||(x="n",b=br(b)),E=n.dateNF||St[14]):b===null&&n.nullError&&(x="e",b=0),c?(c.t=x,c.v=b,delete c.w,delete c.R,E&&(c.z=E)):a[w]=c={t:x,v:b},E&&(c.z=E))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var v=Yt(s);if(i)for(p=0;p<h.length;++p)a[ar(p+o)+v]={t:"s",v:h[p]};return a["!ref"]=jt(u),a}function Xre(e,t){return YE(null,e,t)}function Il(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Bt(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Il(e,at(t)):Il(e,at({r:t,c:r||0}))}function Yre(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Jre(){return{SheetNames:[],Sheets:{}}}function Zre(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=s+i)!=-1;++i);}if(LE(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Qre(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Yre(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function ene(e,t){return e.z=t,e}function JE(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function tne(e,t,r){return JE(e,"#"+t,r)}function rne(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function nne(e,t,r,n){for(var i=typeof t!="string"?t:yt(t),a=typeof t=="string"?t:jt(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=Il(e,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return e}var bo={encode_col:ar,encode_row:Yt,encode_cell:at,encode_range:jt,decode_col:Nm,decode_row:jm,split_cell:gY,decode_cell:Bt,decode_range:Mr,format_cell:Kn,sheet_add_aoa:JS,sheet_add_json:YE,sheet_add_dom:HE,aoa_to_sheet:Vs,json_to_sheet:Xre,table_to_sheet:qE,table_to_book:Tre,sheet_to_csv:Um,sheet_to_txt:XE,sheet_to_json:Xu,sheet_to_html:zE,sheet_to_formulae:Kre,sheet_to_row_object_array:Xu,sheet_get_cell:Il,book_new:Jre,book_append_sheet:Zre,book_set_sheet_visibility:Qre,cell_set_number_format:ene,cell_set_hyperlink:JE,cell_set_internal_link:tne,cell_add_comment:rne,sheet_set_array_formula:nne,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Wm={exports:{}},Jl={},id={exports:{}},ZE={};function QE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=QE(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function V1(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=QE(e))&&(n&&(n+=" "),n+=t);return n}const ine=Object.freeze(Object.defineProperty({__proto__:null,clsx:V1,default:V1},Symbol.toStringTag,{value:"Module"})),ane=tb(ine);var Et={},On={};Object.defineProperty(On,"__esModule",{value:!0});On.dontSetMe=une;On.findInArray=sne;On.int=cne;On.isFunction=one;On.isNum=lne;function sne(e,t){for(let r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function one(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function lne(e){return typeof e=="number"&&!isNaN(e)}function cne(e){return parseInt(e,10)}function une(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var wa={};Object.defineProperty(wa,"__esModule",{value:!0});wa.browserPrefixToKey=tA;wa.browserPrefixToStyle=fne;wa.default=void 0;wa.getPrefix=eA;const oh=["Moz","Webkit","O","ms"];function eA(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const r=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!r||t in r)return"";for(let n=0;n<oh.length;n++)if(tA(t,oh[n])in r)return oh[n];return""}function tA(e,t){return t?"".concat(t).concat(dne(e)):e}function fne(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function dne(e){let t="",r=!0;for(let n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):e[n]==="-"?r=!0:t+=e[n];return t}wa.default=eA();Object.defineProperty(Et,"__esModule",{value:!0});Et.addClassName=iA;Et.addEvent=mne;Et.addUserSelectStyles=Tne;Et.createCSSTransform=_ne;Et.createSVGTransform=Sne;Et.getTouch=Ene;Et.getTouchIdentifier=Ane;Et.getTranslation=zm;Et.innerHeight=yne;Et.innerWidth=bne;Et.matchesSelector=nA;Et.matchesSelectorAndParentsTo=pne;Et.offsetXYFromParent=wne;Et.outerHeight=gne;Et.outerWidth=xne;Et.removeClassName=aA;Et.removeEvent=vne;Et.removeUserSelectStyles=One;var $r=On,K1=hne(wa);function rA(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(rA=function(n){return n?r:t})(e)}function hne(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=rA(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}let Cc="";function nA(e,t){return Cc||(Cc=(0,$r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(r){return(0,$r.isFunction)(e[r])})),(0,$r.isFunction)(e[Cc])?e[Cc](t):!1}function pne(e,t,r){let n=e;do{if(nA(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1}function mne(e,t,r,n){if(!e)return;const i={capture:!0,...n};e.addEventListener?e.addEventListener(t,r,i):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function vne(e,t,r,n){if(!e)return;const i={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,r,i):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}function gne(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,$r.int)(r.borderTopWidth),t+=(0,$r.int)(r.borderBottomWidth),t}function xne(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,$r.int)(r.borderLeftWidth),t+=(0,$r.int)(r.borderRightWidth),t}function yne(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,$r.int)(r.paddingTop),t-=(0,$r.int)(r.paddingBottom),t}function bne(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,$r.int)(r.paddingLeft),t-=(0,$r.int)(r.paddingRight),t}function wne(e,t,r){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-i.left)/r,s=(e.clientY+t.scrollTop-i.top)/r;return{x:a,y:s}}function _ne(e,t){const r=zm(e,t,"px");return{[(0,K1.browserPrefixToKey)("transform",K1.default)]:r}}function Sne(e,t){return zm(e,t,"")}function zm(e,t,r){let{x:n,y:i}=e,a="translate(".concat(n).concat(r,",").concat(i).concat(r,")");if(t){const s="".concat(typeof t.x=="string"?t.x:t.x+r),o="".concat(typeof t.y=="string"?t.y:t.y+r);a="translate(".concat(s,", ").concat(o,")")+a}return a}function Ene(e,t){return e.targetTouches&&(0,$r.findInArray)(e.targetTouches,r=>t===r.identifier)||e.changedTouches&&(0,$r.findInArray)(e.changedTouches,r=>t===r.identifier)}function Ane(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Tne(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&iA(e.body,"react-draggable-transparent-selection")}function One(e){if(e)try{if(e.body&&aA(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function iA(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function aA(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.canDragX=Nne;Pn.canDragY=Cne;Pn.createCoreData=Dne;Pn.createDraggableData=Ine;Pn.getBoundPosition=Pne;Pn.getControlPosition=kne;Pn.snapToGrid=jne;var Tr=On,Ha=Et;function Pne(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:n}=e.props;n=typeof n=="string"?n:$ne(n);const i=Hm(e);if(typeof n=="string"){const{ownerDocument:a}=i,s=a.defaultView;let o;if(n==="parent"?o=i.parentNode:o=a.querySelector(n),!(o instanceof s.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');const l=o,c=s.getComputedStyle(i),u=s.getComputedStyle(l);n={left:-i.offsetLeft+(0,Tr.int)(u.paddingLeft)+(0,Tr.int)(c.marginLeft),top:-i.offsetTop+(0,Tr.int)(u.paddingTop)+(0,Tr.int)(c.marginTop),right:(0,Ha.innerWidth)(l)-(0,Ha.outerWidth)(i)-i.offsetLeft+(0,Tr.int)(u.paddingRight)-(0,Tr.int)(c.marginRight),bottom:(0,Ha.innerHeight)(l)-(0,Ha.outerHeight)(i)-i.offsetTop+(0,Tr.int)(u.paddingBottom)-(0,Tr.int)(c.marginBottom)}}return(0,Tr.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,Tr.isNum)(n.bottom)&&(r=Math.min(r,n.bottom)),(0,Tr.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,Tr.isNum)(n.top)&&(r=Math.max(r,n.top)),[t,r]}function jne(e,t,r){const n=Math.round(t/e[0])*e[0],i=Math.round(r/e[1])*e[1];return[n,i]}function Nne(e){return e.props.axis==="both"||e.props.axis==="x"}function Cne(e){return e.props.axis==="both"||e.props.axis==="y"}function kne(e,t,r){const n=typeof t=="number"?(0,Ha.getTouch)(e,t):null;if(typeof t=="number"&&!n)return null;const i=Hm(r),a=r.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Ha.offsetXYFromParent)(n||e,a,r.props.scale)}function Dne(e,t,r){const n=!(0,Tr.isNum)(e.lastX),i=Hm(e);return n?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:i,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}}function Ine(e,t){const r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function $ne(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Hm(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var ad={},sd={};Object.defineProperty(sd,"__esModule",{value:!0});sd.default=Mne;function Mne(){}Object.defineProperty(ad,"__esModule",{value:!0});ad.default=void 0;var lh=Rne(W),mr=qm(Hl),Fne=qm(op),er=Et,ni=Pn,ch=On,wo=qm(sd);function qm(e){return e&&e.__esModule?e:{default:e}}function sA(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(sA=function(n){return n?r:t})(e)}function Rne(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=sA(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function cr(e,t,r){return t=Lne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lne(e){var t=Bne(e,"string");return typeof t=="symbol"?t:String(t)}function Bne(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const tn={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ii=tn.mouse,od=class extends lh.Component{constructor(){super(...arguments),cr(this,"dragging",!1),cr(this,"lastX",NaN),cr(this,"lastY",NaN),cr(this,"touchIdentifier",null),cr(this,"mounted",!1),cr(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const r=this.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=r;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,er.matchesSelectorAndParentsTo)(t.target,this.props.handle,r)||this.props.cancel&&(0,er.matchesSelectorAndParentsTo)(t.target,this.props.cancel,r))return;t.type==="touchstart"&&t.preventDefault();const i=(0,er.getTouchIdentifier)(t);this.touchIdentifier=i;const a=(0,ni.getControlPosition)(t,i,this);if(a==null)return;const{x:s,y:o}=a,l=(0,ni.createCoreData)(this,s,o);(0,wo.default)("DraggableCore: handleDragStart: %j",l),(0,wo.default)("calling",this.props.onStart),!(this.props.onStart(t,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,er.addUserSelectStyles)(n),this.dragging=!0,this.lastX=s,this.lastY=o,(0,er.addEvent)(n,ii.move,this.handleDrag),(0,er.addEvent)(n,ii.stop,this.handleDragStop))}),cr(this,"handleDrag",t=>{const r=(0,ni.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let o=n-this.lastX,l=i-this.lastY;if([o,l]=(0,ni.snapToGrid)(this.props.grid,o,l),!o&&!l)return;n=this.lastX+o,i=this.lastY+l}const a=(0,ni.createCoreData)(this,n,i);if((0,wo.default)("DraggableCore: handleDrag: %j",a),this.props.onDrag(t,a)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=n,this.lastY=i}),cr(this,"handleDragStop",t=>{if(!this.dragging)return;const r=(0,ni.getControlPosition)(t,this.touchIdentifier,this);if(r==null)return;let{x:n,y:i}=r;if(Array.isArray(this.props.grid)){let l=n-this.lastX||0,c=i-this.lastY||0;[l,c]=(0,ni.snapToGrid)(this.props.grid,l,c),n=this.lastX+l,i=this.lastY+c}const a=(0,ni.createCoreData)(this,n,i);if(this.props.onStop(t,a)===!1||this.mounted===!1)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,er.removeUserSelectStyles)(o.ownerDocument),(0,wo.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,wo.default)("DraggableCore: Removing handlers"),(0,er.removeEvent)(o.ownerDocument,ii.move,this.handleDrag),(0,er.removeEvent)(o.ownerDocument,ii.stop,this.handleDragStop))}),cr(this,"onMouseDown",t=>(ii=tn.mouse,this.handleDragStart(t))),cr(this,"onMouseUp",t=>(ii=tn.mouse,this.handleDragStop(t))),cr(this,"onTouchStart",t=>(ii=tn.touch,this.handleDragStart(t))),cr(this,"onTouchEnd",t=>(ii=tn.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,er.addEvent)(t,tn.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:r}=t;(0,er.removeEvent)(r,tn.mouse.move,this.handleDrag),(0,er.removeEvent)(r,tn.touch.move,this.handleDrag),(0,er.removeEvent)(r,tn.mouse.stop,this.handleDragStop),(0,er.removeEvent)(r,tn.touch.stop,this.handleDragStop),(0,er.removeEvent)(t,tn.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,er.removeUserSelectStyles)(r)}}findDOMNode(){var t,r;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(r=this.props)===null||r===void 0||(r=r.nodeRef)===null||r===void 0?void 0:r.current:Fne.default.findDOMNode(this)}render(){return lh.cloneElement(lh.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};ad.default=od;cr(od,"displayName","DraggableCore");cr(od,"propTypes",{allowAnyClick:mr.default.bool,children:mr.default.node.isRequired,disabled:mr.default.bool,enableUserSelectHack:mr.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:mr.default.arrayOf(mr.default.number),handle:mr.default.string,cancel:mr.default.string,nodeRef:mr.default.object,onStart:mr.default.func,onDrag:mr.default.func,onStop:mr.default.func,onMouseDown:mr.default.func,scale:mr.default.number,className:ch.dontSetMe,style:ch.dontSetMe,transform:ch.dontSetMe});cr(od,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),e.default=void 0;var t=h(W),r=u(Hl),n=u(op),i=u(ane),a=Et,s=Pn,o=On,l=u(ad),c=u(sd);function u(b){return b&&b.__esModule?b:{default:b}}function f(b){if(typeof WeakMap!="function")return null;var x=new WeakMap,E=new WeakMap;return(f=function(w){return w?E:x})(b)}function h(b,x){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var E=f(x);if(E&&E.has(b))return E.get(b);var w={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in b)if(_!=="default"&&Object.prototype.hasOwnProperty.call(b,_)){var A=S?Object.getOwnPropertyDescriptor(b,_):null;A&&(A.get||A.set)?Object.defineProperty(w,_,A):w[_]=b[_]}return w.default=b,E&&E.set(b,w),w}function p(){return p=Object.assign?Object.assign.bind():function(b){for(var x=1;x<arguments.length;x++){var E=arguments[x];for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(b[w]=E[w])}return b},p.apply(this,arguments)}function v(b,x,E){return x=m(x),x in b?Object.defineProperty(b,x,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[x]=E,b}function m(b){var x=g(b,"string");return typeof x=="symbol"?x:String(x)}function g(b,x){if(typeof b!="object"||b===null)return b;var E=b[Symbol.toPrimitive];if(E!==void 0){var w=E.call(b,x||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(b)}class y extends t.Component{static getDerivedStateFromProps(x,E){let{position:w}=x,{prevPropsPosition:S}=E;return w&&(!S||w.x!==S.x||w.y!==S.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:w,prevPropsPosition:S}),{x:w.x,y:w.y,prevPropsPosition:{...w}}):null}constructor(x){super(x),v(this,"onDragStart",(E,w)=>{if((0,c.default)("Draggable: onDragStart: %j",w),this.props.onStart(E,(0,s.createDraggableData)(this,w))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),v(this,"onDrag",(E,w)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",w);const S=(0,s.createDraggableData)(this,w),_={x:S.x,y:S.y,slackX:0,slackY:0};if(this.props.bounds){const{x:O,y:C}=_;_.x+=this.state.slackX,_.y+=this.state.slackY;const[j,P]=(0,s.getBoundPosition)(this,_.x,_.y);_.x=j,_.y=P,_.slackX=this.state.slackX+(O-_.x),_.slackY=this.state.slackY+(C-_.y),S.x=_.x,S.y=_.y,S.deltaX=_.x-this.state.x,S.deltaY=_.y-this.state.y}if(this.props.onDrag(E,S)===!1)return!1;this.setState(_)}),v(this,"onDragStop",(E,w)=>{if(!this.state.dragging||this.props.onStop(E,(0,s.createDraggableData)(this,w))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",w);const _={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:O,y:C}=this.props.position;_.x=O,_.y=C}this.setState(_)}),this.state={dragging:!1,dragged:!1,x:x.position?x.position.x:x.defaultPosition.x,y:x.position?x.position.y:x.defaultPosition.y,prevPropsPosition:{...x.position},slackX:0,slackY:0,isElementSVG:!1},x.position&&!(x.onDrag||x.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var x,E;return(x=(E=this.props)===null||E===void 0||(E=E.nodeRef)===null||E===void 0?void 0:E.current)!==null&&x!==void 0?x:n.default.findDOMNode(this)}render(){const{axis:x,bounds:E,children:w,defaultPosition:S,defaultClassName:_,defaultClassNameDragging:A,defaultClassNameDragged:O,position:C,positionOffset:j,scale:P,...U}=this.props;let q={},H=null;const te=!!!C||this.state.dragging,se=C||S,oe={x:(0,s.canDragX)(this)&&te?this.state.x:se.x,y:(0,s.canDragY)(this)&&te?this.state.y:se.y};this.state.isElementSVG?H=(0,a.createSVGTransform)(oe,j):q=(0,a.createCSSTransform)(oe,j);const me=(0,i.default)(w.props.className||"",_,{[A]:this.state.dragging,[O]:this.state.dragged});return t.createElement(l.default,p({},U,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(w),{className:me,style:{...w.props.style,...q},transform:H}))}}e.default=y,v(y,"displayName","Draggable"),v(y,"propTypes",{...l.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),v(y,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(ZE);const{default:oA,DraggableCore:Une}=ZE;id.exports=oA;id.exports.default=oA;id.exports.DraggableCore=Une;var Wne=id.exports,Gm={};Gm.__esModule=!0;Gm.cloneElement=Kne;var zne=Hne(W);function Hne(e){return e&&e.__esModule?e:{default:e}}function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){qne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qne(e,t,r){return t=Gne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gne(e){var t=Vne(e,"string");return typeof t=="symbol"?t:String(t)}function Vne(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kne(e,t){return t.style&&e.props.style&&(t.style=Y1(Y1({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),zne.default.cloneElement(e,t)}var Zl={};Zl.__esModule=!0;Zl.resizableProps=void 0;var Ue=Xne(Hl);function Xne(e){return e&&e.__esModule?e:{default:e}}var Yne={axis:Ue.default.oneOf(["both","x","y","none"]),className:Ue.default.string,children:Ue.default.element.isRequired,draggableOpts:Ue.default.shape({allowAnyClick:Ue.default.bool,cancel:Ue.default.string,children:Ue.default.node,disabled:Ue.default.bool,enableUserSelectHack:Ue.default.bool,offsetParent:Ue.default.node,grid:Ue.default.arrayOf(Ue.default.number),handle:Ue.default.string,nodeRef:Ue.default.object,onStart:Ue.default.func,onDrag:Ue.default.func,onStop:Ue.default.func,onMouseDown:Ue.default.func,scale:Ue.default.number}),height:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(i.axis==="both"||i.axis==="y"){var a;return(a=Ue.default.number).isRequired.apply(a,r)}return Ue.default.number.apply(Ue.default,r)},handle:Ue.default.oneOfType([Ue.default.node,Ue.default.func]),handleSize:Ue.default.arrayOf(Ue.default.number),lockAspectRatio:Ue.default.bool,maxConstraints:Ue.default.arrayOf(Ue.default.number),minConstraints:Ue.default.arrayOf(Ue.default.number),onResizeStop:Ue.default.func,onResizeStart:Ue.default.func,onResize:Ue.default.func,resizeHandles:Ue.default.arrayOf(Ue.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:Ue.default.number,width:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(i.axis==="both"||i.axis==="x"){var a;return(a=Ue.default.number).isRequired.apply(a,r)}return Ue.default.number.apply(Ue.default,r)}};Zl.resizableProps=Yne;Jl.__esModule=!0;Jl.default=void 0;var _o=tie(W),Jne=Wne,Zne=Gm,Qne=Zl,eie=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function lA(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(lA=function(i){return i?r:t})(e)}function tie(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=lA(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},np.apply(this,arguments)}function rie(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){nie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nie(e,t,r){return t=iie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iie(e){var t=aie(e,"string");return typeof t=="symbol"?t:String(t)}function aie(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sie(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ip(e,t)}function ip(e,t){return ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ip(e,t)}var Vm=function(e){sie(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,n.handleRefs={},n.lastHandleRect=null,n.slack=null,n}var r=t.prototype;return r.componentWillUnmount=function(){this.resetData()},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(i,a){var s=this.props,o=s.minConstraints,l=s.maxConstraints,c=s.lockAspectRatio;if(!o&&!l&&!c)return[i,a];if(c){var u=this.props.width/this.props.height,f=i-this.props.width,h=a-this.props.height;Math.abs(f)>Math.abs(h*u)?a=i/u:i=a*u}var p=i,v=a,m=this.slack||[0,0],g=m[0],y=m[1];return i+=g,a+=y,o&&(i=Math.max(o[0],i),a=Math.max(o[1],a)),l&&(i=Math.min(l[0],i),a=Math.min(l[1],a)),this.slack=[g+(p-i),y+(v-a)],[i,a]},r.resizeHandler=function(i,a){var s=this;return function(o,l){var c=l.node,u=l.deltaX,f=l.deltaY;i==="onResizeStart"&&s.resetData();var h=(s.props.axis==="both"||s.props.axis==="x")&&a!=="n"&&a!=="s",p=(s.props.axis==="both"||s.props.axis==="y")&&a!=="e"&&a!=="w";if(!(!h&&!p)){var v=a[0],m=a[a.length-1],g=c.getBoundingClientRect();if(s.lastHandleRect!=null){if(m==="w"){var y=g.left-s.lastHandleRect.left;u+=y}if(v==="n"){var b=g.top-s.lastHandleRect.top;f+=b}}s.lastHandleRect=g,m==="w"&&(u=-u),v==="n"&&(f=-f);var x=s.props.width+(h?u/s.props.transformScale:0),E=s.props.height+(p?f/s.props.transformScale:0),w=s.runConstraints(x,E);x=w[0],E=w[1];var S=x!==s.props.width||E!==s.props.height,_=typeof s.props[i]=="function"?s.props[i]:null,A=i==="onResize"&&!S;_&&!A&&(o.persist==null||o.persist(),_(o,{node:c,size:{width:x,height:E},handle:a})),i==="onResizeStop"&&s.resetData()}}},r.renderResizeHandle=function(i,a){var s=this.props.handle;if(!s)return _o.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+i,ref:a});if(typeof s=="function")return s(i,a);var o=typeof s.type=="string",l=uh({ref:a},o?{}:{handleAxis:i});return _o.cloneElement(s,l)},r.render=function(){var i=this,a=this.props,s=a.children,o=a.className,l=a.draggableOpts;a.width,a.height,a.handle,a.handleSize,a.lockAspectRatio,a.axis,a.minConstraints,a.maxConstraints,a.onResize,a.onResizeStop,a.onResizeStart;var c=a.resizeHandles;a.transformScale;var u=rie(a,eie);return(0,Zne.cloneElement)(s,uh(uh({},u),{},{className:(o?o+" ":"")+"react-resizable",children:[].concat(s.props.children,c.map(function(f){var h,p=(h=i.handleRefs[f])!=null?h:i.handleRefs[f]=_o.createRef();return _o.createElement(Jne.DraggableCore,np({},l,{nodeRef:p,key:"resizableHandle-"+f,onStop:i.resizeHandler("onResizeStop",f),onStart:i.resizeHandler("onResizeStart",f),onDrag:i.resizeHandler("onResize",f)}),i.renderResizeHandle(f,p))}))}))},t}(_o.Component);Jl.default=Vm;Vm.propTypes=Qne.resizableProps;Vm.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var ld={};ld.__esModule=!0;ld.default=void 0;var fh=fie(W),oie=cA(Hl),lie=cA(Jl),cie=Zl,uie=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function cA(e){return e&&e.__esModule?e:{default:e}}function uA(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(uA=function(i){return i?r:t})(e)}function fie(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=uA(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ap.apply(this,arguments)}function Z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(r),!0).forEach(function(n){die(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function die(e,t,r){return t=hie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hie(e){var t=pie(e,"string");return typeof t=="symbol"?t:String(t)}function pie(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mie(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function vie(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,sp(e,t)}function sp(e,t){return sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sp(e,t)}var fA=function(e){vie(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,n.state={width:n.props.width,height:n.props.height,propsWidth:n.props.width,propsHeight:n.props.height},n.onResize=function(o,l){var c=l.size;n.props.onResize?(o.persist==null||o.persist(),n.setState(c,function(){return n.props.onResize&&n.props.onResize(o,l)})):n.setState(c)},n}t.getDerivedStateFromProps=function(i,a){return a.propsWidth!==i.width||a.propsHeight!==i.height?{width:i.width,height:i.height,propsWidth:i.width,propsHeight:i.height}:null};var r=t.prototype;return r.render=function(){var i=this.props,a=i.handle,s=i.handleSize;i.onResize;var o=i.onResizeStart,l=i.onResizeStop,c=i.draggableOpts,u=i.minConstraints,f=i.maxConstraints,h=i.lockAspectRatio,p=i.axis;i.width,i.height;var v=i.resizeHandles,m=i.style,g=i.transformScale,y=mie(i,uie);return fh.createElement(lie.default,{axis:p,draggableOpts:c,handle:a,handleSize:s,height:this.state.height,lockAspectRatio:h,maxConstraints:f,minConstraints:u,onResizeStart:o,onResize:this.onResize,onResizeStop:l,resizeHandles:v,transformScale:g,width:this.state.width},fh.createElement("div",ap({},y,{style:Yu(Yu({},m),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(fh.Component);ld.default=fA;fA.propTypes=Yu(Yu({},cie.resizableProps),{},{children:oie.default.element});Wm.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};Wm.exports.Resizable=Jl.default;Wm.exports.ResizableBox=ld.default;const gie=L.createContext({}),dA=!0;function xie({baseColor:e,highlightColor:t,width:r,height:n,borderRadius:i,circle:a,direction:s,duration:o,enableAnimation:l=dA,customHighlightBackground:c}){const u={};return s==="rtl"&&(u["--animation-direction"]="reverse"),typeof o=="number"&&(u["--animation-duration"]=`${o}s`),l||(u["--pseudo-element-display"]="none"),(typeof r=="string"||typeof r=="number")&&(u.width=r),(typeof n=="string"||typeof n=="number")&&(u.height=n),(typeof i=="string"||typeof i=="number")&&(u.borderRadius=i),a&&(u.borderRadius="50%"),typeof e<"u"&&(u["--base-color"]=e),typeof t<"u"&&(u["--highlight-color"]=t),typeof c=="string"&&(u["--custom-highlight-background"]=c),u}function Di({count:e=1,wrapper:t,className:r,containerClassName:n,containerTestId:i,circle:a=!1,style:s,...o}){var l,c,u;const f=L.useContext(gie),h={...o};for(const[x,E]of Object.entries(o))typeof E>"u"&&delete h[x];const p={...f,...h,circle:a},v={...s,...xie(p)};let m="react-loading-skeleton";r&&(m+=` ${r}`);const g=(l=p.inline)!==null&&l!==void 0?l:!1,y=[],b=Math.ceil(e);for(let x=0;x<b;x++){let E=v;if(b>e&&x===b-1){const S=(c=E.width)!==null&&c!==void 0?c:"100%",_=e%1,A=typeof S=="number"?S*_:`calc(${S} * ${_})`;E={...E,width:A}}const w=L.createElement("span",{className:m,style:E,key:x},"");g?y.push(w):y.push(L.createElement(L.Fragment,{key:x},w,L.createElement("br",null)))}return L.createElement("span",{className:n,"data-testid":i,"aria-live":"polite","aria-busy":(u=p.enableAnimation)!==null&&u!==void 0?u:dA},t?y.map((x,E)=>L.createElement(t,{key:E},x)):y)}const Ma=e=>{try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return e}},Q1=[{label:"Hoy",value:"day"},{label:"ltima Semana",value:"week"},{label:"ltimo Mes",value:"month"},{label:"ltimos 3 Meses",value:"quarter"},{label:"Personalizado",value:"custom"}],eb="columnWidths",yie=({active:e,payload:t,label:r,showUnique:n})=>{if(e&&t&&t.length){const i=t[0].payload;return d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[d.jsx("p",{className:"font-bold text-gray-800",children:r}),d.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[d.jsxs("p",{className:"flex justify-between",children:[d.jsxs("span",{className:"text-gray-500",children:["Visitas ",n?"nicas":"Totales",":"]}),d.jsx("span",{className:"font-medium text-blue-600 ml-4",children:n?i.unique_visits:i.visits})]}),d.jsxs("p",{className:"flex justify-between",children:[d.jsxs("span",{className:"text-gray-500",children:["Pagos Iniciados ",n?"nicos":"Totales",":"]}),d.jsx("span",{className:"font-medium text-green-600 ml-4",children:n?i.unique_clicks:i.clicks})]}),d.jsxs("p",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Compras:"}),d.jsx("span",{className:"font-medium text-purple-600 ml-4",children:i.purchases})]}),d.jsxs("p",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Order Bumps:"}),d.jsx("span",{className:"font-medium text-orange-600 ml-4",children:i.order_bumps})]}),d.jsxs("p",{className:"flex justify-between mt-2 pt-2 border-t",children:[d.jsx("span",{className:"text-gray-500",children:"Ingresos del Da:"}),d.jsxs("span",{className:"font-bold text-emerald-600 ml-4",children:["$",(i.revenue||0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),d.jsxs("p",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Gasto Publicitario:"}),d.jsxs("span",{className:"font-bold text-red-600 ml-4",children:["$",(i.ad_spend||0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),d.jsxs("p",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"ROAS:"}),d.jsxs("span",{className:"font-bold text-indigo-600 ml-4",children:[(i.roas||0).toFixed(2),"x"]})]})]})]})}return null};function bie({productId:e}){const{user:t}=Xn(),{timezone:r}=pX(),[n,i]=W.useState(!0),[a,s]=W.useState(null),[o,l]=W.useState("day"),c=fe=>Zd(fe,r),f=c(new Date),[h,p]=W.useState(f),[v,m]=W.useState(f),[g,y]=W.useState(""),[b,x]=W.useState("visits"),[E,w]=W.useState("desc"),[S,_]=W.useState(null),[A,O]=W.useState(()=>{const fe=localStorage.getItem(eb);return fe?JSON.parse(fe):{campaign:200,medium:150,content:200,visits:100,clicks:120,purchases:120,conversion:120}});W.useState(new Set);const[C,j]=W.useState({campaign:"",medium:"",content:""}),[P,U]=W.useState(!1),[q,H]=W.useState("resumen"),[Z,te]=W.useState("conversion"),[se,oe]=W.useState("campaign"),[me,_e]=W.useState("combined"),[D,z]=W.useState("campaign"),[F,B]=W.useState(new Set),[Y,xe]=W.useState(new Set);W.useEffect(()=>{localStorage.setItem(eb,JSON.stringify(A))},[A]),W.useEffect(()=>{const Ae=c(new Date);console.log(`Initializing dates to today: ${Ae} in timezone: ${r}`),p(Ae),m(Ae)},[r]),W.useEffect(()=>{t&&ee()},[e,o,h,v,r,t]);const be=(fe,Ae)=>{const Me=new Date(fe).getTime(),de=new Date(Ae).getTime(),Xe=365*24*60*60*1e3;return Me>de?(y("La fecha inicial no puede ser posterior a la fecha final"),!1):de-Me>Xe?(y("El rango mximo permitido es de 1 ao"),!1):de>Date.now()?(y("La fecha final no puede ser futura"),!1):(y(""),!0)},Q=(fe,Ae)=>{be(fe==="start"?Ae:h,fe==="end"?Ae:v)&&(l("custom"),fe==="start"&&p(Ae),fe==="end"&&m(Ae))},ie=fe=>{const Ae=new Date;let Me;const de=c(Ae);switch(console.log(`Setting preset timeframe: ${fe}, today: ${de}`),fe){case"day":p(de),m(de);break;case"week":Me=new Date(Ae),Me.setDate(Ae.getDate()-7),p(c(Me)),m(de);break;case"month":Me=new Date(Ae),Me.setMonth(Ae.getMonth()-1),p(c(Me)),m(de);break;case"quarter":Me=new Date(Ae),Me.setMonth(Ae.getMonth()-3),p(c(Me)),m(de);break}l(fe)},we=()=>{const Ae=c(new Date);p(Ae),m(Ae),l("day")};async function ee(){try{if(i(!0),_(null),!t){_("Debes iniciar sesin para ver las estadsticas."),i(!1);return}if(!h.match(/^\d{4}-\d{2}-\d{2}$/)||!v.match(/^\d{4}-\d{2}-\d{2}$/)){_("Formato de fecha invlido. Se espera YYYY-MM-DD"),i(!1);return}const[fe,Ae,Me]=h.split("-").map(Number),[de,Xe,je]=v.split("-").map(Number),jn=new Date(fe,Ae-1,Me,0,0,0),_a=new Date(de,Xe-1,je,23,59,59,999),Ye=jn.toISOString(),or=_a.toISOString();console.log(`Querying database from ${Ye} to ${or} (local date range: ${h} to ${v})`);const{data:Sa}=await Re.from("users").select("role").eq("id",t.id).single(),{data:Ys}=await Re.from("products").select("user_id").eq("id",e).single();if(!Ys||Ys.user_id!==t.id&&(Sa==null?void 0:Sa.role)!=="admin"){_("No tienes acceso a estas analticas");return}const{data:Nn,error:Js}=await Re.from("tracking_events").select(`
          id,
          event_type,
          visitor_id,
          session_id,
          created_at,
          event_data,
          url
        `).eq("product_id",e).gte("created_at",Ye).lte("created_at",or).order("created_at",{ascending:!0});if(Js){console.error("Error fetching events:",Js),_(`Error cargando eventos: ${Js.message}`),i(!1);return}const Pi=ce=>{var Qt,Ni,ao,Lr,Aa;const Be=(Ni=(Qt=ce.event_data)==null?void 0:Qt.data)==null?void 0:Ni.commissions,ct=(Aa=(Lr=(ao=ce.event_data)==null?void 0:ao.data)==null?void 0:Lr.purchase)==null?void 0:Aa.price;if(!ct)return 0;const Rr=Be==null?void 0:Be.find(so=>so.source==="PRODUCER");return Rr?Rr.value:ct.value},Zs=c(new Date),[Qs,Ql,ec]=Zs.split("-").map(Number),Ea=new Date(Qs,Ql-1,ec,0,0,0),ud=new Date(Qs,Ql-1,ec,23,59,59,999),fd=Ea.toISOString(),dd=ud.toISOString(),{data:eo,error:tc}=await Re.from("tracking_events").select("event_type, event_data").eq("product_id",e).in("event_type",["compra_hotmart","compra_hotmart_orderbump"]).gte("created_at",fd).lte("created_at",dd);tc&&console.error("Error fetching today's revenue events:",tc);const to=(eo==null?void 0:eo.reduce((ce,Be)=>ce+Pi(Be),0))??0;if(!Nn||Nn.length===0){console.log("No events found for the selected date range"),s({total_visits:0,unique_visits:0,total_clicks:0,unique_clicks:0,total_purchases:0,total_order_bumps:0,conversion_rate:0,unique_conversion_rate:0,persuasion_rate:0,unique_persuasion_rate:0,order_bump_rate:0,total_main_product_revenue:0,total_order_bump_revenue:0,total_revenue:0,revenue_today:to,total_ad_spend:0,ad_spend_today:0,roas:0,roas_today:0,utm_stats:[],daily_stats:[],top_sources:[]}),i(!1);return}console.log(`Processing ${Nn.length} events. First event timestamp: ${Nn[0].created_at}, in local time: ${Zd(Nn[0].created_at,r)}`);const ei=new Set,ro=new Set;let Fr=0,no=0,ti=0,io=0,T=0,I=0;const N=new Map,k=new Map,M=new Map,R=new Map;Nn.forEach(ce=>{var ao;const Be=Zd(ce.created_at,r).split(" ")[0];k.has(Be)||k.set(Be,{date:Be,visits:0,unique_visits:0,clicks:0,unique_clicks:0,purchases:0,order_bumps:0,revenue:0,ad_spend:0,roas:0}),M.has(Be)||M.set(Be,new Set),R.has(Be)||R.set(Be,new Set);const ct=k.get(Be),Rr=M.get(Be),Qt=R.get(Be);if(!ct||!Rr||!Qt)return;if(ei.add(ce.visitor_id),Rr.add(ce.visitor_id),ce.event_type==="pageview")Fr++,ct.visits++;else if(ce.event_type==="hotmart_click")no++,ct.clicks++,ro.add(ce.visitor_id),Qt.add(ce.visitor_id);else if(ce.event_type==="compra_hotmart"){ti++,ct.purchases++;const Lr=Pi(ce);T+=Lr,ct.revenue+=Lr}else if(ce.event_type==="compra_hotmart_orderbump"){io++,ct.order_bumps++;const Lr=Pi(ce);I+=Lr,ct.revenue+=Lr}ct.unique_visits=Rr.size,ct.unique_clicks=Qt.size,k.set(Be,ct);const Ni=(ao=ce.event_data)==null?void 0:ao.utm_data;if(Ni){const Lr=Ni.utm_campaign||"",Aa=Ni.utm_medium||"",so=Ni.utm_content||"";if(!(Lr.includes("{{")||Aa.includes("{{")||so.includes("{{"))){const rc=JSON.stringify({medium:Aa||"none",campaign:Lr||"none",content:so||"none"});N.has(rc)||N.set(rc,{medium:Aa||"none",campaign:Lr||"none",content:so||"none",visits:0,unique_visits:0,clicks:0,unique_clicks:0,purchases:0,order_bumps:0,revenue:0,ad_spend:0,roas:0,visitorSet:new Set,clickSet:new Set});const Er=N.get(rc);Er.visitorSet.add(ce.visitor_id),ce.event_type==="pageview"?Er.visits++:ce.event_type==="hotmart_click"?(Er.clicks++,Er.clickSet.add(ce.visitor_id)):ce.event_type==="compra_hotmart"?(Er.purchases++,Er.revenue+=Pi(ce)):ce.event_type==="compra_hotmart_orderbump"&&(Er.order_bumps++,Er.revenue+=Pi(ce)),Er.unique_visits=Er.visitorSet.size,Er.unique_clicks=Er.clickSet.size,N.set(rc,Er)}}});const X=Array.from(N.values()).map(ce=>({...ce,campaign:Ma(ce.campaign),medium:Ma(ce.medium),content:Ma(ce.content),revenue:ce.revenue,conversion_rate:ce.visits>0?ce.purchases/ce.visits*100:0,unique_conversion_rate:ce.unique_visits>0?ce.purchases/ce.unique_visits*100:0,persuasion_rate:ce.visits>0?ce.clicks/ce.visits*100:0,unique_persuasion_rate:ce.unique_visits>0?ce.unique_clicks/ce.unique_visits*100:0,checkout_conversion_rate:ce.clicks>0?ce.purchases/ce.clicks*100:0,unique_checkout_conversion_rate:ce.unique_clicks>0?ce.purchases/ce.unique_clicks*100:0,order_bump_rate:ce.purchases>0?ce.order_bumps/ce.purchases*100:0})).sort((ce,Be)=>Be.visits-ce.visits),ae=Array.from(k.values()).sort((ce,Be)=>ce.date.localeCompare(Be.date)),K=[],{data:V,error:J}=await Re.from("ad_spend").select("date, spend").eq("product_id",e).gte("date",h).lte("date",v);J&&console.error("Error fetching ad spend data:",J);const{data:ue,error:ye}=await Re.from("ad_spend").select("spend").eq("product_id",e).eq("date",Zs);ye&&console.error("Error fetching today ad spend data:",ye);const Te=(V==null?void 0:V.reduce((ce,Be)=>ce+(Be.spend||0),0))??0,he=(ue==null?void 0:ue.reduce((ce,Be)=>ce+(Be.spend||0),0))??0,Ee=T+I,ke=Te>0?Ee/Te:0,vt=he>0?to/he:0,dt=new Map;V==null||V.forEach(ce=>{dt.set(ce.date,ce.spend||0)});const Mt=Array.from(k.values()).map(ce=>{const Be=dt.get(ce.date)||0,ct=Be>0?ce.revenue/Be:0;return{...ce,ad_spend:Be,roas:ct}}).sort((ce,Be)=>ce.date.localeCompare(Be.date)),ji=Array.from(N.values()).map(ce=>{const Be=Fr>0?Fr:1,ct=Te*(ce.visits/Be),Rr=ct>0?ce.revenue/ct:0;return{...ce,campaign:Ma(ce.campaign),medium:Ma(ce.medium),content:Ma(ce.content),revenue:ce.revenue,ad_spend:ct,roas:Rr,conversion_rate:ce.visits>0?ce.purchases/ce.visits*100:0,unique_conversion_rate:ce.unique_visits>0?ce.purchases/ce.unique_visits*100:0,persuasion_rate:ce.visits>0?ce.clicks/ce.visits*100:0,unique_persuasion_rate:ce.unique_visits>0?ce.unique_clicks/ce.unique_visits*100:0,checkout_conversion_rate:ce.clicks>0?ce.purchases/ce.clicks*100:0,unique_checkout_conversion_rate:ce.unique_clicks>0?ce.purchases/ce.unique_clicks*100:0,order_bump_rate:ce.purchases>0?ce.order_bumps/ce.purchases*100:0}}).sort((ce,Be)=>Be.visits-ce.visits);s({total_visits:Fr,unique_visits:ei.size,total_clicks:no,unique_clicks:ro.size,total_purchases:ti,total_order_bumps:io,conversion_rate:Fr>0?ti/Fr*100:0,unique_conversion_rate:ei.size>0?ti/ei.size*100:0,persuasion_rate:Fr>0?no/Fr*100:0,unique_persuasion_rate:ei.size>0?ro.size/ei.size*100:0,order_bump_rate:ti>0?io/ti*100:0,total_main_product_revenue:T,total_order_bump_revenue:I,total_revenue:Ee,revenue_today:to,total_ad_spend:Te,ad_spend_today:he,roas:ke,roas_today:vt,utm_stats:ji,daily_stats:Mt,top_sources:K})}catch(fe){console.error("Error loading analytics:",fe),_("Error cargando las analticas")}finally{i(!1)}}const De=()=>{if(!a)return;const fe=bo.book_new(),Ae=a.utm_stats.map(je=>({Campaa:je.campaign,Segmentacin:je.medium,Anuncio:je.content,Visitas:P?je.unique_visits:je.visits,"Pagos Iniciados":P?je.unique_clicks:je.clicks,Compras:je.purchases,"Order Bumps":je.order_bumps,"Ingresos ($)":je.revenue.toFixed(2),"Gasto Publicitario ($)":je.ad_spend.toFixed(2),ROAS:je.roas.toFixed(2),"Conversin (%)":(P?je.unique_conversion_rate:je.conversion_rate).toFixed(2),"Persuasin (%)":(P?je.unique_persuasion_rate:je.persuasion_rate).toFixed(2),"Tasa Order Bump (%)":je.order_bump_rate.toFixed(2)})),Me=bo.json_to_sheet(Ae);bo.book_append_sheet(fe,Me,"UTMs");const de=a.daily_stats.map(je=>({Fecha:je.date,Visitas:P?je.unique_visits:je.visits,"Pagos Iniciados":P?je.unique_clicks:je.clicks,Compras:je.purchases,"Order Bumps":je.order_bumps,"Ingresos ($)":je.revenue.toFixed(2),"Gasto Publicitario ($)":je.ad_spend.toFixed(2),ROAS:je.roas.toFixed(2)})),Xe=bo.json_to_sheet(de);bo.book_append_sheet(fe,Xe,"Estadsticas Diarias"),qre(fe,"analytics.xlsx")};W.useMemo(()=>a?[...a.utm_stats].filter(fe=>fe.campaign.toLowerCase().includes(C.campaign.toLowerCase())&&fe.medium.toLowerCase().includes(C.medium.toLowerCase())&&fe.content.toLowerCase().includes(C.content.toLowerCase())).sort((fe,Ae)=>{const Me=E==="asc"?1:-1;if(b==="conversion_rate"){const je=P?fe.unique_conversion_rate:fe.conversion_rate,jn=P?Ae.unique_conversion_rate:Ae.conversion_rate;return(je-jn)*Me}if(b==="persuasion_rate"){const je=P?fe.unique_persuasion_rate:fe.persuasion_rate,jn=P?Ae.unique_persuasion_rate:Ae.persuasion_rate;return(je-jn)*Me}const de=fe[b],Xe=Ae[b];return typeof de=="number"&&typeof Xe=="number"?(de-Xe)*Me:String(de).localeCompare(String(Xe))*Me}):[],[a,b,E,C,P]),W.useCallback((fe,Ae)=>{j(Me=>({...Me,[fe]:Ae}))},[]),W.useMemo(()=>!a||a.utm_stats.length===0?null:a.utm_stats.reduce((fe,Ae)=>Ae.visits>fe.visits?Ae:fe),[a]),W.useMemo(()=>!a||a.utm_stats.length===0?null:a.utm_stats.reduce((fe,Ae)=>Ae.conversion_rate>fe.conversion_rate?Ae:fe),[a]),W.useMemo(()=>{if(!a)return[];const fe={};a.utm_stats.forEach(de=>{let Xe;me==="pure"?Xe=de[se]||"none":se==="campaign"?Xe=de.campaign||"none":Xe=`${de.campaign}  ${de[se]||"none"}`,fe[Xe]||(fe[Xe]={category:Xe,visits:0,unique_visits:0,clicks:0,unique_clicks:0,purchases:0}),fe[Xe].visits+=de.visits,fe[Xe].unique_visits+=de.unique_visits,fe[Xe].clicks+=de.clicks,fe[Xe].unique_clicks+=de.unique_clicks,fe[Xe].purchases+=de.purchases});const Ae=Object.values(fe);Ae.forEach(de=>{de.conversion_rate=de.visits>0?de.purchases/de.visits*100:0,de.unique_conversion_rate=de.unique_visits>0?de.purchases/de.unique_visits*100:0,de.persuasion_rate=de.visits>0?de.clicks/de.visits*100:0,de.unique_persuasion_rate=de.unique_visits>0?de.unique_clicks/de.unique_visits*100:0});const Me=Z==="conversion"?P?"unique_conversion_rate":"conversion_rate":P?"unique_persuasion_rate":"persuasion_rate";return Ae.sort((de,Xe)=>(Xe[Me]??0)-(de[Me]??0))},[a,se,Z,P,me]);const Se=W.useMemo(()=>{if(!a||a.utm_stats.length===0)return{moneyMachines:[],hiddenGems:[],leakyFaucets:[],wastedAdSpend:[],roasChampions:[]};const fe=a.utm_stats.filter(Ye=>Ye.revenue>0),Ae=a.utm_stats.filter(Ye=>Ye.clicks>0),Me=a.utm_stats.filter(Ye=>Ye.ad_spend>0),de=[...fe].sort((Ye,or)=>or.revenue-Ye.revenue),Xe=[...fe].filter(Ye=>Ye.purchases>0).map(Ye=>({...Ye,aov:Ye.revenue/Ye.purchases})).sort((Ye,or)=>or.aov-Ye.aov),je=Ae.filter(Ye=>Ye.purchases===0).sort((Ye,or)=>or.clicks-Ye.clicks),jn=a.utm_stats.filter(Ye=>Ye.visits>0&&Ye.clicks===0).sort((Ye,or)=>or.visits-Ye.visits),_a=[...Me].filter(Ye=>Ye.roas>0).sort((Ye,or)=>or.roas-Ye.roas);return{moneyMachines:de,hiddenGems:Xe,leakyFaucets:je,wastedAdSpend:jn,roasChampions:_a}},[a]),Le=fe=>{B(fe),xe(new Set)},Ce=()=>{B(new Set),xe(new Set)},G=W.useCallback((fe,Ae)=>{if(!Ae)return[];const Me=new Map;return Ae.forEach(de=>{const Xe=de[fe]||"none";Me.has(Xe)||Me.set(Xe,{name:Xe,visits:0,unique_visits:0,clicks:0,unique_clicks:0,purchases:0,order_bumps:0,revenue:0,ad_spend:0});const je=Me.get(Xe);je.visits+=de.visits,je.unique_visits+=de.unique_visits,je.clicks+=de.clicks,je.unique_clicks+=de.unique_clicks,je.purchases+=de.purchases,je.order_bumps+=de.order_bumps,je.revenue+=de.revenue,je.ad_spend+=de.ad_spend}),Array.from(Me.values()).map(de=>({...de,roas:de.ad_spend>0?de.revenue/de.ad_spend:0,conversion_rate:de.visits>0?de.purchases/de.visits*100:0,unique_conversion_rate:de.unique_visits>0?de.purchases/de.unique_visits*100:0,persuasion_rate:de.clicks>0?de.clicks/de.visits*100:0,unique_persuasion_rate:de.unique_visits>0?de.unique_clicks/de.unique_visits*100:0,checkout_conversion_rate:de.clicks>0?de.purchases/de.clicks*100:0,unique_checkout_conversion_rate:de.unique_clicks>0?de.purchases/de.unique_clicks*100:0,order_bump_rate:de.purchases>0?de.order_bumps/de.purchases*100:0}))},[]),Pe=W.useMemo(()=>G("campaign",a==null?void 0:a.utm_stats),[G,a]),Ge=W.useMemo(()=>{if(!a)return[];const fe=F.size>0?a.utm_stats.filter(Ae=>F.has(Ae.campaign||"none")):a.utm_stats;return G("medium",fe)},[G,a,F]),ft=W.useMemo(()=>{if(!a)return[];let fe=a.utm_stats;return F.size>0&&(fe=fe.filter(Ae=>F.has(Ae.campaign||"none"))),Y.size>0&&(fe=fe.filter(Ae=>Y.has(Ae.medium||"none"))),G("content",fe)},[G,a,F,Y]),Zt=W.useMemo(()=>a!=null&&a.daily_stats?a.daily_stats.map(fe=>({...fe})):[],[a==null?void 0:a.daily_stats,P]);if(n)return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:d.jsxs("div",{className:"flex flex-wrap gap-4 items-start justify-between",children:[d.jsxs("div",{className:"space-y-4 w-full lg:w-auto",children:[d.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-gray-700",children:"Fecha inicial"}),d.jsx("input",{type:"date",id:"start-date",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",readOnly:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-gray-700",children:"Fecha final"}),d.jsx("input",{type:"date",id:"end-date",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",readOnly:!0})]}),d.jsx("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white",disabled:!0,children:d.jsx(kc,{className:"h-4 w-4"})})]}),g&&d.jsx("div",{className:"text-sm text-red-600",children:g}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Q1.map(fe=>d.jsx("button",{className:"px-4 py-2 rounded-md text-sm font-medium transition-colors bg-gray-100 text-gray-500 border border-gray-200 cursor-not-allowed",disabled:!0,children:fe.label},fe.value))})]}),d.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-400 cursor-not-allowed",disabled:!0,children:[d.jsx(uv,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((fe,Ae)=>d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[d.jsx(Di,{height:20,width:150}),d.jsx(Di,{height:40,className:"mt-2"})]},Ae))}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:d.jsx(Di,{width:200})}),d.jsx("div",{className:"h-80",children:d.jsx(Di,{height:"100%"})})]}),d.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[d.jsx("div",{className:"px-4 py-5 sm:px-6",children:d.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:d.jsx(Di,{width:250})})}),d.jsx("div",{className:"border-t border-gray-200",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsx("tr",{children:["Campaa","Segmentacin","Anuncio","Visitas","Pagos Iniciados","Compras","Conversin","Persuasin"].map((fe,Ae)=>d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx(Di,{width:fe.length*8})},Ae))})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.from({length:5}).map((fe,Ae)=>d.jsx("tr",{children:Array.from({length:8}).map((Me,de)=>d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx(Di,{})},de))},Ae))})]})})})]})]});if(S)return d.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:d.jsx("p",{className:"text-red-500",children:S})});if(!a)return d.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:d.jsx("p",{className:"text-gray-500",children:"No hay datos disponibles"})});const Sr=a.total_purchases>0?a.total_revenue/a.total_purchases:0;return P?a.unique_visits>0&&a.total_revenue/a.unique_visits:a.total_visits>0&&a.total_revenue/a.total_visits,d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:d.jsxs("div",{className:"flex flex-wrap gap-4 items-start justify-between",children:[d.jsxs("div",{className:"space-y-4 w-full lg:w-auto",children:[d.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-gray-700",children:"Fecha inicial"}),d.jsx("input",{type:"date",id:"start-date",value:h,max:v,onChange:fe=>Q("start",fe.target.value),className:"mt-1 block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-gray-700",children:"Fecha final"}),d.jsx("input",{type:"date",id:"end-date",value:v,min:h,max:c(new Date),onChange:fe=>Q("end",fe.target.value),className:"mt-1 block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),d.jsx("button",{onClick:we,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",title:"Restablecer filtros",children:d.jsx(kc,{className:"h-4 w-4"})})]}),g&&d.jsx("div",{className:"text-sm text-red-600",children:g}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Q1.map(fe=>d.jsx("button",{onClick:()=>fe.value==="custom"?l("custom"):ie(fe.value),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${o===fe.value?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:fe.label},fe.value))})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("button",{onClick:De,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[d.jsx(uv,{className:"h-4 w-4 mr-2"}),"Exportar"]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:P,onChange:()=>U(!P),className:"sr-only peer"}),d.jsx("div",{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 
              peer-checked:after:translate-x-5 peer-checked:after:border-white after:content-[''] 
              after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 
              after:border after:rounded-full after:h-5 after:w-5 after:transition-all 
              peer-checked:bg-indigo-600`}),d.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:P?"nicos":"Totales"})]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:d.jsx($i,{className:"h-7 w-7 text-green-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Ingresos de Hoy"}),d.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["$",a.revenue_today.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:d.jsx(Sd,{className:"h-7 w-7 text-red-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Gasto Publicitario Hoy"}),d.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["$",a.ad_spend_today.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:d.jsx(lc,{className:"h-7 w-7 text-indigo-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ROAS Hoy"}),d.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[a.roas_today.toFixed(2),"x"]}),d.jsx("p",{className:"text-xs text-gray-400",children:a.roas_today>=3?" Excelente":a.roas_today>=2?" Bueno":" Mejorar"})]})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:d.jsx(lc,{className:"h-7 w-7 text-purple-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ROAS Total"}),d.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[a.roas.toFixed(2),"x"]}),d.jsx("p",{className:"text-xs text-gray-400",children:a.roas>=3?" Excelente":a.roas>=2?" Bueno":" Mejorar"})]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:d.jsx($i,{className:"h-7 w-7 text-blue-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Ingresos Totales"}),d.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["$",a.total_revenue.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:d.jsx(Sd,{className:"h-7 w-7 text-red-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Gasto Publicitario Total"}),d.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["$",a.total_ad_spend.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:d.jsx($i,{className:"h-7 w-7 text-purple-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Ingresos Prod. Principal"}),d.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["$",a.total_main_product_revenue.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:d.jsx($i,{className:"h-7 w-7 text-orange-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Ingresos Order Bump"}),d.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["$",a.total_order_bump_revenue.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[d.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-blue-100 rounded",children:d.jsx(La,{className:"h-6 w-6 text-blue-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsxs("p",{className:"text-sm font-medium text-gray-500",children:["Visitas ",P?"nicas":"Totales"]}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:P?a.unique_visits:a.total_visits})]})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-green-100 rounded",children:d.jsx(Eh,{className:"h-6 w-6 text-green-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsxs("p",{className:"text-sm font-medium text-gray-500",children:["Pagos Iniciados ",P?"nicos":"Totales"]}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:P?a.unique_clicks:a.total_clicks})]})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-purple-100 rounded",children:d.jsx($i,{className:"h-6 w-6 text-purple-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Compras"}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a.total_purchases})]})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-orange-100 rounded",children:d.jsx(fv,{className:"h-6 w-6 text-orange-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Order Bumps"}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a.total_order_bumps})]})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-yellow-100 rounded",children:d.jsx(WO,{className:"h-6 w-6 text-yellow-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tasa de Conversin"}),d.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[(P?a.unique_conversion_rate:a.conversion_rate).toFixed(2),"%"]})]})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-indigo-100 rounded",children:d.jsx(Dc,{className:"h-6 w-6 text-indigo-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tasa Order Bump"}),d.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[a.order_bump_rate.toFixed(2),"%"]})]})]})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[d.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[d.jsx(Dc,{className:"h-6 w-6 text-indigo-600 mr-3"}),"Rendimiento a lo largo del tiempo"]}),d.jsx("div",{className:"h-96",children:d.jsx(u6,{width:"100%",height:"100%",children:d.jsxs(hX,{data:Zt,margin:{top:20,right:30,left:0,bottom:5},children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"colorVisits",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.4}),d.jsx("stop",{offset:"95%",stopColor:"#FFFFFF",stopOpacity:.1})]}),d.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.4}),d.jsx("stop",{offset:"95%",stopColor:"#FFFFFF",stopOpacity:.1})]})]}),d.jsx(G2,{strokeDasharray:"3 3",vertical:!1}),d.jsx(Kf,{dataKey:"date",tick:{fontSize:12},axisLine:!1,tickLine:!1}),d.jsx(Al,{yAxisId:"left",tick:{fontSize:12},axisLine:!1,tickLine:!1}),d.jsx(Al,{yAxisId:"right",orientation:"right",tick:{fontSize:12},axisLine:!1,tickLine:!1,tickFormatter:fe=>`$${new Intl.NumberFormat("es-ES",{notation:"compact",compactDisplay:"short"}).format(fe)}`,children:d.jsx(Gt,{value:"Ingresos",angle:-90,position:"insideRight",style:{textAnchor:"middle",fill:"#6b7280"}})}),d.jsx(gn,{content:d.jsx(yie,{showUnique:P})}),d.jsx(Yi,{verticalAlign:"top",wrapperStyle:{top:-10}}),d.jsx(Ti,{yAxisId:"left",type:"monotone",dataKey:P?"unique_visits":"visits",name:`Visitas ${P?"nicas":"Totales"}`,fill:"url(#colorVisits)",stroke:"#3B82F6",strokeWidth:2}),d.jsx(In,{yAxisId:"left",type:"monotone",dataKey:P?"unique_clicks":"clicks",name:`Pagos Iniciados ${P?"nicos":"Totales"}`,stroke:"#10B981",strokeWidth:2,dot:!1}),d.jsx(In,{yAxisId:"left",type:"monotone",dataKey:"purchases",name:"Compras",stroke:"#8B5CF6",strokeWidth:2.5}),d.jsx(In,{yAxisId:"left",type:"monotone",dataKey:"order_bumps",name:"Order Bumps",stroke:"#F97316",strokeWidth:2.5}),d.jsx(In,{yAxisId:"right",type:"monotone",dataKey:"revenue",name:" Ingresos ($)",stroke:"#059669",strokeWidth:4,dot:{r:6,strokeWidth:3,fill:"#059669",stroke:"#fff"},activeDot:{r:8,strokeWidth:3,fill:"#059669",stroke:"#fff"},strokeDasharray:"none"}),d.jsx(In,{yAxisId:"right",type:"monotone",dataKey:"ad_spend",name:" Gasto Publicitario ($)",stroke:"#DC2626",strokeWidth:3,dot:{r:4,strokeWidth:2,fill:"#DC2626",stroke:"#fff"},activeDot:{r:6,strokeWidth:2,fill:"#DC2626",stroke:"#fff"},strokeDasharray:"5 5"})]})})})]}),d.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[d.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("button",{onClick:()=>H("resumen"),className:`px-4 py-2 text-sm font-medium ${q==="resumen"?"border-b-2 border-indigo-600 text-indigo-600":"text-gray-500"}`,children:"Resumen"}),d.jsx("button",{onClick:()=>H("detalle"),className:`px-4 py-2 text-sm font-medium ${q==="detalle"?"border-b-2 border-indigo-600 text-indigo-600":"text-gray-500"}`,children:"Tabla UTM"})]})}),q==="resumen"?d.jsxs("div",{className:"p-6 space-y-8 bg-gray-50",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[d.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[d.jsx(kb,{className:"h-6 w-6 text-indigo-600 mr-3"}),"Funnel de Conversin"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 bg-blue-100 rounded-lg w-16 h-16 flex items-center justify-center",children:d.jsx(La,{className:"w-8 h-8 text-blue-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-lg font-bold text-gray-900",children:P?a.unique_visits:a.total_visits}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Visitas ",P?"nicas":"Totales"]})]})]}),d.jsxs("div",{className:"ml-8 pl-1 flex items-center",style:{minHeight:"40px"},children:[d.jsx("div",{className:"w-px h-full bg-gray-300 mr-4"}),d.jsxs("div",{className:"text-xs text-blue-600 font-semibold bg-blue-50 px-2 py-1 rounded-full",children:[((P?a.unique_clicks:a.total_clicks)/(P?a.unique_visits:a.total_visits)*100).toFixed(1),"%"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-lg w-16 h-16 flex items-center justify-center",children:d.jsx(Eh,{className:"w-8 h-8 text-green-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-lg font-bold text-gray-900",children:P?a.unique_clicks:a.total_clicks}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Pagos Iniciados ",P?"nicos":"Totales"]})]})]}),d.jsxs("div",{className:"ml-8 pl-1 flex items-center",style:{minHeight:"40px"},children:[d.jsx("div",{className:"w-px h-full bg-gray-300 mr-4"}),d.jsxs("div",{className:"text-xs text-green-600 font-semibold bg-green-50 px-2 py-1 rounded-full",children:[(a.total_purchases/(P?a.unique_clicks:a.total_clicks)*100).toFixed(1),"%"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 bg-purple-100 rounded-lg w-16 h-16 flex items-center justify-center",children:d.jsx($i,{className:"w-8 h-8 text-purple-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-lg font-bold text-gray-900",children:a.total_purchases}),d.jsx("p",{className:"text-sm text-gray-500",children:"Compras"})]})]}),d.jsxs("div",{className:"ml-8 pl-1 flex items-center",style:{minHeight:"40px"},children:[d.jsx("div",{className:"w-px h-full bg-gray-300 mr-4"}),d.jsxs("div",{className:"text-xs text-emerald-600 font-semibold bg-emerald-50 px-2 py-1 rounded-full",children:["$",Sr.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})," / compra"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 bg-emerald-100 rounded-lg w-16 h-16 flex items-center justify-center",children:d.jsx(Dc,{className:"w-8 h-8 text-emerald-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",a.total_revenue.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),d.jsx("p",{className:"text-sm text-gray-500",children:"Ingresos Totales"})]})]}),d.jsxs("div",{className:"ml-8 pl-1 flex items-center",style:{minHeight:"40px"},children:[d.jsx("div",{className:"w-px h-full bg-red-300 mr-4"}),d.jsxs("div",{className:"text-xs text-red-600 font-semibold bg-red-50 px-2 py-1 rounded-full",children:["ROAS: ",a.roas.toFixed(2),"x"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 bg-red-100 rounded-lg w-16 h-16 flex items-center justify-center",children:d.jsx(Sd,{className:"w-8 h-8 text-red-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",a.total_ad_spend.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),d.jsx("p",{className:"text-sm text-gray-500",children:"Gasto Publicitario"})]})]})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border space-y-6",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Mtricas Clave"}),d.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-6",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ROAS Total"}),d.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[a.roas.toFixed(2),"x"]}),d.jsx("p",{className:"text-xs text-gray-400",children:a.roas>=3?" Excelente":a.roas>=2?" Bueno":" Mejorar"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Conversin General"}),d.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:[(P?a.unique_conversion_rate:a.conversion_rate).toFixed(2),"%"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Gasto / Visita (CPV)"}),d.jsxs("p",{className:"text-3xl font-bold text-red-600",children:["$",((P?a.unique_visits:a.total_visits)>0?a.total_ad_spend/(P?a.unique_visits:a.total_visits):0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Ingreso / Compra (AOV)"}),d.jsxs("p",{className:"text-3xl font-bold text-emerald-600",children:["$",Sr.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Beneficio Neto"}),d.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["$",(a.total_revenue-a.total_ad_spend).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Margen de Beneficio"}),d.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[(a.total_revenue>0?(a.total_revenue-a.total_ad_spend)/a.total_revenue*100:0).toFixed(2),"%"]})]})]})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[d.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[d.jsx(lc,{className:"h-6 w-6 text-purple-600 mr-3"}),"Anlisis de Rentabilidad"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-6 rounded-lg border border-purple-200",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ROAS por Perodo"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"ROAS Total:"}),d.jsxs("span",{className:`text-lg font-bold ${a.roas>=3?"text-green-600":a.roas>=2?"text-yellow-600":"text-red-600"}`,children:[a.roas.toFixed(2),"x"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"ROAS Hoy:"}),d.jsxs("span",{className:`text-lg font-bold ${a.roas_today>=3?"text-green-600":a.roas_today>=2?"text-yellow-600":"text-red-600"}`,children:[a.roas_today.toFixed(2),"x"]})]}),d.jsx("div",{className:"text-xs text-gray-500 mt-2",children:a.roas>=3?" Excelente rentabilidad":a.roas>=2?" Rentabilidad aceptable":" Revisar estrategia"})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-pink-50 p-6 rounded-lg border border-red-200",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Distribucin de Gastos"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Gasto Total:"}),d.jsxs("span",{className:"text-lg font-bold text-red-600",children:["$",a.total_ad_spend.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Gasto Hoy:"}),d.jsxs("span",{className:"text-lg font-bold text-red-600",children:["$",a.ad_spend_today.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"CPV (Costo/Visita):"}),d.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["$",((P?a.unique_visits:a.total_visits)>0?a.total_ad_spend/(P?a.unique_visits:a.total_visits):0).toFixed(2)]})]})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-lg border border-green-200",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Beneficios"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Beneficio Neto:"}),d.jsxs("span",{className:`text-lg font-bold ${a.total_revenue-a.total_ad_spend>=0?"text-green-600":"text-red-600"}`,children:["$",(a.total_revenue-a.total_ad_spend).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Margen:"}),d.jsxs("span",{className:`text-lg font-bold ${(a.total_revenue-a.total_ad_spend)/a.total_revenue*100>=0?"text-green-600":"text-red-600"}`,children:[(a.total_revenue>0?(a.total_revenue-a.total_ad_spend)/a.total_revenue*100:0).toFixed(1),"%"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"ROI:"}),d.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[(a.total_ad_spend>0?(a.total_revenue-a.total_ad_spend)/a.total_ad_spend*100:0).toFixed(1),"%"]})]})]})]})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[d.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[d.jsx(UO,{className:"h-6 w-6 text-yellow-500 mr-3"}),"Inteligencia de Campaas"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[d.jsx(So,{icon:d.jsx(lc,{className:"h-8 w-8 text-white"}),bgColor:"bg-purple-500",title:"ROAS Champions",description:"Campaas con mejor retorno de inversin. Duplicar presupuesto!",campaigns:Se.roasChampions,showUnique:P,metricType:"roas"}),d.jsx(So,{icon:d.jsx(fv,{className:"h-8 w-8 text-white"}),bgColor:"bg-green-500",title:"Mquinas de Dinero",description:"Campaas que ms ingresos generan. Escalar!",campaigns:Se.moneyMachines,showUnique:P,metricType:"revenue"}),d.jsx(So,{icon:d.jsx(LO,{className:"h-8 w-8 text-white"}),bgColor:"bg-sky-500",title:"Joyas Ocultas",description:"Campaas con el mayor valor por compra (AOV). Analizar!",campaigns:Se.hiddenGems,showUnique:P,metricType:"aov"}),d.jsx(So,{icon:d.jsx(rr,{className:"h-8 w-8 text-white"}),bgColor:"bg-amber-500",title:"Gigantes Cansados",description:"Atraen clicks pero no convierten. Optimizar landing/oferta!",campaigns:Se.leakyFaucets,showUnique:P,metricType:"clicks"}),d.jsx(So,{icon:d.jsx(XO,{className:"h-8 w-8 text-white"}),bgColor:"bg-red-500",title:"Agujeros Negros",description:"Atraen visitas pero no convierten. Revisar creativos!",campaigns:Se.wastedAdSpend,showUnique:P,metricType:"visits"})]})]})]}):d.jsxs("div",{className:"border-t border-gray-200 p-6",children:[d.jsxs("div",{className:"flex items-center space-x-2 border-b border-gray-200 mb-4",children:[d.jsxs("button",{onClick:()=>z("campaign"),className:`px-4 py-2 text-sm font-medium rounded-t-lg ${D==="campaign"?"bg-indigo-50 text-indigo-700 border-indigo-300 border-t border-l border-r":"text-gray-500 hover:text-gray-700"}`,children:["Campaas ",F.size>0&&d.jsxs("span",{className:"text-xs opacity-80",children:["(",F.size,")"]})]}),d.jsxs("button",{onClick:()=>z("medium"),className:`px-4 py-2 text-sm font-medium rounded-t-lg ${D==="medium"?"bg-indigo-50 text-indigo-700 border-indigo-300 border-t border-l border-r":"text-gray-500 hover:text-gray-700"}`,children:["Segmentacin ",Y.size>0&&d.jsxs("span",{className:"text-xs opacity-80",children:["(",Y.size,")"]})]}),d.jsx("button",{onClick:()=>z("content"),className:`px-4 py-2 text-sm font-medium rounded-t-lg ${D==="content"?"bg-indigo-50 text-indigo-700 border-indigo-300 border-t border-l border-r":"text-gray-500 hover:text-gray-700"}`,children:"Anuncios"}),(F.size>0||Y.size>0)&&d.jsxs("button",{onClick:Ce,className:"ml-auto text-sm font-medium text-indigo-600 hover:text-indigo-800 self-center pb-2 flex items-center gap-1",children:[d.jsx(kc,{className:"h-3 w-3"}),"Limpiar filtros"]})]}),D==="campaign"&&d.jsx(hh,{data:Pe,title:"Campaa",showUnique:P,selectedItems:F,onSelectionChange:Le}),D==="medium"&&d.jsx(hh,{data:Ge,title:"Segmentacin",showUnique:P,selectedItems:Y,onSelectionChange:xe}),D==="content"&&d.jsx(hh,{data:ft,title:"Anuncio",showUnique:P,selectedItems:new Set,onSelectionChange:()=>{}})]})]})]})}const So=({icon:e,bgColor:t,title:r,description:n,campaigns:i,showUnique:a,metricType:s})=>{const o=l=>{switch(s){case"revenue":return d.jsxs("span",{className:"font-bold text-base text-green-700",children:["$",(l.revenue||0).toLocaleString("es-ES",{maximumFractionDigits:0})]});case"aov":return d.jsxs("span",{className:"font-bold text-base text-sky-700",children:["$",(l.aov||0).toLocaleString("es-ES",{maximumFractionDigits:0})," AOV"]});case"clicks":return d.jsxs("span",{className:"font-bold text-base text-amber-700",children:[l.clicks," Clicks"]});case"visits":return d.jsxs("span",{className:"font-bold text-base text-red-700",children:[l.visits," Visitas"]});case"roas":return d.jsxs("span",{className:"font-bold text-base text-purple-700",children:[(l.roas||0).toFixed(2),"x ROAS"]});default:return null}};return d.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200 flex flex-col",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsx("div",{className:`p-3 rounded-lg ${t}`,children:e}),d.jsx("span",{className:"font-bold text-3xl text-gray-300",children:i.length})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:r}),d.jsx("p",{className:"text-xs text-gray-500 h-8",children:n})]}),d.jsx("div",{className:"mt-4 space-y-3 flex-grow",children:i.slice(0,3).map((l,c)=>d.jsxs("div",{className:"bg-white p-3 rounded-lg text-xs border border-gray-200",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"inline-block w-20 text-center bg-blue-100 text-blue-800 text-[10px] font-semibold mr-2 px-2 py-0.5 rounded-full",children:"CAMPAA"}),d.jsx("p",{className:"font-medium text-gray-700 truncate",title:l.campaign,children:l.campaign})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"inline-block w-20 text-center bg-green-100 text-green-800 text-[10px] font-semibold mr-2 px-2 py-0.5 rounded-full",children:"CONJUNTO"}),d.jsx("p",{className:"text-gray-600 truncate",title:l.medium,children:l.medium})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"inline-block w-20 text-center bg-purple-100 text-purple-800 text-[10px] font-semibold mr-2 px-2 py-0.5 rounded-full",children:"ANUNCIO"}),d.jsx("p",{className:"text-gray-600 truncate",title:l.content,children:l.content})]})]}),d.jsxs("div",{className:"flex justify-between items-center text-gray-600 mt-2 pt-2 border-t border-gray-100",children:[d.jsx("span",{className:"font-medium text-sm",children:l.purchases>0?`${l.purchases} compras`:`${a?l.unique_visits:l.visits} visitas`}),o(l)]})]},c))}),i.length===0&&d.jsx("div",{className:"flex-grow flex items-center justify-center",children:d.jsx("p",{className:"text-sm text-gray-400",children:"No hay campaas aqu."})})]})},dh=(e,t,r)=>{if(r===t||!isFinite(e))return"bg-gray-100 text-gray-800";const n=(e-t)/(r-t);return n<.15?"bg-red-100 text-red-800":n<.75?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"},wie=({onApply:e,onClear:t})=>{const[r,n]=W.useState(">"),[i,a]=W.useState(""),s=()=>{i&&e(r,i)};return d.jsxs("div",{className:"absolute top-full mt-2 right-0 bg-white p-4 rounded-lg shadow-2xl border z-10 w-56 space-y-3",children:[d.jsx("h4",{className:"text-sm font-bold text-gray-800",children:"Filtrar Mtrica"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("select",{value:r,onChange:o=>n(o.target.value),className:"block w-1/3 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[d.jsx("option",{value:">",children:">"}),d.jsx("option",{value:"<",children:"<"}),d.jsx("option",{value:"=",children:"="})]}),d.jsx("input",{type:"number",placeholder:"Valor",value:i,onChange:o=>a(o.target.value),className:"block w-2/3 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("button",{onClick:()=>{t(),a("")},className:"text-xs text-gray-500 hover:text-gray-700",children:"Limpiar"}),d.jsx("button",{onClick:s,className:"text-xs bg-indigo-600 text-white px-3 py-1 rounded-md hover:bg-indigo-700",children:"Aplicar"})]})]})};function hh({data:e,title:t,showUnique:r,selectedItems:n,onSelectionChange:i}){const[a,s]=W.useState("revenue"),[o,l]=W.useState("desc"),[c,u]=W.useState(""),[f,h]=W.useState({}),[p,v]=W.useState(null),m=_=>{_===a?l(o==="asc"?"desc":"asc"):(s(_),l("desc"))},{tableData:g,minMaxValues:y}=W.useMemo(()=>{const _=(P,U)=>{switch(U){case"visits":return r?P.unique_visits:P.visits;case"clicks":return r?P.unique_clicks:P.clicks;case"purchases":return P.purchases;case"revenue":return P.revenue;case"ad_spend":return P.ad_spend;case"roas":return P.roas;case"conversion_rate":return r?P.unique_conversion_rate:P.conversion_rate;case"persuasion_rate":return r?P.unique_persuasion_rate:P.persuasion_rate;case"checkout_conversion_rate":return r?P.unique_checkout_conversion_rate:P.checkout_conversion_rate;default:return P[U]}},A=e.filter(P=>{if(c&&!P.name.toLowerCase().includes(c.toLowerCase()))return!1;for(const U in f){const q=f[U];if(!q)continue;const H=_(P,U);if(q.op===">"&&!(H>q.val)||q.op==="<"&&!(H<q.val)||q.op==="="&&H!=q.val)return!1}return!0}),C=["persuasion_rate","conversion_rate","checkout_conversion_rate","roas"].reduce((P,U)=>{const q=A.map(H=>_(H,U)).filter(H=>typeof H=="number"&&isFinite(H));return P[U]={min:q.length>0?Math.min(...q):0,max:q.length>0?Math.max(...q):0},P},{}),j=[...A];return j.sort((P,U)=>{const q=_(P,a),H=_(U,a),Z=o==="asc"?1:-1;return typeof q=="number"&&typeof H=="number"?(q-H)*Z:String(q).localeCompare(String(H))*Z}),{tableData:j,minMaxValues:C}},[e,a,o,r,c,f]),b=_=>{const A=new Set(n);A.has(_)?A.delete(_):A.add(_),i(A)},x=(_,A,O)=>{const C=parseFloat(O);isNaN(C)||h(j=>({...j,[_]:{op:A,val:C}})),v(null)},E=_=>{h(A=>{const O={...A};return delete O[_],O}),v(null)},w=()=>{n.size===g.length?i(new Set):i(new Set(g.map(_=>_.name)))},S=({field:_,label:A,align:O="right"})=>{const C=!!f[_];return d.jsx("th",{scope:"col",className:`px-3 py-3 text-${O} text-xs font-medium text-gray-500 uppercase tracking-wider`,children:d.jsxs("div",{className:"flex items-center gap-2",style:{justifyContent:O},children:[d.jsxs("button",{onClick:()=>m(_),className:"group inline-flex items-center space-x-1 hover:text-gray-900",children:[d.jsx("span",{className:C?"text-indigo-600":"",children:A}),d.jsx(cv,{className:`h-4 w-4 ${a===_?"text-gray-900":C?"text-indigo-400":"text-gray-400 group-hover:text-gray-500"}`})]}),d.jsxs("div",{className:"relative",children:[d.jsx("button",{onClick:()=>v(p===_?null:_),children:d.jsx(kb,{className:`h-4 w-4 ${C?"text-indigo-600":"text-gray-400 hover:text-gray-700"}`})}),p===_&&d.jsx(wie,{onApply:(j,P)=>x(_,j,P),onClear:()=>E(_)})]})]})})};return d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"pl-4 pr-3 py-3 text-left",children:d.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",checked:g.length>0&&n.size===g.length,onChange:w})}),d.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>m("name"),className:"group inline-flex items-center space-x-1 hover:text-gray-900",children:[d.jsx("span",{children:t}),d.jsx(cv,{className:`h-4 w-4 ${a==="name"?"text-gray-900":"text-gray-400 group-hover:text-gray-500"}`})]}),d.jsx("input",{type:"text",placeholder:"Buscar...",value:c,onChange:_=>u(_.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-xs p-1.5"})]})}),d.jsx(S,{field:"visits",label:"Visitas"}),d.jsx(S,{field:"clicks",label:"Pagos Iniciados"}),d.jsx(S,{field:"persuasion_rate",label:"Persuasin"}),d.jsx(S,{field:"purchases",label:"Compras"}),d.jsx(S,{field:"revenue",label:"Ingresos"}),d.jsx(S,{field:"ad_spend",label:"Gasto Pub."}),d.jsx(S,{field:"roas",label:"ROAS"}),d.jsx(S,{field:"conversion_rate",label:"Conversin"}),d.jsx(S,{field:"checkout_conversion_rate",label:"Conv. Checkout"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((_,A)=>d.jsxs("tr",{className:`hover:bg-gray-100 cursor-pointer ${n.has(_.name)?"bg-indigo-50":""}`,onClick:()=>b(_.name),children:[d.jsx("td",{className:"px-6 py-4",children:d.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",checked:n.has(_.name),readOnly:!0})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.name}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-medium text-right",children:r?_.unique_visits:_.visits}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-medium text-right",children:r?_.unique_clicks:_.clicks}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:d.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${dh(r?_.unique_persuasion_rate:_.persuasion_rate,y.persuasion_rate.min,y.persuasion_rate.max)}`,children:[(r?_.unique_persuasion_rate:_.persuasion_rate).toFixed(2),"%"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-medium text-right",children:_.purchases}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-bold text-right",children:["$",(_.revenue||0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-bold text-right",children:["$",(_.ad_spend||0).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:d.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${(_.roas||0)>=3?"bg-green-100 text-green-800":(_.roas||0)>=2?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[(_.roas||0).toFixed(2),"x"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:d.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${dh(r?_.unique_conversion_rate:_.conversion_rate,y.conversion_rate.min,y.conversion_rate.max)}`,children:[(r?_.unique_conversion_rate:_.conversion_rate).toFixed(2),"%"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:d.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${dh(r?_.unique_checkout_conversion_rate:_.checkout_conversion_rate,y.checkout_conversion_rate.min,y.checkout_conversion_rate.max)}`,children:[(r?_.unique_checkout_conversion_rate:_.checkout_conversion_rate).toFixed(2),"%"]})})]},A))})]})})}function _ie(){const{id:e}=vA(),[t]=gA(),{user:r}=Xn(),n=Ps(),[i,a]=W.useState(null),[s,o]=W.useState(null),[l,c]=W.useState(""),[u,f]=W.useState(""),[h,p]=W.useState(""),[v,m]=W.useState(!1),[g,y]=W.useState(""),[b,x]=W.useState(!0),[E,w]=W.useState("setup"),[S,_]=W.useState(1),[A,O]=W.useState(!1),[C,j]=W.useState(""),[P,U]=W.useState(!1),[q,H]=W.useState(null),[Z,te]=W.useState(null),[se,oe]=W.useState([]),[me,_e]=W.useState(new Set),[D,z]=W.useState([]),[F,B]=W.useState(!1);W.useEffect(()=>{t.get("tab")==="analytics"&&w("analytics")},[t]),W.useEffect(()=>{r&&e&&(Y(),xe(),be())},[e,r]),W.useEffect(()=>{i!=null&&i.id&&Q()},[i]);async function Y(){if(!(!e||!r))try{x(!0),y("");const{data:G}=await Re.from("users").select("role").eq("id",r.id).single(),{data:Pe,error:Ge}=await Re.from("products").select("*").eq("id",e).single();if(Ge||!Pe)throw new Error("Producto no encontrado");if(Pe.user_id!==r.id&&(G==null?void 0:G.role)!=="admin")throw new Error("No tienes acceso a este producto");a(Pe),j(Pe.name),c(Pe.fb_pixel_id||""),f(Pe.fb_access_token||""),p(Pe.fb_test_event_code||"")}catch(G){console.error("Error loading product:",G),y(G instanceof Error?G.message:"Error cargando el producto")}finally{x(!1)}}async function xe(){if(!(!e||!r))try{const{data:G,error:Pe}=await Re.from("product_integrations").select("*").eq("product_id",e).eq("provider","meta").eq("status","active").single();!Pe&&G&&H(G)}catch(G){console.error("Error loading Meta integration:",G)}}async function be(){if(r)try{const{data:G,error:Pe}=await Re.from("user_integrations").select("*").eq("user_id",r.id).eq("provider","meta").eq("status","active").single();if(!Pe&&G){te(G);const{data:Ge,error:ft}=await Re.from("meta_ad_accounts").select("*").eq("user_integration_id",G.id).eq("status","active");!ft&&Ge&&oe(Ge)}}catch(G){console.error("Error loading user ad accounts:",G)}}async function Q(){if(i!=null&&i.id)try{const{data:G,error:Pe}=await Re.from("product_ad_accounts").select(`
          ad_account_id,
          meta_ad_accounts!inner(id, name, status)
        `).eq("product_id",i.id);if(!Pe&&G){const Ge=G.map(ft=>ft.meta_ad_accounts).flat();z(Ge),_e(new Set(Ge.map(ft=>ft.id)))}}catch(G){console.error("Error loading product ad accounts:",G)}}async function ie(){if(!(!e||!r||!C.trim())){m(!0),y("");try{const{error:G}=await Re.from("products").update({name:C.trim()}).eq("id",e).eq("user_id",r.id);if(G)throw G;await Y(),O(!1)}catch(G){console.error("Error updating product name:",G),y("Error al actualizar el nombre del producto")}finally{m(!1)}}}async function we(){if(!(!e||!r)){m(!0),y("");try{const{error:G}=await Re.from("tracking_events").delete().eq("product_id",e);G&&console.error("Error deleting tracking events:",G);const{error:Pe}=await Re.from("hotmart_clicks").delete().eq("product_id",e);Pe&&console.error("Error deleting hotmart clicks:",Pe);const{error:Ge}=await Re.from("products").delete().eq("id",e).eq("user_id",r.id);if(Ge)throw Ge;n("/")}catch(G){console.error("Error deleting product:",G);let Pe="Error al eliminar el producto";G instanceof Error&&(G.message.includes("foreign key constraint")?Pe="No se puede eliminar el producto porque tiene datos asociados. Contacte al soporte tcnico.":Pe=G.message),y(Pe),m(!1)}}}async function ee(){if(!(!e||!r)){B(!0),y("");try{if(await Re.from("product_ad_accounts").delete().eq("product_id",e),me.size>0){const G=Array.from(me).map(Ge=>({product_id:e,ad_account_id:Ge})),{error:Pe}=await Re.from("product_ad_accounts").insert(G);if(Pe)throw Pe}await Q()}catch(G){console.error("Error saving ad accounts:",G),y("Error al guardar las cuentas publicitarias")}finally{B(!1)}}}async function De(G){if(G.preventDefault(),!(!e||!r)){m(!0),y("");try{const{error:Pe}=await Re.from("products").update({fb_pixel_id:l,fb_access_token:u,fb_test_event_code:h}).eq("id",e).eq("user_id",r.id);if(Pe)throw Pe;await Y(),_(2)}catch(Pe){console.error("Error saving Facebook config:",Pe),y("Error al guardar la configuracin de Facebook")}finally{m(!1)}}}function Se(){return`${window.location.origin}/api/hotmart/webhook`}function Le(){return i?`<!-- Script de Seguimiento -->
<script>
(function() {
  var t = document.createElement('script');
  t.async = true;
  t.src = '${window.location.origin}/track.js';
  t.setAttribute('data-tracking-id', '${i.tracking_id}');
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(t, s);
  window._lt = window._lt || [];
  window._lt.push(['init', '${i.tracking_id}']);
})();
<\/script>
<!-- Fin del Script de Seguimiento -->

${i.fb_pixel_id?`<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '${i.fb_pixel_id}');
fbq('track', 'PageView');
<\/script>
<noscript>
  <img height="1" width="1" style="display:none" 
       src="https://www.facebook.com/tr?id=${i.fb_pixel_id}&ev=PageView&noscript=1"/>
</noscript>
<!-- End Meta Pixel Code -->`:""}`:""}function Ce(G,Pe){navigator.clipboard.writeText(G),o(Pe),setTimeout(()=>o(null),2e3)}return b?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):g||!i?d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(rr,{className:"h-5 w-5 text-red-400"})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("p",{className:"text-sm text-red-700",children:g||"Error cargando el producto"}),d.jsx(bn,{to:"/",className:"mt-2 text-sm text-red-700 underline",children:"Volver al inicio"})]})]})})}):d.jsxs("div",{className:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[d.jsxs(bn,{to:"/",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[d.jsx(Cb,{className:"h-4 w-4 mr-2"}),"Volver al Dashboard"]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[A?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"text",value:C,onChange:G=>j(G.target.value),className:"border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),d.jsx("button",{onClick:ie,disabled:v,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:v?"Guardando...":"Guardar"}),d.jsx("button",{onClick:()=>{O(!1),j(i.name)},className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancelar"})]}):d.jsxs("div",{className:"flex items-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mr-3",children:i.name}),d.jsx("button",{onClick:()=>O(!0),className:"p-1 text-gray-400 hover:text-gray-600",title:"Editar nombre",children:d.jsx(HO,{className:"h-4 w-4"})})]}),d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i.active?"Activo":"Inactivo"}),d.jsx("button",{onClick:()=>U(!0),className:"inline-flex items-center px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50",title:"Eliminar producto",children:d.jsx(GO,{className:"h-4 w-4"})})]})]}),P&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ests seguro de que quieres eliminar este producto?"}),d.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Esta accin no se puede deshacer. Se eliminarn todos los datos asociados al producto (eventos de tracking, clicks de Hotmart, etc.)."}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsx("button",{onClick:()=>U(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancelar"}),d.jsx("button",{onClick:we,disabled:v,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:v?"Eliminando...":"Eliminar"})]})]})}),d.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsxs("nav",{className:"-mb-px flex","aria-label":"Tabs",children:[d.jsxs("button",{onClick:()=>w("setup"),className:`${E==="setup"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/2 py-4 px-1 text-center border-b-2 font-medium text-sm flex items-center justify-center`,children:[d.jsx(yd,{className:"h-4 w-4 mr-2"}),"Gua de Instalacin"]}),d.jsxs("button",{onClick:()=>w("analytics"),className:`${E==="analytics"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/2 py-4 px-1 text-center border-b-2 font-medium text-sm flex items-center justify-center`,children:[d.jsx(BO,{className:"h-4 w-4 mr-2"}),"Analytics"]})]})}),E==="setup"?d.jsx("div",{className:"px-4 py-5 sm:px-6",children:d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:d.jsx("div",{className:"w-full border-t border-gray-200"})}),d.jsx("div",{className:"relative flex justify-between",children:[{step:1,title:"Facebook",icon:d.jsx(Hi,{className:"h-4 w-4"})},{step:2,title:"Script",icon:d.jsx(yd,{className:"h-4 w-4"})},{step:3,title:"Meta",icon:d.jsx(Hi,{className:"h-4 w-4"})},{step:4,title:"Hotmart",icon:d.jsx(dv,{className:"h-4 w-4"})},{step:5,title:"UTMs",icon:d.jsx(wd,{className:"h-4 w-4"})}].map(({step:G,title:Pe,icon:Ge})=>d.jsxs("button",{onClick:()=>_(G),className:`${S===G?"border-indigo-500 bg-indigo-600 text-white":S>G?"border-indigo-500 bg-indigo-100 text-indigo-500":"border-gray-200 bg-white text-gray-500"} relative w-24 h-24 rounded-full border-2 flex flex-col items-center justify-center text-sm font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`,children:[d.jsx("div",{className:`mb-1 ${S===G?"text-white":""}`,children:Ge}),d.jsx("span",{className:`text-xs ${S===G?"text-white":"text-gray-500"}`,children:Pe}),d.jsx("span",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 w-6 h-6 rounded-full bg-indigo-600 text-white flex items-center justify-center text-xs",children:G})]},G))})]}),d.jsxs("div",{className:"mt-12",children:[S===1&&d.jsx("div",{className:"space-y-6",children:d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[d.jsx(Hi,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Configurar Facebook Pixel"]}),d.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[d.jsx("p",{className:"mb-4",children:"Para rastrear las conversiones de tus ventas en Facebook Ads, necesitas configurar el Pixel:"}),d.jsxs("ol",{className:"list-decimal list-inside space-y-3",children:[d.jsxs("li",{children:["Accede a tu ",d.jsxs("a",{href:"https://business.facebook.com/events_manager",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-500",children:["Events Manager ",d.jsx(No,{className:"h-3 w-3 inline"})]})]}),d.jsx("li",{children:"Crea un nuevo Pixel o selecciona uno existente"}),d.jsx("li",{children:"Copia el ID del Pixel y el Token de Acceso"})]})]}),d.jsx("div",{className:"mt-6",children:d.jsxs("form",{onSubmit:De,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"fbPixelId",className:"block text-sm font-medium text-gray-700",children:"ID del Pxel"}),d.jsx("input",{type:"text",id:"fbPixelId",value:l,onChange:G=>c(G.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Ej: 123456789012345",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"fbAccessToken",className:"block text-sm font-medium text-gray-700",children:"Token de Acceso"}),d.jsx("input",{type:"text",id:"fbAccessToken",value:u,onChange:G=>f(G.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Ej: EAAxxxxx...",required:!0}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Encuentra esto en Events Manager  Configuracin  Token de Acceso"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"fbTestEventCode",className:"block text-sm font-medium text-gray-700",children:"Cdigo de TEST EVENT (opcional)"}),d.jsx("input",{type:"text",id:"fbTestEventCode",value:h,onChange:G=>p(G.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Ej: TEST123"}),d.jsx("div",{className:"mt-2 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:d.jsxs("div",{className:"flex items-center text-yellow-800",children:[d.jsx(rr,{className:"h-5 w-5 mr-2 text-yellow-600"}),d.jsxs("p",{className:"text-xs",children:["Este TEST EVENT es temporal y sirve nicamente para verificar la correcta llegada de eventos API al pixel.",d.jsx("span",{className:"ml-1 font-bold text-red-600",children:"Debes eliminarlo antes de comenzar a recibir ventas reales."})]})]})})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx("button",{type:"submit",disabled:v,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:v?"Guardando...":"Guardar y Continuar"})})]})})]})})}),S===2&&d.jsx("div",{className:"space-y-6",children:d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[d.jsx(yd,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Instalar Script de Seguimiento"]}),d.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[d.jsx("p",{className:"mb-4",children:"Para comenzar a rastrear las visitas y conversiones, agrega este cdigo a tu pgina de venta:"}),d.jsxs("ol",{className:"space-y-4",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"bg-indigo-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 flex-shrink-0",children:"1"}),d.jsx("span",{className:"text-gray-700",children:"Accede al editor de tu pgina de venta"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"bg-indigo-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 flex-shrink-0",children:"2"}),d.jsxs("div",{className:"text-gray-700",children:["Debes instalar este script en el ",d.jsx("code",{className:"bg-gray-100 px-2 py-0.5 rounded text-indigo-600 font-mono",children:"</HEAD>"})," de la pgina",d.jsxs("div",{className:"mt-2 bg-amber-50 border border-amber-200 rounded-lg p-4 text-amber-800",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(rr,{className:"h-5 w-5 mr-2 text-amber-500"}),d.jsx("span",{className:"font-semibold",children:"IMPORTANTE"})]}),d.jsx("p",{className:"mt-1",children:"Asegrate de borrar cualquier script de trackeo anterior relacionado con Hotmart. Tambin quita el pixel de Facebook de la pgina, nuestro script lo dispara automticamente."})]})]})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"bg-indigo-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 flex-shrink-0",children:"3"}),d.jsxs("div",{className:"text-gray-700",children:["Pega el siguiente cdigo justo antes de esa etiqueta",d.jsxs("div",{className:"mt-2 bg-red-50 border border-red-200 rounded-lg p-4 text-red-800",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(rr,{className:"h-5 w-5 mr-2 text-red-500"}),d.jsx("span",{className:"font-semibold",children:"ATENCIN!"})]}),d.jsx("p",{className:"mt-1",children:"Si cambias el pixel por algn motivo, debers volver a esta pantalla, copiar e instalar nuevamente EL SCRIPT COMPLETO en tu pgina de venta."})]})]})]})]})]}),d.jsxs("div",{className:"relative mt-4",children:[d.jsx("pre",{className:"bg-gray-800 text-white p-4 rounded-lg text-sm overflow-x-auto",children:Le()}),d.jsx("button",{onClick:()=>Ce(Le(),"script"),className:"absolute top-2 right-2 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-indigo-500",children:s==="script"?d.jsxs(d.Fragment,{children:[d.jsx(zi,{className:"h-4 w-4 mr-1"}),"Copiado!"]}):d.jsxs(d.Fragment,{children:[d.jsx(bd,{className:"h-4 w-4 mr-1"}),"Copiar Script"]})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("button",{onClick:()=>_(1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Anterior"}),d.jsx("button",{onClick:()=>_(3),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Siguiente: Seleccionar Cuenta Publicitaria"})]})]})})}),S===3&&d.jsx("div",{className:"space-y-6",children:d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[d.jsx(Hi,{className:"h-5 w-5 mr-2 text-blue-600"}),"Seleccionar Cuenta Publicitaria de Meta (Opcional)"]}),d.jsx("div",{className:"mt-2 text-sm text-gray-500",children:d.jsx("p",{className:"mb-4",children:"Asocia una cuenta publicitaria especfica a este producto para rastrear el gasto publicitario y calcular el ROAS automticamente."})}),Z?d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx(zi,{className:"h-5 w-5 text-green-400 mt-0.5"}),d.jsxs("div",{className:"ml-3 flex-1",children:[d.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Meta conectado"}),d.jsxs("div",{className:"mt-1 text-sm text-green-700",children:[d.jsxs("p",{children:["Tienes ",se.length," cuenta(s) publicitaria(s) disponible(s)"]}),d.jsxs("p",{className:"text-xs",children:["Conectado el ",new Date(Z.created_at).toLocaleDateString()]})]})]})]})}),se.length>0?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Selecciona las cuentas publicitarias para este producto:"}),d.jsx("button",{type:"button",onClick:async()=>{if(!(!r||!Z)){B(!0);try{(await(await fetch("/api/meta/refresh-ad-accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r.id,integrationId:Z.id})})).json()).success&&await be()}catch(G){console.error("Error refreshing ad accounts:",G)}finally{B(!1)}}},disabled:F,className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",title:"Actualizar lista de cuentas publicitarias",children:F?d.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}):d.jsxs(d.Fragment,{children:[d.jsx("svg",{className:"h-3 w-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Actualizar"]})})]}),d.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto border border-gray-200 rounded-lg p-4",children:se.map(G=>{const Pe=me.has(G.id),Ge=D.some(ft=>ft.id===G.id);return d.jsxs("div",{className:`
                                            flex items-center justify-between p-3 rounded-lg border-2 cursor-pointer transition-all duration-200
                                            ${Pe?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white hover:border-gray-300 hover:bg-gray-50"}
                                          `,onClick:()=>{const ft=new Set(me);Pe?ft.delete(G.id):ft.add(G.id),_e(ft)},children:[d.jsxs("div",{className:"flex items-center flex-1",children:[d.jsx("input",{type:"checkbox",checked:Pe,onChange:()=>{},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),d.jsxs("div",{className:"ml-3 flex-1",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-900",children:G.name}),d.jsx("p",{className:"text-xs text-gray-500",children:G.id})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[Ge&&d.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Activa"}),d.jsx("span",{className:`
                                              inline-flex items-center px-2 py-1 rounded-full text-xs font-medium
                                              ${G.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                                            `,children:G.status==="active"?"Disponible":"Inactiva"})]})]},G.id)})}),d.jsxs("div",{className:"flex items-center justify-between mt-4",children:[d.jsxs("p",{className:"text-sm text-gray-500",children:[me.size," de ",se.length," cuentas seleccionadas"]}),d.jsx("button",{onClick:ee,disabled:F,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:F?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Guardando..."]}):"Guardar Seleccin"})]})]}),D.length>0&&d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx(wd,{className:"h-5 w-5 text-blue-400 mt-0.5"}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h5",{className:"text-sm font-medium text-blue-900",children:"Cuentas activas para este producto:"}),d.jsx("div",{className:"mt-2 space-y-1",children:D.map(G=>d.jsxs("p",{className:"text-sm text-blue-700",children:[" ",G.name," (",G.id,")"]},G.id))})]})]})}),d.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[d.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:" Beneficios de conectar una cuenta publicitaria:"}),d.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[d.jsx("li",{children:" Seguimiento automtico del gasto publicitario"}),d.jsx("li",{children:" Clculo de ROAS (Retorno de Inversin Publicitaria) en tiempo real"}),d.jsx("li",{children:" Reportes consolidados de rendimiento"}),d.jsx("li",{children:" Alertas cuando el ROAS baja de cierto umbral"})]})]})]}):d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx(rr,{className:"h-5 w-5 text-yellow-400 mt-0.5"}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"No hay cuentas publicitarias disponibles"}),d.jsx("p",{className:"mt-1 text-sm text-yellow-700",children:"Es posible que Meta an no haya aprobado los permisos de ads_read para tu aplicacin, o no tengas cuentas publicitarias activas."})]})]})})]}):d.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx(rr,{className:"h-5 w-5 text-orange-400 mt-0.5"}),d.jsxs("div",{className:"ml-3 flex-1",children:[d.jsx("h3",{className:"text-sm font-medium text-orange-800",children:"Conecta primero tu cuenta de Meta"}),d.jsxs("div",{className:"mt-2 text-sm text-orange-700",children:[d.jsx("p",{children:"Para poder seleccionar cuentas publicitarias, necesitas conectar tu cuenta de Meta primero."}),d.jsxs("p",{className:"mt-2",children:["Ve a"," ",d.jsx(bn,{to:"/settings",className:"font-medium text-orange-800 underline hover:text-orange-900",children:"Configuracin  Integracin con Meta"})," ","y conecta tu cuenta."]})]})]})]})}),d.jsxs("div",{className:"flex justify-between mt-6",children:[d.jsx("button",{onClick:()=>_(2),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Anterior"}),d.jsx("button",{onClick:()=>_(4),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Siguiente: Configurar Hotmart"})]})]})})}),S===4&&d.jsx("div",{className:"space-y-6",children:d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[d.jsx(dv,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Configurar Webhook en Hotmart"]}),d.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[d.jsx("p",{className:"mb-4",children:"Para recibir notificaciones de ventas en tiempo real, configura el webhook en Hotmart:"}),d.jsxs("ol",{className:"list-decimal list-inside space-y-3",children:[d.jsxs("li",{children:["Accede a tu ",d.jsxs("a",{href:"https://app-vlc.hotmart.com/",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-500",children:["Panel de Hotmart ",d.jsx(No,{className:"h-3 w-3 inline"})]})]}),d.jsx("li",{children:"Ve a la configuracin de tu producto"}),d.jsx("li",{children:'Busca la seccin de "Notificaciones" o "Webhooks"'}),d.jsxs("li",{children:["Agrega esta URL como nuevo webhook:",d.jsx("div",{className:"mt-2 rounded-lg border border-red-200 bg-red-50 p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(rr,{className:"h-5 w-5 text-red-400"})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Aviso Importante!"}),d.jsx("div",{className:"mt-2 text-sm text-red-700",children:"Elimina el pixel del producto en Hotmart. Nuestro sistema lo dispara automticamente en pagos iniciados y compras."})]})]})})]})]})]}),d.jsx("div",{className:"mt-4",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("code",{className:"bg-gray-100 px-3 py-2 rounded-md flex-grow text-sm",children:Se()}),d.jsx("button",{onClick:()=>Ce(Se(),"webhook"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s==="webhook"?d.jsxs(d.Fragment,{children:[d.jsx(zi,{className:"h-4 w-4 text-green-500 mr-2"}),"Copiado!"]}):d.jsxs(d.Fragment,{children:[d.jsx(bd,{className:"h-4 w-4 text-gray-500 mr-2"}),"Copiar URL"]})})]})}),d.jsxs("div",{className:"mt-6 text-sm text-gray-500",children:[d.jsx("p",{className:"mb-2",children:d.jsx("strong",{children:"Configuracin del webhook:"})}),d.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Evento:"}),' Selecciona el evento "PURCHASE_APPROVED" para recibir notificaciones solo cuando las compras sean aprobadas.']}),d.jsx("li",{children:d.jsx("strong",{children:"Versin: 2"})})]})]}),d.jsxs("div",{className:"mt-6 flex justify-between",children:[d.jsx("button",{onClick:()=>_(3),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Anterior"}),d.jsx("button",{onClick:()=>_(5),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Siguiente: Configurar UTM"})]})]})})}),S===5&&d.jsx("div",{className:"space-y-6",children:d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[d.jsx(wd,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Configuracin de UTMs en los Links de Facebook Ads"]}),d.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[d.jsx("p",{className:"mb-4",children:"Para rastrear correctamente las conversiones provenientes de Facebook Ads, es esencial que todos los enlaces a tu pgina de ventas contengan los parmetros UTM."}),d.jsx("p",{className:"mb-4",children:"Facebook Ads ofrece parmetros dinmicos que facilitan la asignacin automtica de nombres a las UTMs basndose en la informacin de tu anuncio."}),d.jsx("h5",{className:"text-md font-medium text-gray-700 mb-2",children:"Cmo Configurar:"}),d.jsxs("ol",{className:"list-decimal list-inside space-y-3",children:[d.jsx("li",{children:"Accede a tu cuenta de Facebook Ads y selecciona los anuncios deseados."}),d.jsx("li",{children:'Haz clic en "Editar" y localiza el campo "URL del sitio web" y pon esto al final:'})]})]}),d.jsx("div",{className:"mt-4",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("code",{className:"bg-gray-100 px-3 py-2 rounded-md flex-grow text-sm",children:"?utm_campaign={{campaign.name}}&utm_source={{placement}}&utm_medium={{adset.name}}&utm_content={{ad.name}}&utm_term={{site_source_name}}"}),d.jsx("button",{onClick:()=>Ce("?utm_campaign={{campaign.name}}&utm_source={{placement}}&utm_medium={{adset.name}}&utm_content={{ad.name}}&utm_term={{site_source_name}}","utm"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s==="utm"?d.jsxs(d.Fragment,{children:[d.jsx(zi,{className:"h-4 w-4 text-green-500 mr-2"}),"Copiado!"]}):d.jsxs(d.Fragment,{children:[d.jsx(bd,{className:"h-4 w-4 text-gray-500 mr-2"}),"Copiar UTMs"]})})]})}),d.jsxs("div",{className:"mt-6 text-sm text-gray-500",children:[d.jsx("p",{className:"mb-2",children:d.jsx("strong",{children:"Consejo:"})}),d.jsx("h5",{className:"text-md font-medium text-gray-700 mt-4",children:"Entiende los Parmetros Dinmicos:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[d.jsxs("li",{children:[d.jsx("code",{className:"inline-block bg-gray-100 px-2 py-1 rounded-md text-sm",children:"{{ placement }}"}),": Posicionamiento del anuncio (Facebook_Feed, Instagram_Stories, etc.)"]}),d.jsxs("li",{children:[d.jsx("code",{className:"inline-block bg-gray-100 px-2 py-1 rounded-md text-sm",children:"{{ ad.name }}"}),": Nombre del anuncio"]}),d.jsxs("li",{children:[d.jsx("code",{className:"inline-block bg-gray-100 px-2 py-1 rounded-md text-sm",children:"{{ adset.name }}"}),": Nombre del conjunto de anuncios"]}),d.jsxs("li",{children:[d.jsx("code",{className:"inline-block bg-gray-100 px-2 py-1 rounded-md text-sm",children:"{{ site_source_name }}"}),": Red social (Fb, Ig, Msg, An)"]}),d.jsxs("li",{children:[d.jsx("code",{className:"inline-block bg-gray-100 px-2 py-1 rounded-md text-sm",children:"{{ campaign.name }}"}),": Nombre de la campaa"]})]}),d.jsxs("p",{className:"mt-4",children:["Para ms informacin, consulta la ",d.jsxs("a",{href:"https://www.facebook.com/business/help/952192354843755",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-500",children:["documentacin de Facebook Ads ",d.jsx(No,{className:"h-3 w-3 inline"})]}),"."]})]}),d.jsxs("div",{className:"mt-6 flex justify-between",children:[d.jsx("button",{onClick:()=>_(4),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Anterior"}),d.jsx("button",{onClick:()=>w("analytics"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ver Analytics"})]})]})})})]})]})}):d.jsx(bie,{productId:i.id})]})]})}var Sie={};function Eie(){const[e,t]=W.useState(!1),[r,n]=W.useState(null),i=async()=>{t(!0),n(null);try{const s=await(await fetch("/api/ad-spend/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Sie.REACT_APP_CRON_SECRET||"your-secret-key"}`},body:JSON.stringify({})})).json();n(s)}catch(a){console.error("Error en sincronizacin:",a),n({success:!1,error:"Error de conexin al servidor"})}finally{t(!1)}};return d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Sincronizacin de Gastos Publicitarios"}),d.jsxs("button",{onClick:i,disabled:e,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[d.jsx(kc,{className:`h-4 w-4 mr-2 ${e?"animate-spin":""}`}),e?"Sincronizando...":"Sincronizar Ahora"]})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Este proceso obtiene los gastos publicitarios del da actual desde Meta Ads API y los guarda en la base de datos para cada producto configurado."}),d.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:" Debug y Verificacin"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("a",{href:"/debug/ad-spend-status",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-blue-700 hover:text-blue-800 underline",children:"Ver estado detallado del sistema"}),d.jsxs("p",{className:"text-xs text-blue-600",children:[" Verifica si el cron est funcionando",d.jsx("br",{})," Muestra ltimos datos sincronizados",d.jsx("br",{})," Estado de integraciones de Meta"]})]})]}),r&&d.jsx("div",{className:`p-4 rounded-lg ${r.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:d.jsxs("div",{className:"flex items-center",children:[r.success?d.jsx(zi,{className:"h-5 w-5 text-green-600"}):d.jsx(Nb,{className:"h-5 w-5 text-red-600"}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h4",{className:`text-sm font-medium ${r.success?"text-green-900":"text-red-900"}`,children:r.success?"Sincronizacin Completada":"Error en Sincronizacin"}),d.jsx("div",{className:`text-sm ${r.success?"text-green-700":"text-red-700"} mt-1`,children:r.success?d.jsxs("div",{children:[d.jsx("p",{children:r.message}),typeof r.processed<"u"&&d.jsxs("div",{className:"mt-2 space-y-1",children:[d.jsxs("p",{children:[" Registros procesados: ",r.processed]}),d.jsxs("p",{children:[" Errores: ",r.errors]}),d.jsxs("p",{children:[" Fecha: ",r.date]})]})]}):d.jsx("p",{children:r.error||r.message})})]})]})}),d.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Informacin del Cron Job"}),d.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[d.jsx("p",{children:" Se ejecuta automticamente cada 5 minutos"}),d.jsx("p",{children:" Procesa todas las integraciones activas de Meta"}),d.jsx("p",{children:" Guarda los gastos por producto y cuenta publicitaria"}),d.jsx("p",{children:" Los datos se usan para calcular ROAS en el dashboard"})]})]})]})}function Aie(){const{user:e}=Xn(),[t,r]=W.useState(!0),[n,i]=W.useState(!1),[a,s]=W.useState("UTC"),[o,l]=W.useState(""),[c,u]=W.useState(""),[f,h]=W.useState("private"),[p,v]=W.useState(!1),[m,g]=W.useState(!1),[y,b]=W.useState(""),[x,E]=W.useState(!1),[w,S]=W.useState(!1),[_,A]=W.useState(""),[O,C]=W.useState(null),[j,P]=W.useState(!1),[U,q]=W.useState(""),H=Ps();W.useEffect(()=>{e&&(Z(),te())},[e]);async function Z(){try{if(r(!0),!e)return;const{data:F,error:B}=await Re.from("user_settings").select("timezone, telegram_chat_id, telegram_thread_id, telegram_notification_type").eq("user_id",e.id).maybeSingle();!B&&F&&(s(F.timezone),l(F.telegram_chat_id||""),u(F.telegram_thread_id||""),h(F.telegram_notification_type||"private"),v(F.telegram_notification_type!=="private"||!!F.telegram_thread_id))}catch(F){console.error("Error loading settings:",F)}finally{r(!1)}}async function te(){var F,B;try{if(!e)return;const{data:Y,error:xe}=await Re.from("user_integrations").select(`
          id,
          provider,
          status,
          created_at,
          meta_ad_accounts(count)
        `).eq("user_id",e.id).eq("provider","meta").maybeSingle();!xe&&Y&&C({...Y,ad_accounts_count:((B=(F=Y.meta_ad_accounts)==null?void 0:F[0])==null?void 0:B.count)||0})}catch(Y){console.error("Error loading Meta integration:",Y)}}async function se(F){if(F.preventDefault(),!!e){i(!0),g(!1),b("");try{const{error:B}=await Re.from("user_settings").upsert({user_id:e.id,timezone:a,telegram_chat_id:o||null,telegram_thread_id:c||null,telegram_notification_type:f},{onConflict:"user_id"});if(B)throw B;g(!0),await Z()}catch(B){console.error("Error saving settings:",B),b("Error al guardar la configuracin")}finally{i(!1)}}}const oe=()=>{H("/dashboard")};async function me(){if(e){P(!0),q("");try{const B=`${window.location.origin}/api/auth/meta/callback`;throw new Error("Meta App ID no configurado")}catch(F){console.error("Error connecting to Meta:",F),q(F instanceof Error?F.message:"Error conectando con Meta"),P(!1)}}}async function _e(){if(!(!e||!O))try{const{error:F}=await Re.from("user_integrations").delete().eq("id",O.id);if(F)throw F;C(null)}catch(F){console.error("Error disconnecting Meta:",F),q("Error desconectando Meta")}}async function D(){if(!(!e||!O)){P(!0),q("");try{const F=await fetch("/api/meta/refresh-ad-accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id,integrationId:O.id})}),B=await F.json();if(!F.ok||!B.success)throw new Error(B.error||"Error al actualizar cuentas publicitarias");await te(),console.log(`[Meta Refresh] ${B.adAccountsCount} cuentas publicitarias sincronizadas`)}catch(F){console.error("Error refreshing ad accounts:",F),q(F instanceof Error?F.message:"Error actualizando cuentas publicitarias")}finally{P(!1)}}}async function z(){if(!o.trim()){A("Por favor ingresa un Chat ID vlido antes de probar");return}E(!0),S(!1),A("");try{const F=await fetch("/api/telegram/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatId:o,threadId:c||null,userId:e==null?void 0:e.id})}),B=await F.json();F.ok&&B.success?(S(!0),A("")):(A(B.error||"Error al enviar la notificacin de prueba"),S(!1))}catch(F){console.error("Error testing Telegram notification:",F),A("Error de conexin al probar la notificacin"),S(!1)}finally{E(!1)}}return t?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsx("div",{className:"max-w-3xl mx-auto",children:d.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:d.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[" ",d.jsxs("div",{className:"flex items-center",children:[d.jsx(pp,{className:"h-6 w-6 text-gray-400"}),d.jsx("h3",{className:"ml-2 text-lg leading-6 font-medium text-gray-900",children:"Configuracin"})]}),d.jsxs("button",{onClick:oe,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[d.jsx(Cb,{className:"h-4 w-4 mr-2"}),"Volver"]})]}),m&&d.jsx("div",{className:"mb-4 bg-green-50 border-l-4 border-green-400 p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-green-700",children:"Configuracin guardada exitosamente"})})]})}),y&&d.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-red-700",children:y})})]})}),d.jsxs("form",{onSubmit:se,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"timezone",className:"block text-sm font-medium text-gray-700",children:"Zona Horaria"}),d.jsxs("select",{id:"timezone",value:a,onChange:F=>s(F.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[d.jsx("option",{value:"UTC",children:"UTC"}),d.jsx("option",{value:"America/Bogota",children:"America/Bogota"}),d.jsx("option",{value:"America/Mexico_City",children:"America/Mexico City"}),d.jsx("option",{value:"America/Lima",children:"America/Lima"}),d.jsx("option",{value:"America/Santiago",children:"America/Santiago"}),d.jsx("option",{value:"America/Buenos_Aires",children:"America/Buenos Aires"}),d.jsx("option",{value:"America/Caracas",children:"America/Caracas"}),d.jsx("option",{value:"America/La_Paz",children:"America/La Paz"}),d.jsx("option",{value:"America/Asuncion",children:"America/Asuncion"}),d.jsx("option",{value:"America/Montevideo",children:"America/Montevideo"}),d.jsx("option",{value:"America/Guayaquil",children:"America/Guayaquil"})]}),d.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Esta configuracin afectar cmo se muestran las fechas y horas en tus reportes."})]}),d.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Hi,{className:"h-5 w-5 text-blue-600"}),d.jsx("h4",{className:"ml-2 text-lg font-medium text-gray-900",children:"Integracin con Meta (Facebook/Instagram)"})]})}),O?d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(zi,{className:"h-5 w-5 text-green-600"}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h5",{className:"text-sm font-medium text-green-900",children:"Cuenta Conectada"}),d.jsxs("p",{className:"text-sm text-green-700",children:[O.ad_accounts_count," cuenta(s) publicitaria(s) disponible(s)"]}),d.jsxs("p",{className:"text-xs text-green-600",children:["Conectado el ",new Date(O.created_at).toLocaleDateString()]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{type:"button",onClick:D,disabled:j,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",title:"Sincronizar cuentas publicitarias",children:j?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}):d.jsxs(d.Fragment,{children:[d.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Actualizar"]})}),d.jsxs("button",{type:"button",onClick:_e,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[d.jsx(KO,{className:"h-4 w-4 mr-2"}),"Desconectar"]})]})]})}):d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx(Hi,{className:"h-5 w-5 text-blue-600 mt-0.5"}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h5",{className:"text-sm font-medium text-blue-900",children:"Por qu conectar tu cuenta de Meta?"}),d.jsxs("ul",{className:"mt-2 text-sm text-blue-700 space-y-1",children:[d.jsx("li",{children:" Obtener el gasto publicitario automticamente"}),d.jsx("li",{children:" Calcular el ROAS (Retorno de Inversin Publicitaria)"}),d.jsx("li",{children:" Seleccionar cuentas publicitarias especficas por producto"}),d.jsx("li",{children:" Anlisis completo de rendimiento"})]})]})]})}),d.jsx("button",{type:"button",onClick:me,disabled:j,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:j?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Conectando con Meta..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Conectar con Meta"]})}),U&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:d.jsxs("div",{className:"flex",children:[d.jsx(rr,{className:"h-5 w-5 text-red-400"}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-red-700",children:U})})]})})]})]}),(e==null?void 0:e.role)==="admin"&&d.jsx("div",{className:"border-t border-gray-200 pt-6",children:d.jsx(Eie,{})}),d.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(xd,{className:"h-5 w-5 text-gray-400"}),d.jsx("h4",{className:"ml-2 text-lg font-medium text-gray-900",children:"Notificaciones de Telegram"})]}),d.jsx("button",{type:"button",onClick:()=>v(!p),className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:p?d.jsxs(d.Fragment,{children:[d.jsx(_d,{className:"h-4 w-4 mr-1"}),"Modo Simple",d.jsx(FO,{className:"h-4 w-4 ml-1"})]}):d.jsxs(d.Fragment,{children:[d.jsx(La,{className:"h-4 w-4 mr-1"}),"Modo Avanzado",d.jsx(MO,{className:"h-4 w-4 ml-1"})]})})]}),!p&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-200",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx(_d,{className:"h-5 w-5 text-blue-600"}),d.jsx("h5",{className:"ml-2 text-sm font-medium text-blue-900",children:" Configuracin Simple (Recomendada)"})]}),d.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Perfecta para recibir notificaciones directamente en tu chat privado con el bot."}),d.jsxs("div",{className:"bg-white p-3 rounded border",children:[d.jsx("h6",{className:"text-xs font-semibold text-gray-900 mb-2",children:"PASOS RPIDOS:"}),d.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs text-gray-600",children:[d.jsxs("li",{children:["Abre:"," ",d.jsxs("a",{href:"https://t.me/HotApi_bot",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-indigo-600 hover:text-indigo-500 font-medium",children:["@HotApi_bot",d.jsx(No,{className:"h-3 w-3 ml-1"})]})]}),d.jsxs("li",{children:["Enva ",d.jsx("code",{className:"bg-gray-200 px-1 py-0.5 rounded text-xs",children:"/start"})]}),d.jsx("li",{children:"Copia tu Chat ID"}),d.jsx("li",{children:"Pgalo abajo"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"telegram-chat-id-simple",className:"block text-sm font-medium text-gray-700",children:"Tu Chat ID"}),d.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[d.jsx("input",{type:"text",id:"telegram-chat-id-simple",value:o,onChange:F=>{l(F.target.value),h("private"),u(""),S(!1),A("")},placeholder:"Ej: 123456789",className:"flex-1 block w-full border-gray-300 rounded-l-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),d.jsx("button",{type:"button",onClick:z,disabled:x||!o.trim(),className:"inline-flex items-center px-4 py-2 border border-l-0 border-gray-300 rounded-r-md bg-gray-50 text-gray-700 text-sm font-medium hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-2"}),"Probando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(xd,{className:"h-4 w-4 mr-2"}),"Probar"]})})]}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:" Fcil y directo - las notificaciones llegarn a tu chat privado"})]})]}),p&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-amber-50 p-4 rounded-md border border-amber-200",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx(La,{className:"h-5 w-5 text-amber-600"}),d.jsx("h5",{className:"ml-2 text-sm font-medium text-amber-900",children:" Configuracin Avanzada"})]}),d.jsx("p",{className:"text-sm text-amber-700",children:"Para notificaciones en grupos de Telegram o temas especficos dentro de grupos."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tipo de Notificacin"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"notification-private",name:"notification-type",type:"radio",checked:f==="private",onChange:()=>{h("private"),u("")},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),d.jsxs("label",{htmlFor:"notification-private",className:"ml-3 flex items-center",children:[d.jsx(_d,{className:"h-4 w-4 text-blue-500 mr-2"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Chat Privado"}),d.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Recomendado)"})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"notification-group",name:"notification-type",type:"radio",checked:f==="group",onChange:()=>{h("group"),u("")},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),d.jsxs("label",{htmlFor:"notification-group",className:"ml-3 flex items-center",children:[d.jsx(La,{className:"h-4 w-4 text-green-500 mr-2"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Grupo General"})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"notification-group-topic",name:"notification-type",type:"radio",checked:f==="group_topic",onChange:()=>h("group_topic"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),d.jsxs("label",{htmlFor:"notification-group-topic",className:"ml-3 flex items-center",children:[d.jsx(La,{className:"h-4 w-4 text-purple-500 mr-2"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tema Especfico del Grupo"})]})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"telegram-chat-id-advanced",className:"block text-sm font-medium text-gray-700",children:f==="private"?"Tu Chat ID":"Chat ID del Grupo"}),d.jsx("input",{type:"text",id:"telegram-chat-id-advanced",value:o,onChange:F=>{l(F.target.value),S(!1),A("")},placeholder:f==="private"?"Ej: 123456789":"Ej: -1001234567890",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),f==="group_topic"&&d.jsxs("div",{children:[d.jsx("label",{htmlFor:"telegram-thread-id",className:"block text-sm font-medium text-gray-700",children:"Thread ID del Tema"}),d.jsx("input",{type:"text",id:"telegram-thread-id",value:c,onChange:F=>{u(F.target.value),S(!1),A("")},placeholder:"Ej: 12345",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:" Usa el comando /info dentro del tema especfico para obtener este ID"})]}),d.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[d.jsx("h6",{className:"text-xs font-semibold text-gray-900 mb-2",children:" CMO OBTENER LOS IDs:"}),d.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs text-gray-600",children:[d.jsxs("li",{children:["Agrega el bot a tu ",f==="private"?"chat":"grupo",":"," ",d.jsxs("a",{href:"https://t.me/HotApi_bot",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-indigo-600 hover:text-indigo-500 font-medium",children:["@HotApi_bot",d.jsx(No,{className:"h-3 w-3 ml-1"})]})]}),f!=="private"&&d.jsx("li",{children:"Asegrate de que el bot tenga permisos para enviar mensajes"}),d.jsxs("li",{children:[f==="group_topic"?"Ve al tema especfico y enva":"Enva"," ",d.jsx("code",{className:"bg-gray-200 px-1 py-0.5 rounded text-xs",children:"/info"})]}),d.jsx("li",{children:"Copia los IDs que te proporcione"})]})]}),d.jsx("div",{className:"flex space-x-2",children:d.jsx("button",{type:"button",onClick:z,disabled:x||!o.trim()||f==="group_topic"&&!c.trim(),className:"flex-1 inline-flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Probando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(xd,{className:"h-4 w-4 mr-2"}),"Probar Configuracin"]})})})]})]}),w&&d.jsx("div",{className:"mt-4 bg-green-50 border-l-4 border-green-400 p-3",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-green-700",children:" Notificacin enviada con xito! Revisa tu Telegram."})})]})}),_&&d.jsx("div",{className:"mt-4 bg-red-50 border-l-4 border-red-400 p-3",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),d.jsx("div",{className:"ml-3",children:d.jsxs("p",{className:"text-sm text-red-700",children:[" ",_]})})]})})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{type:"submit",disabled:n,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:n?"Guardando...":"Guardar"})})]})]})})})})}function Tie(){Ps();const[e,t]=W.useState(""),[r,n]=W.useState(""),[i,a]=W.useState(1e4),[s,o]=W.useState(1),[l,c]=W.useState(!1),[u,f]=W.useState(""),[h,p]=W.useState(!1),v=async m=>{m.preventDefault(),c(!0),f(""),p(!1);try{const{data:g,error:y}=await Re.auth.signUp({email:e,password:r});if(y)throw y;if(!g.user)throw new Error("Error creating user");const{error:b}=await Re.from("users").insert([{id:g.user.id,active:!0,max_monthly_events:i,max_products:s,events_count:0,role:"user"}]);if(b)throw await Re.auth.admin.deleteUser(g.user.id),b;p(!0),t(""),n(""),a(1e4),o(1)}catch(g){console.error("Error creating user:",g),f(g instanceof Error?g.message:"Error al crear el usuario")}finally{c(!1)}};return d.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Crear Usuario con Plan"}),u&&d.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx(Nb,{className:"h-5 w-5 text-red-400"}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-red-700",children:u})})]})}),h&&d.jsx("div",{className:"mb-4 bg-green-50 border-l-4 border-green-400 p-4",children:d.jsxs("div",{className:"flex",children:[d.jsx(zi,{className:"h-5 w-5 text-green-400"}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-green-700",children:"Usuario creado exitosamente"})})]})}),d.jsxs("form",{onSubmit:v,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),d.jsx("input",{type:"email",id:"email",value:e,onChange:m=>t(m.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrasea"}),d.jsx("input",{type:"password",id:"password",value:r,onChange:m=>n(m.target.value),required:!0,minLength:6,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"maxEvents",className:"block text-sm font-medium text-gray-700",children:"Eventos Mensuales Mximos"}),d.jsx("input",{type:"number",id:"maxEvents",value:i,onChange:m=>a(parseInt(m.target.value)),required:!0,min:1e3,step:1e3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Nmero mximo de eventos que el usuario puede registrar por mes"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"maxProducts",className:"block text-sm font-medium text-gray-700",children:"Productos Mximos"}),d.jsx("input",{type:"number",id:"maxProducts",value:s,onChange:m=>o(parseInt(m.target.value)),required:!0,min:1,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Nmero mximo de productos que el usuario puede crear"})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{type:"submit",disabled:l,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:l?"Creando...":"Crear Usuario"})})]})]})})}function Oie({onLogout:e,isAdmin:t}){const r=Ps(),n=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).email:"",i=()=>{e(),r("/")};return d.jsx("header",{className:"bg-gradient-to-r from-indigo-600 to-purple-600",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsxs(bn,{to:"/",className:"flex items-center",children:[d.jsx(hp,{className:"h-8 w-8 text-white"}),d.jsx("span",{className:"ml-2 text-white text-xl font-bold",children:"HotAPI"}),d.jsx("span",{className:"ml-1 text-gray-300 text-sm",children:"by Automscc"})]})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[n&&d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(zO,{className:"h-4 w-4 mr-2"}),d.jsx("span",{className:"text-sm",children:n})]}),t&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-white bg-indigo-700 px-3 py-1 rounded-full text-sm",children:"Admin"}),d.jsxs(bn,{to:"/admin/create-user",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-indigo-700 hover:bg-indigo-800",children:[d.jsx(VO,{className:"h-4 w-4 mr-2"}),"Crear Usuario"]})]}),d.jsxs(bn,{to:"/settings",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-indigo-700 hover:bg-indigo-800",children:[d.jsx(pp,{className:"h-4 w-4 mr-2"}),"Ajustes"]}),d.jsxs("button",{onClick:i,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-indigo-700 hover:bg-indigo-800",children:[d.jsx(Db,{className:"h-4 w-4 mr-2"}),"Cerrar Sesin"]})]})]})})})}function Eo({children:e}){const{user:t,loading:r}=Xn();return r?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):t?d.jsx(d.Fragment,{children:e}):d.jsx(ph,{to:"/login"})}function Pie(){const[e,t]=W.useState(""),[r,n]=W.useState(""),[i,a]=W.useState(""),[s,o]=W.useState(""),[l,c]=W.useState(""),[u,f]=W.useState(!1),{signUp:h}=Xn(),p=async v=>{if(v.preventDefault(),o(""),c(""),i!=="admin123"){o("Contrasea de administrador incorrecta.");return}if(r.length<6){o("La contrasea debe tener al menos 6 caracteres.");return}f(!0);try{const{error:m}=await h(e,r);if(m)throw m;c(`Usuario ${e} creado exitosamente! Ahora puedes iniciar sesin.`),t(""),n(""),a("")}catch(m){o(m.message||"Error al crear el usuario.")}finally{f(!1)}};return d.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center py-12 sm:px-6 lg:px-8",children:[d.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:d.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Crear Nuevo Usuario"})}),d.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:d.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[d.jsxs("form",{className:"space-y-6",onSubmit:p,children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email del nuevo usuario"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:v=>t(v.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password","aria-label":"Password",className:"block text-sm font-medium text-gray-700",children:"Contrasea para el nuevo usuario"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:r,onChange:v=>n(v.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"admin-password","aria-label":"Admin Password",className:"block text-sm font-medium text-gray-700",children:"Contrasea de Administrador"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"admin-password",name:"admin-password",type:"password",required:!0,value:i,onChange:v=>a(v.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),s&&d.jsx("p",{className:"text-red-500 text-sm",children:s}),l&&d.jsx("p",{className:"text-green-500 text-sm",children:l}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:u?"Creando...":"Crear Usuario"})})]}),d.jsxs("div",{className:"mt-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Ya tienes una cuenta?"})})]}),d.jsx("div",{className:"mt-6",children:d.jsx(bn,{to:"/",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Ir a Iniciar Sesin"})})]})]})})]})}function jie(){const{user:e,loading:t,signOut:r}=Xn();if(t)return d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})});if(!e)return d.jsxs(Km,{children:[d.jsx(Cn,{path:"/create-user-public",element:d.jsx(Pie,{})}),d.jsx(Cn,{path:"*",element:d.jsx(YO,{})})]});const n=e.role==="admin";return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx(Oie,{onLogout:r,isAdmin:n}),d.jsxs(Km,{children:[d.jsx(Cn,{path:"/",element:d.jsx(Eo,{children:d.jsx(JO,{})})}),d.jsx(Cn,{path:"/products/new",element:d.jsx(Eo,{children:d.jsx(ZO,{})})}),d.jsx(Cn,{path:"/products/:id",element:d.jsx(Eo,{children:d.jsx(_ie,{})})}),d.jsx(Cn,{path:"/settings",element:d.jsx(Eo,{children:d.jsx(Aie,{})})}),n&&d.jsx(Cn,{path:"/admin/create-user",element:d.jsx(Eo,{children:d.jsx(Tie,{})})}),d.jsx(Cn,{path:"/create-user-public",element:d.jsx(ph,{to:"/",replace:!0})}),d.jsx(Cn,{path:"*",element:d.jsx(ph,{to:"/",replace:!0})})]})]})}function Nie(){return d.jsx(xA,{children:d.jsx(DO,{children:d.jsx(jie,{})})})}const hA=document.getElementById("root");if(!hA)throw new Error("Failed to find root element");const Cie=ib(hA);Cie.render(d.jsx(W.StrictMode,{children:d.jsx(Nie,{})}));
